var eq=Object.defineProperty;var tq=(t,e,n)=>e in t?eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gb=(t,e,n)=>tq(t,typeof e!="symbol"?e+"":e,n);function nq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Zo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f4={exports:{}},I1={},d4={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=Symbol.for("react.element"),rq=Symbol.for("react.portal"),iq=Symbol.for("react.fragment"),sq=Symbol.for("react.strict_mode"),oq=Symbol.for("react.profiler"),aq=Symbol.for("react.provider"),lq=Symbol.for("react.context"),uq=Symbol.for("react.forward_ref"),cq=Symbol.for("react.suspense"),fq=Symbol.for("react.memo"),dq=Symbol.for("react.lazy"),DO=Symbol.iterator;function hq(t){return t===null||typeof t!="object"?null:(t=DO&&t[DO]||t["@@iterator"],typeof t=="function"?t:null)}var h4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p4=Object.assign,m4={};function Qd(t,e,n){this.props=t,this.context=e,this.refs=m4,this.updater=n||h4}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g4(){}g4.prototype=Qd.prototype;function GC(t,e,n){this.props=t,this.context=e,this.refs=m4,this.updater=n||h4}var $C=GC.prototype=new g4;$C.constructor=GC;p4($C,Qd.prototype);$C.isPureReactComponent=!0;var kO=Array.isArray,v4=Object.prototype.hasOwnProperty,XC={current:null},y4={key:!0,ref:!0,__self:!0,__source:!0};function x4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)v4.call(e,r)&&!y4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dg,type:t,key:s,ref:o,props:i,_owner:XC.current}}function pq(t,e){return{$$typeof:dg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qC(t){return typeof t=="object"&&t!==null&&t.$$typeof===dg}function mq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FO=/\/+/g;function $b(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mq(""+t.key):e.toString(36)}function Ry(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dg:case rq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$b(o,0):r,kO(i)?(n="",t!=null&&(n=t.replace(FO,"$&/")+"/"),Ry(i,e,n,"",function(u){return u})):i!=null&&(qC(i)&&(i=pq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FO,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kO(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$b(s,a);o+=Ry(s,e,n,l,i)}else if(l=hq(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$b(s,a++),o+=Ry(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tv(t,e,n){if(t==null)return t;var r=[],i=0;return Ry(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mi={current:null},Iy={transition:null},vq={ReactCurrentDispatcher:mi,ReactCurrentBatchConfig:Iy,ReactCurrentOwner:XC};function _4(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:tv,forEach:function(t,e,n){tv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tv(t,function(){e++}),e},toArray:function(t){return tv(t,function(e){return e})||[]},only:function(t){if(!qC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=Qd;Ft.Fragment=iq;Ft.Profiler=oq;Ft.PureComponent=GC;Ft.StrictMode=sq;Ft.Suspense=cq;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vq;Ft.act=_4;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=XC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v4.call(e,l)&&!y4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dg,type:t.type,key:i,ref:s,props:r,_owner:o}};Ft.createContext=function(t){return t={$$typeof:lq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aq,_context:t},t.Consumer=t};Ft.createElement=x4;Ft.createFactory=function(t){var e=x4.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:uq,render:t}};Ft.isValidElement=qC;Ft.lazy=function(t){return{$$typeof:dq,_payload:{_status:-1,_result:t},_init:gq}};Ft.memo=function(t,e){return{$$typeof:fq,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=Iy.transition;Iy.transition={};try{t()}finally{Iy.transition=e}};Ft.unstable_act=_4;Ft.useCallback=function(t,e){return mi.current.useCallback(t,e)};Ft.useContext=function(t){return mi.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return mi.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return mi.current.useEffect(t,e)};Ft.useId=function(){return mi.current.useId()};Ft.useImperativeHandle=function(t,e,n){return mi.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return mi.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return mi.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return mi.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return mi.current.useReducer(t,e,n)};Ft.useRef=function(t){return mi.current.useRef(t)};Ft.useState=function(t){return mi.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return mi.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return mi.current.useTransition()};Ft.version="18.3.1";d4.exports=Ft;var N=d4.exports;const sn=Zo(N),S4=nq({__proto__:null,default:sn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yq=N,xq=Symbol.for("react.element"),_q=Symbol.for("react.fragment"),Sq=Object.prototype.hasOwnProperty,wq=yq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bq={key:!0,ref:!0,__self:!0,__source:!0};function w4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sq.call(e,r)&&!bq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xq,type:t,key:s,ref:o,props:i,_owner:wq.current}}I1.Fragment=_q;I1.jsx=w4;I1.jsxs=w4;f4.exports=I1;var C=f4.exports,fA={},b4={exports:{}},os={},M4={exports:{}},E4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var Z=G-1>>>1,fe=F[Z];if(0<i(fe,$))F[Z]=$,F[G]=fe,G=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var Z=0,fe=F.length,Ee=fe>>>1;Z<Ee;){var Ge=2*(Z+1)-1,ct=F[Ge],ae=Ge+1,ye=F[ae];if(0>i(ct,G))ae<fe&&0>i(ye,ct)?(F[Z]=ye,F[ae]=G,Z=ae):(F[Z]=ct,F[Ge]=G,Z=Ge);else if(ae<fe&&0>i(ye,G))F[Z]=ye,F[ae]=G,Z=ae;else break e}}return $}function i(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function M(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,K(E);else{var $=n(u);$!==null&&q(M,$.startTime-F)}}function E(F,$){g=!1,x&&(x=!1,v(L),L=-1),m=!0;var G=h;try{for(w($),f=n(l);f!==null&&(!(f.expirationTime>$)||F&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var fe=Z(f.expirationTime<=$);$=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),w($)}else r(l);f=n(l)}if(f!==null)var Ee=!0;else{var Ge=n(u);Ge!==null&&q(M,Ge.startTime-$),Ee=!1}return Ee}finally{f=null,h=G,m=!1}}var T=!1,I=null,L=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function U(){if(I!==null){var F=t.unstable_now();R=F;var $=!0;try{$=I(!0,F)}finally{$?V():(T=!1,I=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=U,V=function(){Y.postMessage(null)}}else V=function(){y(U,0)};function K(F){I=F,T||(T=!0,V())}function q(F,$){L=y(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return F()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(F,$,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,F){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,F={id:c++,callback:$,priorityLevel:F,startTime:G,expirationTime:fe,sortIndex:-1},G>Z?(F.sortIndex=G,e(u,F),n(l)===null&&F===n(u)&&(x?(v(L),L=-1):x=!0,q(M,G-Z))):(F.sortIndex=fe,e(l,F),g||m||(g=!0,K(E))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var $=h;return function(){var G=h;h=$;try{return F.apply(this,arguments)}finally{h=G}}}})(E4);M4.exports=E4;var Mq=M4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eq=N,rs=Mq;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A4=new Set,om={};function Bc(t,e){Td(t,e),Td(t+"Capture",e)}function Td(t,e){for(om[t]=e,t=0;t<e.length;t++)A4.add(e[t])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dA=Object.prototype.hasOwnProperty,Aq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UO={},zO={};function Tq(t){return dA.call(zO,t)?!0:dA.call(UO,t)?!1:Aq.test(t)?zO[t]=!0:(UO[t]=!0,!1)}function Cq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pq(t,e,n,r){if(e===null||typeof e>"u"||Cq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lr[t]=new gi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lr[e]=new gi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lr[t]=new gi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lr[t]=new gi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lr[t]=new gi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lr[t]=new gi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lr[t]=new gi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lr[t]=new gi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lr[t]=new gi(t,5,!1,t.toLowerCase(),null,!1,!1)});var YC=/[\-:]([a-z])/g;function KC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YC,KC);Lr[e]=new gi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YC,KC);Lr[e]=new gi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YC,KC);Lr[e]=new gi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lr[t]=new gi(t,1,!1,t.toLowerCase(),null,!1,!1)});Lr.xlinkHref=new gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lr[t]=new gi(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZC(t,e,n,r){var i=Lr.hasOwnProperty(e)?Lr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pq(e,n,i,r)&&(n=null),r||i===null?Tq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ba=Eq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nv=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),JC=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),T4=Symbol.for("react.provider"),C4=Symbol.for("react.context"),QC=Symbol.for("react.forward_ref"),pA=Symbol.for("react.suspense"),mA=Symbol.for("react.suspense_list"),eP=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),P4=Symbol.for("react.offscreen"),BO=Symbol.iterator;function $h(t){return t===null||typeof t!="object"?null:(t=BO&&t[BO]||t["@@iterator"],typeof t=="function"?t:null)}var Ln=Object.assign,Xb;function Ap(t){if(Xb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xb=e&&e[1]||""}return`
`+Xb+t}var qb=!1;function Yb(t,e){if(!t||qb)return"";qb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ap(t):""}function Rq(t){switch(t.tag){case 5:return Ap(t.type);case 16:return Ap("Lazy");case 13:return Ap("Suspense");case 19:return Ap("SuspenseList");case 0:case 2:case 15:return t=Yb(t.type,!1),t;case 11:return t=Yb(t.type.render,!1),t;case 1:return t=Yb(t.type,!0),t;default:return""}}function gA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xf:return"Fragment";case $f:return"Portal";case hA:return"Profiler";case JC:return"StrictMode";case pA:return"Suspense";case mA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C4:return(t.displayName||"Context")+".Consumer";case T4:return(t._context.displayName||"Context")+".Provider";case QC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eP:return e=t.displayName||null,e!==null?e:gA(t.type)||"Memo";case dl:e=t._payload,t=t._init;try{return gA(t(e))}catch{}}return null}function Iq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gA(e);case 8:return e===JC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nq(t){var e=R4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rv(t){t._valueTracker||(t._valueTracker=Nq(t))}function I4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ax(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vA(t,e){var n=e.checked;return Ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N4(t,e){e=e.checked,e!=null&&ZC(t,"checked",e,!1)}function yA(t,e){N4(t,e);var n=zl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xA(t,e.type,n):e.hasOwnProperty("defaultValue")&&xA(t,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xA(t,e,n){(e!=="number"||ax(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tp=Array.isArray;function gd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _A(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Pe(92));if(Tp(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zl(n)}}function O4(t,e){var n=zl(e.value),r=zl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iv,D4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(iv=iv||document.createElement("div"),iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function am(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oq=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(t){Oq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kp[e]=kp[t]})});function k4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kp.hasOwnProperty(t)&&kp[t]?(""+e).trim():e+"px"}function F4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lq=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wA(t,e){if(e){if(Lq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function bA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MA=null;function tP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var EA=null,vd=null,yd=null;function GO(t){if(t=mg(t)){if(typeof EA!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=k1(e),EA(t.stateNode,t.type,e))}}function U4(t){vd?yd?yd.push(t):yd=[t]:vd=t}function z4(){if(vd){var t=vd,e=yd;if(yd=vd=null,GO(t),e)for(t=0;t<e.length;t++)GO(e[t])}}function B4(t,e){return t(e)}function V4(){}var Kb=!1;function j4(t,e,n){if(Kb)return t(e,n);Kb=!0;try{return B4(t,e,n)}finally{Kb=!1,(vd!==null||yd!==null)&&(V4(),z4())}}function lm(t,e){var n=t.stateNode;if(n===null)return null;var r=k1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Pe(231,e,typeof n));return n}var AA=!1;if(Ea)try{var Xh={};Object.defineProperty(Xh,"passive",{get:function(){AA=!0}}),window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{AA=!1}function Dq(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fp=!1,lx=null,ux=!1,TA=null,kq={onError:function(t){Fp=!0,lx=t}};function Fq(t,e,n,r,i,s,o,a,l){Fp=!1,lx=null,Dq.apply(kq,arguments)}function Uq(t,e,n,r,i,s,o,a,l){if(Fq.apply(this,arguments),Fp){if(Fp){var u=lx;Fp=!1,lx=null}else throw Error(Pe(198));ux||(ux=!0,TA=u)}}function Vc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $O(t){if(Vc(t)!==t)throw Error(Pe(188))}function zq(t){var e=t.alternate;if(!e){if(e=Vc(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $O(i),t;if(s===r)return $O(i),e;s=s.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?t:e}function W4(t){return t=zq(t),t!==null?G4(t):null}function G4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G4(t);if(e!==null)return e;t=t.sibling}return null}var $4=rs.unstable_scheduleCallback,XO=rs.unstable_cancelCallback,Bq=rs.unstable_shouldYield,Vq=rs.unstable_requestPaint,qn=rs.unstable_now,jq=rs.unstable_getCurrentPriorityLevel,nP=rs.unstable_ImmediatePriority,X4=rs.unstable_UserBlockingPriority,cx=rs.unstable_NormalPriority,Hq=rs.unstable_LowPriority,q4=rs.unstable_IdlePriority,N1=null,Bo=null;function Wq(t){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(N1,t,void 0,(t.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:Xq,Gq=Math.log,$q=Math.LN2;function Xq(t){return t>>>=0,t===0?32:31-(Gq(t)/$q|0)|0}var sv=64,ov=4194304;function Cp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Cp(a):(s&=o,s!==0&&(r=Cp(s)))}else o=n&~i,o!==0?r=Cp(o):s!==0&&(r=Cp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-io(e),i=1<<n,r|=t[n],e&=~i;return r}function qq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-io(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=qq(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function CA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y4(){var t=sv;return sv<<=1,!(sv&4194240)&&(sv=64),t}function Zb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-io(e),t[e]=n}function Kq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-io(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rn=0;function K4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z4,iP,J4,Q4,e5,PA=!1,av=[],Cl=null,Pl=null,Rl=null,um=new Map,cm=new Map,gl=[],Zq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qO(t,e){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":um.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cm.delete(e.pointerId)}}function qh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mg(e),e!==null&&iP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jq(t,e,n,r,i){switch(e){case"focusin":return Cl=qh(Cl,t,e,n,r,i),!0;case"dragenter":return Pl=qh(Pl,t,e,n,r,i),!0;case"mouseover":return Rl=qh(Rl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return um.set(s,qh(um.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cm.set(s,qh(cm.get(s)||null,t,e,n,r,i)),!0}return!1}function t5(t){var e=qu(t.target);if(e!==null){var n=Vc(e);if(n!==null){if(e=n.tag,e===13){if(e=H4(n),e!==null){t.blockedOn=e,e5(t.priority,function(){J4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ny(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);MA=r,n.target.dispatchEvent(r),MA=null}else return e=mg(n),e!==null&&iP(e),t.blockedOn=n,!1;e.shift()}return!0}function YO(t,e,n){Ny(t)&&n.delete(e)}function Qq(){PA=!1,Cl!==null&&Ny(Cl)&&(Cl=null),Pl!==null&&Ny(Pl)&&(Pl=null),Rl!==null&&Ny(Rl)&&(Rl=null),um.forEach(YO),cm.forEach(YO)}function Yh(t,e){t.blockedOn===e&&(t.blockedOn=null,PA||(PA=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,Qq)))}function fm(t){function e(i){return Yh(i,t)}if(0<av.length){Yh(av[0],t);for(var n=1;n<av.length;n++){var r=av[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cl!==null&&Yh(Cl,t),Pl!==null&&Yh(Pl,t),Rl!==null&&Yh(Rl,t),um.forEach(e),cm.forEach(e),n=0;n<gl.length;n++)r=gl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gl.length&&(n=gl[0],n.blockedOn===null);)t5(n),n.blockedOn===null&&gl.shift()}var xd=Ba.ReactCurrentBatchConfig,dx=!0;function eY(t,e,n,r){var i=rn,s=xd.transition;xd.transition=null;try{rn=1,sP(t,e,n,r)}finally{rn=i,xd.transition=s}}function tY(t,e,n,r){var i=rn,s=xd.transition;xd.transition=null;try{rn=4,sP(t,e,n,r)}finally{rn=i,xd.transition=s}}function sP(t,e,n,r){if(dx){var i=RA(t,e,n,r);if(i===null)aM(t,e,r,hx,n),qO(t,r);else if(Jq(i,t,e,n,r))r.stopPropagation();else if(qO(t,r),e&4&&-1<Zq.indexOf(t)){for(;i!==null;){var s=mg(i);if(s!==null&&Z4(s),s=RA(t,e,n,r),s===null&&aM(t,e,r,hx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else aM(t,e,r,null,n)}}var hx=null;function RA(t,e,n,r){if(hx=null,t=tP(r),t=qu(t),t!==null)if(e=Vc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hx=t,null}function n5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jq()){case nP:return 1;case X4:return 4;case cx:case Hq:return 16;case q4:return 536870912;default:return 16}default:return 16}}var _l=null,oP=null,Oy=null;function r5(){if(Oy)return Oy;var t,e=oP,n=e.length,r,i="value"in _l?_l.value:_l.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oy=i.slice(t,1<r?1-r:void 0)}function Ly(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lv(){return!0}function KO(){return!1}function as(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lv:KO,this.isPropagationStopped=KO,this}return Ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lv)},persist:function(){},isPersistent:lv}),e}var eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aP=as(eh),pg=Ln({},eh,{view:0,detail:0}),nY=as(pg),Jb,Qb,Kh,O1=Ln({},pg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kh&&(Kh&&t.type==="mousemove"?(Jb=t.screenX-Kh.screenX,Qb=t.screenY-Kh.screenY):Qb=Jb=0,Kh=t),Jb)},movementY:function(t){return"movementY"in t?t.movementY:Qb}}),ZO=as(O1),rY=Ln({},O1,{dataTransfer:0}),iY=as(rY),sY=Ln({},pg,{relatedTarget:0}),eM=as(sY),oY=Ln({},eh,{animationName:0,elapsedTime:0,pseudoElement:0}),aY=as(oY),lY=Ln({},eh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uY=as(lY),cY=Ln({},eh,{data:0}),JO=as(cY),fY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hY[t])?!!e[t]:!1}function lP(){return pY}var mY=Ln({},pg,{key:function(t){if(t.key){var e=fY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ly(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lP,charCode:function(t){return t.type==="keypress"?Ly(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ly(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gY=as(mY),vY=Ln({},O1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QO=as(vY),yY=Ln({},pg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lP}),xY=as(yY),_Y=Ln({},eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),SY=as(_Y),wY=Ln({},O1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bY=as(wY),MY=[9,13,27,32],uP=Ea&&"CompositionEvent"in window,Up=null;Ea&&"documentMode"in document&&(Up=document.documentMode);var EY=Ea&&"TextEvent"in window&&!Up,i5=Ea&&(!uP||Up&&8<Up&&11>=Up),e3=" ",t3=!1;function s5(t,e){switch(t){case"keyup":return MY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qf=!1;function AY(t,e){switch(t){case"compositionend":return o5(e);case"keypress":return e.which!==32?null:(t3=!0,e3);case"textInput":return t=e.data,t===e3&&t3?null:t;default:return null}}function TY(t,e){if(qf)return t==="compositionend"||!uP&&s5(t,e)?(t=r5(),Oy=oP=_l=null,qf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i5&&e.locale!=="ko"?null:e.data;default:return null}}var CY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CY[t.type]:e==="textarea"}function a5(t,e,n,r){U4(r),e=px(e,"onChange"),0<e.length&&(n=new aP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zp=null,dm=null;function PY(t){y5(t,0)}function L1(t){var e=Zf(t);if(I4(e))return t}function RY(t,e){if(t==="change")return e}var l5=!1;if(Ea){var tM;if(Ea){var nM="oninput"in document;if(!nM){var r3=document.createElement("div");r3.setAttribute("oninput","return;"),nM=typeof r3.oninput=="function"}tM=nM}else tM=!1;l5=tM&&(!document.documentMode||9<document.documentMode)}function i3(){zp&&(zp.detachEvent("onpropertychange",u5),dm=zp=null)}function u5(t){if(t.propertyName==="value"&&L1(dm)){var e=[];a5(e,dm,t,tP(t)),j4(PY,e)}}function IY(t,e,n){t==="focusin"?(i3(),zp=e,dm=n,zp.attachEvent("onpropertychange",u5)):t==="focusout"&&i3()}function NY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L1(dm)}function OY(t,e){if(t==="click")return L1(e)}function LY(t,e){if(t==="input"||t==="change")return L1(e)}function DY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lo=typeof Object.is=="function"?Object.is:DY;function hm(t,e){if(lo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dA.call(e,i)||!lo(t[i],e[i]))return!1}return!0}function s3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o3(t,e){var n=s3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s3(n)}}function c5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f5(){for(var t=window,e=ax();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ax(t.document)}return e}function cP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kY(t){var e=f5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&c5(n.ownerDocument.documentElement,n)){if(r!==null&&cP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=o3(n,s);var o=o3(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FY=Ea&&"documentMode"in document&&11>=document.documentMode,Yf=null,IA=null,Bp=null,NA=!1;function a3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;NA||Yf==null||Yf!==ax(r)||(r=Yf,"selectionStart"in r&&cP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bp&&hm(Bp,r)||(Bp=r,r=px(IA,"onSelect"),0<r.length&&(e=new aP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yf)))}function uv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kf={animationend:uv("Animation","AnimationEnd"),animationiteration:uv("Animation","AnimationIteration"),animationstart:uv("Animation","AnimationStart"),transitionend:uv("Transition","TransitionEnd")},rM={},d5={};Ea&&(d5=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function D1(t){if(rM[t])return rM[t];if(!Kf[t])return t;var e=Kf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d5)return rM[t]=e[n];return t}var h5=D1("animationend"),p5=D1("animationiteration"),m5=D1("animationstart"),g5=D1("transitionend"),v5=new Map,l3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(t,e){v5.set(t,e),Bc(e,[t])}for(var iM=0;iM<l3.length;iM++){var sM=l3[iM],UY=sM.toLowerCase(),zY=sM[0].toUpperCase()+sM.slice(1);Yl(UY,"on"+zY)}Yl(h5,"onAnimationEnd");Yl(p5,"onAnimationIteration");Yl(m5,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(g5,"onTransitionEnd");Td("onMouseEnter",["mouseout","mouseover"]);Td("onMouseLeave",["mouseout","mouseover"]);Td("onPointerEnter",["pointerout","pointerover"]);Td("onPointerLeave",["pointerout","pointerover"]);Bc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function u3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uq(r,e,void 0,t),t.currentTarget=null}function y5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;u3(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;u3(i,a,u),s=l}}}if(ux)throw t=TA,ux=!1,TA=null,t}function yn(t,e){var n=e[FA];n===void 0&&(n=e[FA]=new Set);var r=t+"__bubble";n.has(r)||(x5(e,t,2,!1),n.add(r))}function oM(t,e,n){var r=0;e&&(r|=4),x5(n,t,r,e)}var cv="_reactListening"+Math.random().toString(36).slice(2);function pm(t){if(!t[cv]){t[cv]=!0,A4.forEach(function(n){n!=="selectionchange"&&(BY.has(n)||oM(n,!1,t),oM(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cv]||(e[cv]=!0,oM("selectionchange",!1,e))}}function x5(t,e,n,r){switch(n5(e)){case 1:var i=eY;break;case 4:i=tY;break;default:i=sP}n=i.bind(null,e,n,t),i=void 0,!AA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function aM(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}j4(function(){var u=s,c=tP(n),f=[];e:{var h=v5.get(t);if(h!==void 0){var m=aP,g=t;switch(t){case"keypress":if(Ly(n)===0)break e;case"keydown":case"keyup":m=gY;break;case"focusin":g="focus",m=eM;break;case"focusout":g="blur",m=eM;break;case"beforeblur":case"afterblur":m=eM;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ZO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xY;break;case h5:case p5:case m5:m=aY;break;case g5:m=SY;break;case"scroll":m=nY;break;case"wheel":m=bY;break;case"copy":case"cut":case"paste":m=uY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=QO}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var S=u,w;S!==null;){w=S;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,v!==null&&(M=lm(S,v),M!=null&&x.push(mm(S,M,w)))),y)break;S=S.return}0<x.length&&(h=new m(h,g,null,n,c),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==MA&&(g=n.relatedTarget||n.fromElement)&&(qu(g)||g[Aa]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?qu(g):null,g!==null&&(y=Vc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=ZO,M="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=QO,M="onPointerLeave",v="onPointerEnter",S="pointer"),y=m==null?h:Zf(m),w=g==null?h:Zf(g),h=new x(M,S+"leave",m,n,c),h.target=y,h.relatedTarget=w,M=null,qu(c)===u&&(x=new x(v,S+"enter",g,n,c),x.target=w,x.relatedTarget=y,M=x),y=M,m&&g)t:{for(x=m,v=g,S=0,w=x;w;w=ff(w))S++;for(w=0,M=v;M;M=ff(M))w++;for(;0<S-w;)x=ff(x),S--;for(;0<w-S;)v=ff(v),w--;for(;S--;){if(x===v||v!==null&&x===v.alternate)break t;x=ff(x),v=ff(v)}x=null}else x=null;m!==null&&c3(f,h,m,x,!1),g!==null&&y!==null&&c3(f,y,g,x,!0)}}e:{if(h=u?Zf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=RY;else if(n3(h))if(l5)E=LY;else{E=NY;var T=IY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=OY);if(E&&(E=E(t,u))){a5(f,E,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&xA(h,"number",h.value)}switch(T=u?Zf(u):window,t){case"focusin":(n3(T)||T.contentEditable==="true")&&(Yf=T,IA=u,Bp=null);break;case"focusout":Bp=IA=Yf=null;break;case"mousedown":NA=!0;break;case"contextmenu":case"mouseup":case"dragend":NA=!1,a3(f,n,c);break;case"selectionchange":if(FY)break;case"keydown":case"keyup":a3(f,n,c)}var I;if(uP)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else qf?s5(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(i5&&n.locale!=="ko"&&(qf||L!=="onCompositionStart"?L==="onCompositionEnd"&&qf&&(I=r5()):(_l=c,oP="value"in _l?_l.value:_l.textContent,qf=!0)),T=px(u,L),0<T.length&&(L=new JO(L,t,null,n,c),f.push({event:L,listeners:T}),I?L.data=I:(I=o5(n),I!==null&&(L.data=I)))),(I=EY?AY(t,n):TY(t,n))&&(u=px(u,"onBeforeInput"),0<u.length&&(c=new JO("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}y5(f,e)})}function mm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function px(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lm(t,n),s!=null&&r.unshift(mm(t,s,i)),s=lm(t,e),s!=null&&r.push(mm(t,s,i))),t=t.return}return r}function ff(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c3(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=lm(n,s),l!=null&&o.unshift(mm(n,l,a))):i||(l=lm(n,s),l!=null&&o.push(mm(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VY=/\r\n?/g,jY=/\u0000|\uFFFD/g;function f3(t){return(typeof t=="string"?t:""+t).replace(VY,`
`).replace(jY,"")}function fv(t,e,n){if(e=f3(e),f3(t)!==e&&n)throw Error(Pe(425))}function mx(){}var OA=null,LA=null;function DA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kA=typeof setTimeout=="function"?setTimeout:void 0,HY=typeof clearTimeout=="function"?clearTimeout:void 0,d3=typeof Promise=="function"?Promise:void 0,WY=typeof queueMicrotask=="function"?queueMicrotask:typeof d3<"u"?function(t){return d3.resolve(null).then(t).catch(GY)}:kA;function GY(t){setTimeout(function(){throw t})}function lM(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fm(e)}function Il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var th=Math.random().toString(36).slice(2),No="__reactFiber$"+th,gm="__reactProps$"+th,Aa="__reactContainer$"+th,FA="__reactEvents$"+th,$Y="__reactListeners$"+th,XY="__reactHandles$"+th;function qu(t){var e=t[No];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Aa]||n[No]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h3(t);t!==null;){if(n=t[No])return n;t=h3(t)}return e}t=n,n=t.parentNode}return null}function mg(t){return t=t[No]||t[Aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function k1(t){return t[gm]||null}var UA=[],Jf=-1;function Kl(t){return{current:t}}function Sn(t){0>Jf||(t.current=UA[Jf],UA[Jf]=null,Jf--)}function pn(t,e){Jf++,UA[Jf]=t.current,t.current=e}var Bl={},Qr=Kl(Bl),Ni=Kl(!1),xc=Bl;function Cd(t,e){var n=t.type.contextTypes;if(!n)return Bl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Oi(t){return t=t.childContextTypes,t!=null}function gx(){Sn(Ni),Sn(Qr)}function p3(t,e,n){if(Qr.current!==Bl)throw Error(Pe(168));pn(Qr,e),pn(Ni,n)}function _5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Pe(108,Iq(t)||"Unknown",i));return Ln({},n,r)}function vx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bl,xc=Qr.current,pn(Qr,t),pn(Ni,Ni.current),!0}function m3(t,e,n){var r=t.stateNode;if(!r)throw Error(Pe(169));n?(t=_5(t,e,xc),r.__reactInternalMemoizedMergedChildContext=t,Sn(Ni),Sn(Qr),pn(Qr,t)):Sn(Ni),pn(Ni,n)}var pa=null,F1=!1,uM=!1;function S5(t){pa===null?pa=[t]:pa.push(t)}function qY(t){F1=!0,S5(t)}function Zl(){if(!uM&&pa!==null){uM=!0;var t=0,e=rn;try{var n=pa;for(rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pa=null,F1=!1}catch(i){throw pa!==null&&(pa=pa.slice(t+1)),$4(nP,Zl),i}finally{rn=e,uM=!1}}return null}var Qf=[],ed=0,yx=null,xx=0,_s=[],Ss=0,_c=null,ya=1,xa="";function Bu(t,e){Qf[ed++]=xx,Qf[ed++]=yx,yx=t,xx=e}function w5(t,e,n){_s[Ss++]=ya,_s[Ss++]=xa,_s[Ss++]=_c,_c=t;var r=ya;t=xa;var i=32-io(r)-1;r&=~(1<<i),n+=1;var s=32-io(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ya=1<<32-io(e)+i|n<<i|r,xa=s+t}else ya=1<<s|n<<i|r,xa=t}function fP(t){t.return!==null&&(Bu(t,1),w5(t,1,0))}function dP(t){for(;t===yx;)yx=Qf[--ed],Qf[ed]=null,xx=Qf[--ed],Qf[ed]=null;for(;t===_c;)_c=_s[--Ss],_s[Ss]=null,xa=_s[--Ss],_s[Ss]=null,ya=_s[--Ss],_s[Ss]=null}var Ji=null,Yi=null,En=!1,Ks=null;function b5(t,e){var n=ws(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ji=t,Yi=Il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ji=t,Yi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_c!==null?{id:ya,overflow:xa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ws(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ji=t,Yi=null,!0):!1;default:return!1}}function zA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BA(t){if(En){var e=Yi;if(e){var n=e;if(!g3(t,e)){if(zA(t))throw Error(Pe(418));e=Il(n.nextSibling);var r=Ji;e&&g3(t,e)?b5(r,n):(t.flags=t.flags&-4097|2,En=!1,Ji=t)}}else{if(zA(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,En=!1,Ji=t}}}function v3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ji=t}function dv(t){if(t!==Ji)return!1;if(!En)return v3(t),En=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DA(t.type,t.memoizedProps)),e&&(e=Yi)){if(zA(t))throw M5(),Error(Pe(418));for(;e;)b5(t,e),e=Il(e.nextSibling)}if(v3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yi=Il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yi=null}}else Yi=Ji?Il(t.stateNode.nextSibling):null;return!0}function M5(){for(var t=Yi;t;)t=Il(t.nextSibling)}function Pd(){Yi=Ji=null,En=!1}function hP(t){Ks===null?Ks=[t]:Ks.push(t)}var YY=Ba.ReactCurrentBatchConfig;function Zh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,t))}return t}function hv(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y3(t){var e=t._init;return e(t._payload)}function E5(t){function e(v,S){if(t){var w=v.deletions;w===null?(v.deletions=[S],v.flags|=16):w.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Dl(v,S),v.index=0,v.sibling=null,v}function s(v,S,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<S?(v.flags|=2,S):w):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,S,w,M){return S===null||S.tag!==6?(S=gM(w,v.mode,M),S.return=v,S):(S=i(S,w),S.return=v,S)}function l(v,S,w,M){var E=w.type;return E===Xf?c(v,S,w.props.children,M,w.key):S!==null&&(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&y3(E)===S.type)?(M=i(S,w.props),M.ref=Zh(v,S,w),M.return=v,M):(M=Vy(w.type,w.key,w.props,null,v.mode,M),M.ref=Zh(v,S,w),M.return=v,M)}function u(v,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=vM(w,v.mode,M),S.return=v,S):(S=i(S,w.children||[]),S.return=v,S)}function c(v,S,w,M,E){return S===null||S.tag!==7?(S=lc(w,v.mode,M,E),S.return=v,S):(S=i(S,w),S.return=v,S)}function f(v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=gM(""+S,v.mode,w),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nv:return w=Vy(S.type,S.key,S.props,null,v.mode,w),w.ref=Zh(v,null,S),w.return=v,w;case $f:return S=vM(S,v.mode,w),S.return=v,S;case dl:var M=S._init;return f(v,M(S._payload),w)}if(Tp(S)||$h(S))return S=lc(S,v.mode,w,null),S.return=v,S;hv(v,S)}return null}function h(v,S,w,M){var E=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(v,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nv:return w.key===E?l(v,S,w,M):null;case $f:return w.key===E?u(v,S,w,M):null;case dl:return E=w._init,h(v,S,E(w._payload),M)}if(Tp(w)||$h(w))return E!==null?null:c(v,S,w,M,null);hv(v,w)}return null}function m(v,S,w,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(w)||null,a(S,v,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case nv:return v=v.get(M.key===null?w:M.key)||null,l(S,v,M,E);case $f:return v=v.get(M.key===null?w:M.key)||null,u(S,v,M,E);case dl:var T=M._init;return m(v,S,w,T(M._payload),E)}if(Tp(M)||$h(M))return v=v.get(w)||null,c(S,v,M,E,null);hv(S,M)}return null}function g(v,S,w,M){for(var E=null,T=null,I=S,L=S=0,P=null;I!==null&&L<w.length;L++){I.index>L?(P=I,I=null):P=I.sibling;var R=h(v,I,w[L],M);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(v,I),S=s(R,S,L),T===null?E=R:T.sibling=R,T=R,I=P}if(L===w.length)return n(v,I),En&&Bu(v,L),E;if(I===null){for(;L<w.length;L++)I=f(v,w[L],M),I!==null&&(S=s(I,S,L),T===null?E=I:T.sibling=I,T=I);return En&&Bu(v,L),E}for(I=r(v,I);L<w.length;L++)P=m(I,v,L,w[L],M),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?L:P.key),S=s(P,S,L),T===null?E=P:T.sibling=P,T=P);return t&&I.forEach(function(k){return e(v,k)}),En&&Bu(v,L),E}function x(v,S,w,M){var E=$h(w);if(typeof E!="function")throw Error(Pe(150));if(w=E.call(w),w==null)throw Error(Pe(151));for(var T=E=null,I=S,L=S=0,P=null,R=w.next();I!==null&&!R.done;L++,R=w.next()){I.index>L?(P=I,I=null):P=I.sibling;var k=h(v,I,R.value,M);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(v,I),S=s(k,S,L),T===null?E=k:T.sibling=k,T=k,I=P}if(R.done)return n(v,I),En&&Bu(v,L),E;if(I===null){for(;!R.done;L++,R=w.next())R=f(v,R.value,M),R!==null&&(S=s(R,S,L),T===null?E=R:T.sibling=R,T=R);return En&&Bu(v,L),E}for(I=r(v,I);!R.done;L++,R=w.next())R=m(I,v,L,R.value,M),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?L:R.key),S=s(R,S,L),T===null?E=R:T.sibling=R,T=R);return t&&I.forEach(function(U){return e(v,U)}),En&&Bu(v,L),E}function y(v,S,w,M){if(typeof w=="object"&&w!==null&&w.type===Xf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nv:e:{for(var E=w.key,T=S;T!==null;){if(T.key===E){if(E=w.type,E===Xf){if(T.tag===7){n(v,T.sibling),S=i(T,w.props.children),S.return=v,v=S;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&y3(E)===T.type){n(v,T.sibling),S=i(T,w.props),S.ref=Zh(v,T,w),S.return=v,v=S;break e}n(v,T);break}else e(v,T);T=T.sibling}w.type===Xf?(S=lc(w.props.children,v.mode,M,w.key),S.return=v,v=S):(M=Vy(w.type,w.key,w.props,null,v.mode,M),M.ref=Zh(v,S,w),M.return=v,v=M)}return o(v);case $f:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(v,S.sibling),S=i(S,w.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=vM(w,v.mode,M),S.return=v,v=S}return o(v);case dl:return T=w._init,y(v,S,T(w._payload),M)}if(Tp(w))return g(v,S,w,M);if($h(w))return x(v,S,w,M);hv(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,w),S.return=v,v=S):(n(v,S),S=gM(w,v.mode,M),S.return=v,v=S),o(v)):n(v,S)}return y}var Rd=E5(!0),A5=E5(!1),_x=Kl(null),Sx=null,td=null,pP=null;function mP(){pP=td=Sx=null}function gP(t){var e=_x.current;Sn(_x),t._currentValue=e}function VA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _d(t,e){Sx=t,pP=td=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ci=!0),t.firstContext=null)}function Cs(t){var e=t._currentValue;if(pP!==t)if(t={context:t,memoizedValue:e,next:null},td===null){if(Sx===null)throw Error(Pe(308));td=t,Sx.dependencies={lanes:0,firstContext:t}}else td=td.next=t;return e}var Yu=null;function vP(t){Yu===null?Yu=[t]:Yu.push(t)}function T5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ta(t,r)}function Ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hl=!1;function yP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ta(t,n)}return i=r.interleaved,i===null?(e.next=e,vP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ta(t,n)}function Dy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rP(t,n)}}function x3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wx(t,e,n,r){var i=t.updateQueue;hl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(h=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Ln({},f,h);break e;case 2:hl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wc|=o,t.lanes=o,t.memoizedState=f}}function _3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var gg={},Vo=Kl(gg),vm=Kl(gg),ym=Kl(gg);function Ku(t){if(t===gg)throw Error(Pe(174));return t}function xP(t,e){switch(pn(ym,e),pn(vm,t),pn(Vo,gg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SA(e,t)}Sn(Vo),pn(Vo,e)}function Id(){Sn(Vo),Sn(vm),Sn(ym)}function P5(t){Ku(ym.current);var e=Ku(Vo.current),n=SA(e,t.type);e!==n&&(pn(vm,t),pn(Vo,n))}function _P(t){vm.current===t&&(Sn(Vo),Sn(vm))}var Pn=Kl(0);function bx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cM=[];function SP(){for(var t=0;t<cM.length;t++)cM[t]._workInProgressVersionPrimary=null;cM.length=0}var ky=Ba.ReactCurrentDispatcher,fM=Ba.ReactCurrentBatchConfig,Sc=0,Nn=null,lr=null,_r=null,Mx=!1,Vp=!1,xm=0,KY=0;function jr(){throw Error(Pe(321))}function wP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lo(t[n],e[n]))return!1;return!0}function bP(t,e,n,r,i,s){if(Sc=s,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ky.current=t===null||t.memoizedState===null?eK:tK,t=n(r,i),Vp){s=0;do{if(Vp=!1,xm=0,25<=s)throw Error(Pe(301));s+=1,_r=lr=null,e.updateQueue=null,ky.current=nK,t=n(r,i)}while(Vp)}if(ky.current=Ex,e=lr!==null&&lr.next!==null,Sc=0,_r=lr=Nn=null,Mx=!1,e)throw Error(Pe(300));return t}function MP(){var t=xm!==0;return xm=0,t}function Ro(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Nn.memoizedState=_r=t:_r=_r.next=t,_r}function Ps(){if(lr===null){var t=Nn.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=_r===null?Nn.memoizedState:_r.next;if(e!==null)_r=e,lr=t;else{if(t===null)throw Error(Pe(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},_r===null?Nn.memoizedState=_r=t:_r=_r.next=t}return _r}function _m(t,e){return typeof e=="function"?e(t):e}function dM(t){var e=Ps(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Sc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Nn.lanes|=c,wc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lo(r,e.memoizedState)||(Ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nn.lanes|=s,wc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hM(t){var e=Ps(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lo(s,e.memoizedState)||(Ci=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function R5(){}function I5(t,e){var n=Nn,r=Ps(),i=e(),s=!lo(r.memoizedState,i);if(s&&(r.memoizedState=i,Ci=!0),r=r.queue,EP(L5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_r!==null&&_r.memoizedState.tag&1){if(n.flags|=2048,Sm(9,O5.bind(null,n,r,i,e),void 0,null),wr===null)throw Error(Pe(349));Sc&30||N5(n,e,i)}return i}function N5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O5(t,e,n,r){e.value=n,e.getSnapshot=r,D5(e)&&k5(t)}function L5(t,e,n){return n(function(){D5(e)&&k5(t)})}function D5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lo(t,n)}catch{return!0}}function k5(t){var e=Ta(t,1);e!==null&&so(e,t,1,-1)}function S3(t){var e=Ro();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:t},e.queue=t,t=t.dispatch=QY.bind(null,Nn,t),[e.memoizedState,t]}function Sm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F5(){return Ps().memoizedState}function Fy(t,e,n,r){var i=Ro();Nn.flags|=t,i.memoizedState=Sm(1|e,n,void 0,r===void 0?null:r)}function U1(t,e,n,r){var i=Ps();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&wP(r,o.deps)){i.memoizedState=Sm(e,n,s,r);return}}Nn.flags|=t,i.memoizedState=Sm(1|e,n,s,r)}function w3(t,e){return Fy(8390656,8,t,e)}function EP(t,e){return U1(2048,8,t,e)}function U5(t,e){return U1(4,2,t,e)}function z5(t,e){return U1(4,4,t,e)}function B5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V5(t,e,n){return n=n!=null?n.concat([t]):null,U1(4,4,B5.bind(null,e,t),n)}function AP(){}function j5(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H5(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W5(t,e,n){return Sc&21?(lo(n,e)||(n=Y4(),Nn.lanes|=n,wc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ci=!0),t.memoizedState=n)}function ZY(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var r=fM.transition;fM.transition={};try{t(!1),e()}finally{rn=n,fM.transition=r}}function G5(){return Ps().memoizedState}function JY(t,e,n){var r=Ll(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$5(t))X5(e,n);else if(n=T5(t,e,n,r),n!==null){var i=di();so(n,t,r,i),q5(n,e,r)}}function QY(t,e,n){var r=Ll(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($5(t))X5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lo(a,o)){var l=e.interleaved;l===null?(i.next=i,vP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=T5(t,e,i,r),n!==null&&(i=di(),so(n,t,r,i),q5(n,e,r))}}function $5(t){var e=t.alternate;return t===Nn||e!==null&&e===Nn}function X5(t,e){Vp=Mx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rP(t,n)}}var Ex={readContext:Cs,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},eK={readContext:Cs,useCallback:function(t,e){return Ro().memoizedState=[t,e===void 0?null:e],t},useContext:Cs,useEffect:w3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fy(4194308,4,B5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fy(4,2,t,e)},useMemo:function(t,e){var n=Ro();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ro();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JY.bind(null,Nn,t),[r.memoizedState,t]},useRef:function(t){var e=Ro();return t={current:t},e.memoizedState=t},useState:S3,useDebugValue:AP,useDeferredValue:function(t){return Ro().memoizedState=t},useTransition:function(){var t=S3(!1),e=t[0];return t=ZY.bind(null,t[1]),Ro().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nn,i=Ro();if(En){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=e(),wr===null)throw Error(Pe(349));Sc&30||N5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,w3(L5.bind(null,r,s,t),[t]),r.flags|=2048,Sm(9,O5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ro(),e=wr.identifierPrefix;if(En){var n=xa,r=ya;n=(r&~(1<<32-io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tK={readContext:Cs,useCallback:j5,useContext:Cs,useEffect:EP,useImperativeHandle:V5,useInsertionEffect:U5,useLayoutEffect:z5,useMemo:H5,useReducer:dM,useRef:F5,useState:function(){return dM(_m)},useDebugValue:AP,useDeferredValue:function(t){var e=Ps();return W5(e,lr.memoizedState,t)},useTransition:function(){var t=dM(_m)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:R5,useSyncExternalStore:I5,useId:G5,unstable_isNewReconciler:!1},nK={readContext:Cs,useCallback:j5,useContext:Cs,useEffect:EP,useImperativeHandle:V5,useInsertionEffect:U5,useLayoutEffect:z5,useMemo:H5,useReducer:hM,useRef:F5,useState:function(){return hM(_m)},useDebugValue:AP,useDeferredValue:function(t){var e=Ps();return lr===null?e.memoizedState=t:W5(e,lr.memoizedState,t)},useTransition:function(){var t=hM(_m)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:R5,useSyncExternalStore:I5,useId:G5,unstable_isNewReconciler:!1};function qs(t,e){if(t&&t.defaultProps){e=Ln({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ln({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var z1={isMounted:function(t){return(t=t._reactInternals)?Vc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ll(t),s=wa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nl(t,s,i),e!==null&&(so(e,t,i,r),Dy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ll(t),s=wa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nl(t,s,i),e!==null&&(so(e,t,i,r),Dy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=Ll(t),i=wa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nl(t,i,r),e!==null&&(so(e,t,r,n),Dy(e,t,r))}};function b3(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hm(n,r)||!hm(i,s):!0}function Y5(t,e,n){var r=!1,i=Bl,s=e.contextType;return typeof s=="object"&&s!==null?s=Cs(s):(i=Oi(e)?xc:Qr.current,r=e.contextTypes,s=(r=r!=null)?Cd(t,i):Bl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function M3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&z1.enqueueReplaceState(e,e.state,null)}function HA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cs(s):(s=Oi(e)?xc:Qr.current,i.context=Cd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jA(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z1.enqueueReplaceState(i,i.state,null),wx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nd(t,e){try{var n="",r=e;do n+=Rq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pM(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function WA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rK=typeof WeakMap=="function"?WeakMap:Map;function K5(t,e,n){n=wa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tx||(Tx=!0,eT=r),WA(t,e)},n}function Z5(t,e,n){n=wa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){WA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){WA(t,e),typeof r!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function E3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vK.bind(null,t,e,n),e.then(t,t))}function A3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wa(-1,1),e.tag=2,Nl(n,e,1))),n.lanes|=1),t)}var iK=Ba.ReactCurrentOwner,Ci=!1;function si(t,e,n,r){e.child=t===null?A5(e,null,n,r):Rd(e,t.child,n,r)}function C3(t,e,n,r,i){n=n.render;var s=e.ref;return _d(e,i),r=bP(t,e,n,r,s,i),n=MP(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ca(t,e,i)):(En&&n&&fP(e),e.flags|=1,si(t,e,r,i),e.child)}function P3(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!LP(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,J5(t,e,s,r,i)):(t=Vy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hm,n(o,r)&&t.ref===e.ref)return Ca(t,e,i)}return e.flags|=1,t=Dl(s,r),t.ref=e.ref,t.return=e,e.child=t}function J5(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hm(s,r)&&t.ref===e.ref)if(Ci=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ci=!0);else return e.lanes=t.lanes,Ca(t,e,i)}return GA(t,e,n,r,i)}function Q5(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(rd,Xi),Xi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(rd,Xi),Xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pn(rd,Xi),Xi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pn(rd,Xi),Xi|=r;return si(t,e,i,n),e.child}function eV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function GA(t,e,n,r,i){var s=Oi(n)?xc:Qr.current;return s=Cd(e,s),_d(e,i),n=bP(t,e,n,r,s,i),r=MP(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ca(t,e,i)):(En&&r&&fP(e),e.flags|=1,si(t,e,n,i),e.child)}function R3(t,e,n,r,i){if(Oi(n)){var s=!0;vx(e)}else s=!1;if(_d(e,i),e.stateNode===null)Uy(t,e),Y5(e,n,r),HA(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cs(u):(u=Oi(n)?xc:Qr.current,u=Cd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&M3(e,o,r,u),hl=!1;var h=e.memoizedState;o.state=h,wx(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ni.current||hl?(typeof c=="function"&&(jA(e,n,c,r),l=e.memoizedState),(a=hl||b3(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,C5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qs(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cs(l):(l=Oi(n)?xc:Qr.current,l=Cd(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&M3(e,o,r,l),hl=!1,h=e.memoizedState,o.state=h,wx(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||Ni.current||hl?(typeof m=="function"&&(jA(e,n,m,r),g=e.memoizedState),(u=hl||b3(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $A(t,e,n,r,s,i)}function $A(t,e,n,r,i,s){eV(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m3(e,n,!1),Ca(t,e,s);r=e.stateNode,iK.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rd(e,t.child,null,s),e.child=Rd(e,null,a,s)):si(t,e,a,s),e.memoizedState=r.state,i&&m3(e,n,!0),e.child}function tV(t){var e=t.stateNode;e.pendingContext?p3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p3(t,e.context,!1),xP(t,e.containerInfo)}function I3(t,e,n,r,i){return Pd(),hP(i),e.flags|=256,si(t,e,n,r),e.child}var XA={dehydrated:null,treeContext:null,retryLane:0};function qA(t){return{baseLanes:t,cachePool:null,transitions:null}}function nV(t,e,n){var r=e.pendingProps,i=Pn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(Pn,i&1),t===null)return BA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=j1(o,r,0,null),t=lc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qA(n),e.memoizedState=XA,t):TP(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sK(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Dl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Dl(a,s):(s=lc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=XA,r}return s=t.child,t=s.sibling,r=Dl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TP(t,e){return e=j1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pv(t,e,n,r){return r!==null&&hP(r),Rd(e,t.child,null,n),t=TP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sK(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pM(Error(Pe(422))),pv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=j1({mode:"visible",children:r.children},i,0,null),s=lc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rd(e,t.child,null,o),e.child.memoizedState=qA(o),e.memoizedState=XA,s);if(!(e.mode&1))return pv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Pe(419)),r=pM(s,r,void 0),pv(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ci||a){if(r=wr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ta(t,i),so(r,t,i,-1))}return OP(),r=pM(Error(Pe(421))),pv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yi=Il(i.nextSibling),Ji=e,En=!0,Ks=null,t!==null&&(_s[Ss++]=ya,_s[Ss++]=xa,_s[Ss++]=_c,ya=t.id,xa=t.overflow,_c=e),e=TP(e,r.children),e.flags|=4096,e)}function N3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VA(t.return,e,n)}function mM(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rV(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(si(t,e,r.children,n),r=Pn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N3(t,n,e);else if(t.tag===19)N3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(Pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mM(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mM(e,!0,n,null,s);break;case"together":mM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ca(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,n=Dl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oK(t,e,n){switch(e.tag){case 3:tV(e),Pd();break;case 5:P5(e);break;case 1:Oi(e.type)&&vx(e);break;case 4:xP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(_x,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(Pn,Pn.current&1),e.flags|=128,null):n&e.child.childLanes?nV(t,e,n):(pn(Pn,Pn.current&1),t=Ca(t,e,n),t!==null?t.sibling:null);pn(Pn,Pn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(Pn,Pn.current),r)break;return null;case 22:case 23:return e.lanes=0,Q5(t,e,n)}return Ca(t,e,n)}var iV,YA,sV,oV;iV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};YA=function(){};sV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ku(Vo.current);var s=null;switch(n){case"input":i=vA(t,i),r=vA(t,r),s=[];break;case"select":i=Ln({},i,{value:void 0}),r=Ln({},r,{value:void 0}),s=[];break;case"textarea":i=_A(t,i),r=_A(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mx)}wA(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(om.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(om.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oV=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jh(t,e){if(!En)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aK(t,e,n){var r=e.pendingProps;switch(dP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Oi(e.type)&&gx(),Hr(e),null;case 3:return r=e.stateNode,Id(),Sn(Ni),Sn(Qr),SP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ks!==null&&(rT(Ks),Ks=null))),YA(t,e),Hr(e),null;case 5:_P(e);var i=Ku(ym.current);if(n=e.type,t!==null&&e.stateNode!=null)sV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Pe(166));return Hr(e),null}if(t=Ku(Vo.current),dv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[No]=e,r[gm]=s,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<Pp.length;i++)yn(Pp[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":VO(r,s),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yn("invalid",r);break;case"textarea":HO(r,s),yn("invalid",r)}wA(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fv(r.textContent,a,t),i=["children",""+a]):om.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yn("scroll",r)}switch(n){case"input":rv(r),jO(r,s,!0);break;case"textarea":rv(r),WO(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[No]=e,t[gm]=r,iV(t,e,!1,!1),e.stateNode=t;e:{switch(o=bA(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pp.length;i++)yn(Pp[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":VO(t,r),i=vA(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ln({},r,{value:void 0}),yn("invalid",t);break;case"textarea":HO(t,r),i=_A(t,r),yn("invalid",t);break;default:i=r}wA(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?F4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&am(t,l):typeof l=="number"&&am(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(om.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yn("scroll",t):l!=null&&ZC(t,s,l,o))}switch(n){case"input":rv(t),jO(t,r,!1);break;case"textarea":rv(t),WO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gd(t,!!r.multiple,s,!1):r.defaultValue!=null&&gd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)oV(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Pe(166));if(n=Ku(ym.current),Ku(Vo.current),dv(e)){if(r=e.stateNode,n=e.memoizedProps,r[No]=e,(s=r.nodeValue!==n)&&(t=Ji,t!==null))switch(t.tag){case 3:fv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[No]=e,e.stateNode=r}return Hr(e),null;case 13:if(Sn(Pn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(En&&Yi!==null&&e.mode&1&&!(e.flags&128))M5(),Pd(),e.flags|=98560,s=!1;else if(s=dv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[No]=e}else Pd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),s=!1}else Ks!==null&&(rT(Ks),Ks=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pn.current&1?cr===0&&(cr=3):OP())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return Id(),YA(t,e),t===null&&pm(e.stateNode.containerInfo),Hr(e),null;case 10:return gP(e.type._context),Hr(e),null;case 17:return Oi(e.type)&&gx(),Hr(e),null;case 19:if(Sn(Pn),s=e.memoizedState,s===null)return Hr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jh(s,!1);else{if(cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bx(t),o!==null){for(e.flags|=128,Jh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(Pn,Pn.current&1|2),e.child}t=t.sibling}s.tail!==null&&qn()>Od&&(e.flags|=128,r=!0,Jh(s,!1),e.lanes=4194304)}else{if(!r)if(t=bx(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!En)return Hr(e),null}else 2*qn()-s.renderingStartTime>Od&&n!==1073741824&&(e.flags|=128,r=!0,Jh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qn(),e.sibling=null,n=Pn.current,pn(Pn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return NP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xi&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function lK(t,e){switch(dP(e),e.tag){case 1:return Oi(e.type)&&gx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Id(),Sn(Ni),Sn(Qr),SP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _P(e),null;case 13:if(Sn(Pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Pd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Pn),null;case 4:return Id(),null;case 10:return gP(e.type._context),null;case 22:case 23:return NP(),null;case 24:return null;default:return null}}var mv=!1,Xr=!1,uK=typeof WeakSet=="function"?WeakSet:Set,tt=null;function nd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vn(t,e,r)}else n.current=null}function KA(t,e,n){try{n()}catch(r){Vn(t,e,r)}}var O3=!1;function cK(t,e){if(OA=dx,t=f5(),cP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(LA={focusedElem:t,selectionRange:n},dx=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:qs(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(M){Vn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}return g=O3,O3=!1,g}function jp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&KA(e,n,s)}i=i.next}while(i!==r)}}function B1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ZA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aV(t){var e=t.alternate;e!==null&&(t.alternate=null,aV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[No],delete e[gm],delete e[FA],delete e[$Y],delete e[XY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lV(t){return t.tag===5||t.tag===3||t.tag===4}function L3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function JA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mx));else if(r!==4&&(t=t.child,t!==null))for(JA(t,e,n),t=t.sibling;t!==null;)JA(t,e,n),t=t.sibling}function QA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(QA(t,e,n),t=t.sibling;t!==null;)QA(t,e,n),t=t.sibling}var Pr=null,Ys=!1;function nl(t,e,n){for(n=n.child;n!==null;)uV(t,e,n),n=n.sibling}function uV(t,e,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(N1,n)}catch{}switch(n.tag){case 5:Xr||nd(n,e);case 6:var r=Pr,i=Ys;Pr=null,nl(t,e,n),Pr=r,Ys=i,Pr!==null&&(Ys?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Ys?(t=Pr,n=n.stateNode,t.nodeType===8?lM(t.parentNode,n):t.nodeType===1&&lM(t,n),fm(t)):lM(Pr,n.stateNode));break;case 4:r=Pr,i=Ys,Pr=n.stateNode.containerInfo,Ys=!0,nl(t,e,n),Pr=r,Ys=i;break;case 0:case 11:case 14:case 15:if(!Xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&KA(n,e,o),i=i.next}while(i!==r)}nl(t,e,n);break;case 1:if(!Xr&&(nd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vn(n,e,a)}nl(t,e,n);break;case 21:nl(t,e,n);break;case 22:n.mode&1?(Xr=(r=Xr)||n.memoizedState!==null,nl(t,e,n),Xr=r):nl(t,e,n);break;default:nl(t,e,n)}}function D3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uK),e.forEach(function(r){var i=xK.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,Ys=!1;break e;case 3:Pr=a.stateNode.containerInfo,Ys=!0;break e;case 4:Pr=a.stateNode.containerInfo,Ys=!0;break e}a=a.return}if(Pr===null)throw Error(Pe(160));uV(s,o,i),Pr=null,Ys=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Vn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cV(e,t),e=e.sibling}function cV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(js(e,t),wo(t),r&4){try{jp(3,t,t.return),B1(3,t)}catch(x){Vn(t,t.return,x)}try{jp(5,t,t.return)}catch(x){Vn(t,t.return,x)}}break;case 1:js(e,t),wo(t),r&512&&n!==null&&nd(n,n.return);break;case 5:if(js(e,t),wo(t),r&512&&n!==null&&nd(n,n.return),t.flags&32){var i=t.stateNode;try{am(i,"")}catch(x){Vn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&N4(i,s),bA(a,o);var u=bA(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?F4(i,f):c==="dangerouslySetInnerHTML"?D4(i,f):c==="children"?am(i,f):ZC(i,c,f,u)}switch(a){case"input":yA(i,s);break;case"textarea":O4(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?gd(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?gd(i,!!s.multiple,s.defaultValue,!0):gd(i,!!s.multiple,s.multiple?[]:"",!1))}i[gm]=s}catch(x){Vn(t,t.return,x)}}break;case 6:if(js(e,t),wo(t),r&4){if(t.stateNode===null)throw Error(Pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Vn(t,t.return,x)}}break;case 3:if(js(e,t),wo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fm(e.containerInfo)}catch(x){Vn(t,t.return,x)}break;case 4:js(e,t),wo(t);break;case 13:js(e,t),wo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(RP=qn())),r&4&&D3(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xr=(u=Xr)||c,js(e,t),Xr=u):js(e,t),wo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(tt=t,c=t.child;c!==null;){for(f=tt=c;tt!==null;){switch(h=tt,m=h.child,h.tag){case 0:case 11:case 14:case 15:jp(4,h,h.return);break;case 1:nd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Vn(r,n,x)}}break;case 5:nd(h,h.return);break;case 22:if(h.memoizedState!==null){F3(f);continue}}m!==null?(m.return=h,tt=m):F3(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=k4("display",o))}catch(x){Vn(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Vn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:js(e,t),wo(t),r&4&&D3(t);break;case 21:break;default:js(e,t),wo(t)}}function wo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lV(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(am(i,""),r.flags&=-33);var s=L3(t);QA(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L3(t);JA(t,a,o);break;default:throw Error(Pe(161))}}catch(l){Vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fK(t,e,n){tt=t,fV(t)}function fV(t,e,n){for(var r=(t.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xr;a=mv;var u=Xr;if(mv=o,(Xr=l)&&!u)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?U3(i):l!==null?(l.return=o,tt=l):U3(i);for(;s!==null;)tt=s,fV(s),s=s.sibling;tt=i,mv=a,Xr=u}k3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):k3(t)}}function k3(t){for(;tt!==null;){var e=tt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xr||B1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_3(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&fm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Xr||e.flags&512&&ZA(e)}catch(h){Vn(e,e.return,h)}}if(e===t){tt=null;break}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}}function F3(t){for(;tt!==null;){var e=tt;if(e===t){tt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,tt=n;break}tt=e.return}}function U3(t){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{B1(4,e)}catch(l){Vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vn(e,i,l)}}var s=e.return;try{ZA(e)}catch(l){Vn(e,s,l)}break;case 5:var o=e.return;try{ZA(e)}catch(l){Vn(e,o,l)}}}catch(l){Vn(e,e.return,l)}if(e===t){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var dK=Math.ceil,Ax=Ba.ReactCurrentDispatcher,CP=Ba.ReactCurrentOwner,Es=Ba.ReactCurrentBatchConfig,Wt=0,wr=null,nr=null,Nr=0,Xi=0,rd=Kl(0),cr=0,wm=null,wc=0,V1=0,PP=0,Hp=null,Ai=null,RP=0,Od=1/0,ha=null,Tx=!1,eT=null,Ol=null,gv=!1,Sl=null,Cx=0,Wp=0,tT=null,zy=-1,By=0;function di(){return Wt&6?qn():zy!==-1?zy:zy=qn()}function Ll(t){return t.mode&1?Wt&2&&Nr!==0?Nr&-Nr:YY.transition!==null?(By===0&&(By=Y4()),By):(t=rn,t!==0||(t=window.event,t=t===void 0?16:n5(t.type)),t):1}function so(t,e,n,r){if(50<Wp)throw Wp=0,tT=null,Error(Pe(185));hg(t,n,r),(!(Wt&2)||t!==wr)&&(t===wr&&(!(Wt&2)&&(V1|=n),cr===4&&vl(t,Nr)),Li(t,r),n===1&&Wt===0&&!(e.mode&1)&&(Od=qn()+500,F1&&Zl()))}function Li(t,e){var n=t.callbackNode;Yq(t,e);var r=fx(t,t===wr?Nr:0);if(r===0)n!==null&&XO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XO(n),e===1)t.tag===0?qY(z3.bind(null,t)):S5(z3.bind(null,t)),WY(function(){!(Wt&6)&&Zl()}),n=null;else{switch(K4(r)){case 1:n=nP;break;case 4:n=X4;break;case 16:n=cx;break;case 536870912:n=q4;break;default:n=cx}n=xV(n,dV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dV(t,e){if(zy=-1,By=0,Wt&6)throw Error(Pe(327));var n=t.callbackNode;if(Sd()&&t.callbackNode!==n)return null;var r=fx(t,t===wr?Nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Px(t,r);else{e=r;var i=Wt;Wt|=2;var s=pV();(wr!==t||Nr!==e)&&(ha=null,Od=qn()+500,ac(t,e));do try{mK();break}catch(a){hV(t,a)}while(!0);mP(),Ax.current=s,Wt=i,nr!==null?e=0:(wr=null,Nr=0,e=cr)}if(e!==0){if(e===2&&(i=CA(t),i!==0&&(r=i,e=nT(t,i))),e===1)throw n=wm,ac(t,0),vl(t,r),Li(t,qn()),n;if(e===6)vl(t,r);else{if(i=t.current.alternate,!(r&30)&&!hK(i)&&(e=Px(t,r),e===2&&(s=CA(t),s!==0&&(r=s,e=nT(t,s))),e===1))throw n=wm,ac(t,0),vl(t,r),Li(t,qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Pe(345));case 2:Vu(t,Ai,ha);break;case 3:if(vl(t,r),(r&130023424)===r&&(e=RP+500-qn(),10<e)){if(fx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kA(Vu.bind(null,t,Ai,ha),e);break}Vu(t,Ai,ha);break;case 4:if(vl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-io(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dK(r/1960))-r,10<r){t.timeoutHandle=kA(Vu.bind(null,t,Ai,ha),r);break}Vu(t,Ai,ha);break;case 5:Vu(t,Ai,ha);break;default:throw Error(Pe(329))}}}return Li(t,qn()),t.callbackNode===n?dV.bind(null,t):null}function nT(t,e){var n=Hp;return t.current.memoizedState.isDehydrated&&(ac(t,e).flags|=256),t=Px(t,e),t!==2&&(e=Ai,Ai=n,e!==null&&rT(e)),t}function rT(t){Ai===null?Ai=t:Ai.push.apply(Ai,t)}function hK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vl(t,e){for(e&=~PP,e&=~V1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-io(e),r=1<<n;t[n]=-1,e&=~r}}function z3(t){if(Wt&6)throw Error(Pe(327));Sd();var e=fx(t,0);if(!(e&1))return Li(t,qn()),null;var n=Px(t,e);if(t.tag!==0&&n===2){var r=CA(t);r!==0&&(e=r,n=nT(t,r))}if(n===1)throw n=wm,ac(t,0),vl(t,e),Li(t,qn()),n;if(n===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vu(t,Ai,ha),Li(t,qn()),null}function IP(t,e){var n=Wt;Wt|=1;try{return t(e)}finally{Wt=n,Wt===0&&(Od=qn()+500,F1&&Zl())}}function bc(t){Sl!==null&&Sl.tag===0&&!(Wt&6)&&Sd();var e=Wt;Wt|=1;var n=Es.transition,r=rn;try{if(Es.transition=null,rn=1,t)return t()}finally{rn=r,Es.transition=n,Wt=e,!(Wt&6)&&Zl()}}function NP(){Xi=rd.current,Sn(rd)}function ac(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HY(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(dP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gx();break;case 3:Id(),Sn(Ni),Sn(Qr),SP();break;case 5:_P(r);break;case 4:Id();break;case 13:Sn(Pn);break;case 19:Sn(Pn);break;case 10:gP(r.type._context);break;case 22:case 23:NP()}n=n.return}if(wr=t,nr=t=Dl(t.current,null),Nr=Xi=e,cr=0,wm=null,PP=V1=wc=0,Ai=Hp=null,Yu!==null){for(e=0;e<Yu.length;e++)if(n=Yu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yu=null}return t}function hV(t,e){do{var n=nr;try{if(mP(),ky.current=Ex,Mx){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mx=!1}if(Sc=0,_r=lr=Nn=null,Vp=!1,xm=0,CP.current=null,n===null||n.return===null){cr=1,wm=e,nr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=A3(o);if(m!==null){m.flags&=-257,T3(m,o,a,s,e),m.mode&1&&E3(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){E3(s,u,e),OP();break e}l=Error(Pe(426))}}else if(En&&a.mode&1){var y=A3(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),T3(y,o,a,s,e),hP(Nd(l,a));break e}}s=l=Nd(l,a),cr!==4&&(cr=2),Hp===null?Hp=[s]:Hp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=K5(s,l,e);x3(s,v);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ol===null||!Ol.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=Z5(s,a,e);x3(s,M);break e}}s=s.return}while(s!==null)}gV(n)}catch(E){e=E,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function pV(){var t=Ax.current;return Ax.current=Ex,t===null?Ex:t}function OP(){(cr===0||cr===3||cr===2)&&(cr=4),wr===null||!(wc&268435455)&&!(V1&268435455)||vl(wr,Nr)}function Px(t,e){var n=Wt;Wt|=2;var r=pV();(wr!==t||Nr!==e)&&(ha=null,ac(t,e));do try{pK();break}catch(i){hV(t,i)}while(!0);if(mP(),Wt=n,Ax.current=r,nr!==null)throw Error(Pe(261));return wr=null,Nr=0,cr}function pK(){for(;nr!==null;)mV(nr)}function mK(){for(;nr!==null&&!Bq();)mV(nr)}function mV(t){var e=yV(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,e===null?gV(t):nr=e,CP.current=null}function gV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lK(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cr=6,nr=null;return}}else if(n=aK(n,e,Xi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);cr===0&&(cr=5)}function Vu(t,e,n){var r=rn,i=Es.transition;try{Es.transition=null,rn=1,gK(t,e,n,r)}finally{Es.transition=i,rn=r}return null}function gK(t,e,n,r){do Sd();while(Sl!==null);if(Wt&6)throw Error(Pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kq(t,s),t===wr&&(nr=wr=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gv||(gv=!0,xV(cx,function(){return Sd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Es.transition,Es.transition=null;var o=rn;rn=1;var a=Wt;Wt|=4,CP.current=null,cK(t,n),cV(n,t),kY(LA),dx=!!OA,LA=OA=null,t.current=n,fK(n),Vq(),Wt=a,rn=o,Es.transition=s}else t.current=n;if(gv&&(gv=!1,Sl=t,Cx=i),s=t.pendingLanes,s===0&&(Ol=null),Wq(n.stateNode),Li(t,qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tx)throw Tx=!1,t=eT,eT=null,t;return Cx&1&&t.tag!==0&&Sd(),s=t.pendingLanes,s&1?t===tT?Wp++:(Wp=0,tT=t):Wp=0,Zl(),null}function Sd(){if(Sl!==null){var t=K4(Cx),e=Es.transition,n=rn;try{if(Es.transition=null,rn=16>t?16:t,Sl===null)var r=!1;else{if(t=Sl,Sl=null,Cx=0,Wt&6)throw Error(Pe(331));var i=Wt;for(Wt|=4,tt=t.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(tt=u;tt!==null;){var c=tt;switch(c.tag){case 0:case 11:case 15:jp(8,c,s)}var f=c.child;if(f!==null)f.return=c,tt=f;else for(;tt!==null;){c=tt;var h=c.sibling,m=c.return;if(aV(c),c===u){tt=null;break}if(h!==null){h.return=m,tt=h;break}tt=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,tt=v;break e}tt=s.return}}var S=t.current;for(tt=S;tt!==null;){o=tt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,tt=w;else e:for(o=S;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:B1(9,a)}}catch(E){Vn(a,a.return,E)}if(a===o){tt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,tt=M;break e}tt=a.return}}if(Wt=i,Zl(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(N1,t)}catch{}r=!0}return r}finally{rn=n,Es.transition=e}}return!1}function B3(t,e,n){e=Nd(n,e),e=K5(t,e,1),t=Nl(t,e,1),e=di(),t!==null&&(hg(t,1,e),Li(t,e))}function Vn(t,e,n){if(t.tag===3)B3(t,t,n);else for(;e!==null;){if(e.tag===3){B3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ol===null||!Ol.has(r))){t=Nd(n,t),t=Z5(e,t,1),e=Nl(e,t,1),t=di(),e!==null&&(hg(e,1,t),Li(e,t));break}}e=e.return}}function vK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,wr===t&&(Nr&n)===n&&(cr===4||cr===3&&(Nr&130023424)===Nr&&500>qn()-RP?ac(t,0):PP|=n),Li(t,e)}function vV(t,e){e===0&&(t.mode&1?(e=ov,ov<<=1,!(ov&130023424)&&(ov=4194304)):e=1);var n=di();t=Ta(t,e),t!==null&&(hg(t,e,n),Li(t,n))}function yK(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vV(t,n)}function xK(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(e),vV(t,n)}var yV;yV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ni.current)Ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ci=!1,oK(t,e,n);Ci=!!(t.flags&131072)}else Ci=!1,En&&e.flags&1048576&&w5(e,xx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uy(t,e),t=e.pendingProps;var i=Cd(e,Qr.current);_d(e,n),i=bP(null,e,r,t,i,n);var s=MP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oi(r)?(s=!0,vx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yP(e),i.updater=z1,e.stateNode=i,i._reactInternals=e,HA(e,r,t,n),e=$A(null,e,r,!0,s,n)):(e.tag=0,En&&s&&fP(e),si(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SK(r),t=qs(r,t),i){case 0:e=GA(null,e,r,t,n);break e;case 1:e=R3(null,e,r,t,n);break e;case 11:e=C3(null,e,r,t,n);break e;case 14:e=P3(null,e,r,qs(r.type,t),n);break e}throw Error(Pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qs(r,i),GA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qs(r,i),R3(t,e,r,i,n);case 3:e:{if(tV(e),t===null)throw Error(Pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,C5(t,e),wx(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nd(Error(Pe(423)),e),e=I3(t,e,r,n,i);break e}else if(r!==i){i=Nd(Error(Pe(424)),e),e=I3(t,e,r,n,i);break e}else for(Yi=Il(e.stateNode.containerInfo.firstChild),Ji=e,En=!0,Ks=null,n=A5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pd(),r===i){e=Ca(t,e,n);break e}si(t,e,r,n)}e=e.child}return e;case 5:return P5(e),t===null&&BA(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,DA(r,i)?o=null:s!==null&&DA(r,s)&&(e.flags|=32),eV(t,e),si(t,e,o,n),e.child;case 6:return t===null&&BA(e),null;case 13:return nV(t,e,n);case 4:return xP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rd(e,null,r,n):si(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qs(r,i),C3(t,e,r,i,n);case 7:return si(t,e,e.pendingProps,n),e.child;case 8:return si(t,e,e.pendingProps.children,n),e.child;case 12:return si(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pn(_x,r._currentValue),r._currentValue=o,s!==null)if(lo(s.value,o)){if(s.children===i.children&&!Ni.current){e=Ca(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),VA(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),VA(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}si(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_d(e,n),i=Cs(i),r=r(i),e.flags|=1,si(t,e,r,n),e.child;case 14:return r=e.type,i=qs(r,e.pendingProps),i=qs(r.type,i),P3(t,e,r,i,n);case 15:return J5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qs(r,i),Uy(t,e),e.tag=1,Oi(r)?(t=!0,vx(e)):t=!1,_d(e,n),Y5(e,r,i),HA(e,r,i,n),$A(null,e,r,!0,t,n);case 19:return rV(t,e,n);case 22:return Q5(t,e,n)}throw Error(Pe(156,e.tag))};function xV(t,e){return $4(t,e)}function _K(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(t,e,n,r){return new _K(t,e,n,r)}function LP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SK(t){if(typeof t=="function")return LP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QC)return 11;if(t===eP)return 14}return 2}function Dl(t,e){var n=t.alternate;return n===null?(n=ws(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vy(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")LP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xf:return lc(n.children,i,s,e);case JC:o=8,i|=8;break;case hA:return t=ws(12,n,e,i|2),t.elementType=hA,t.lanes=s,t;case pA:return t=ws(13,n,e,i),t.elementType=pA,t.lanes=s,t;case mA:return t=ws(19,n,e,i),t.elementType=mA,t.lanes=s,t;case P4:return j1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T4:o=10;break e;case C4:o=9;break e;case QC:o=11;break e;case eP:o=14;break e;case dl:o=16,r=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=ws(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lc(t,e,n,r){return t=ws(7,t,r,e),t.lanes=n,t}function j1(t,e,n,r){return t=ws(22,t,r,e),t.elementType=P4,t.lanes=n,t.stateNode={isHidden:!1},t}function gM(t,e,n){return t=ws(6,t,null,e),t.lanes=n,t}function vM(t,e,n){return e=ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wK(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zb(0),this.expirationTimes=Zb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DP(t,e,n,r,i,s,o,a,l){return t=new wK(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ws(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yP(s),t}function bK(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$f,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _V(t){if(!t)return Bl;t=t._reactInternals;e:{if(Vc(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var n=t.type;if(Oi(n))return _5(t,n,e)}return e}function SV(t,e,n,r,i,s,o,a,l){return t=DP(n,r,!0,t,i,s,o,a,l),t.context=_V(null),n=t.current,r=di(),i=Ll(n),s=wa(r,i),s.callback=e??null,Nl(n,s,i),t.current.lanes=i,hg(t,i,r),Li(t,r),t}function H1(t,e,n,r){var i=e.current,s=di(),o=Ll(i);return n=_V(n),e.context===null?e.context=n:e.pendingContext=n,e=wa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nl(i,e,o),t!==null&&(so(t,i,o,s),Dy(t,i,o)),o}function Rx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kP(t,e){V3(t,e),(t=t.alternate)&&V3(t,e)}function MK(){return null}var wV=typeof reportError=="function"?reportError:function(t){console.error(t)};function FP(t){this._internalRoot=t}W1.prototype.render=FP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));H1(t,e,null,null)};W1.prototype.unmount=FP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bc(function(){H1(null,t,null,null)}),e[Aa]=null}};function W1(t){this._internalRoot=t}W1.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gl.length&&e!==0&&e<gl[n].priority;n++);gl.splice(n,0,t),n===0&&t5(t)}};function UP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function G1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j3(){}function EK(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rx(o);s.call(u)}}var o=SV(e,r,t,0,null,!1,!1,"",j3);return t._reactRootContainer=o,t[Aa]=o.current,pm(t.nodeType===8?t.parentNode:t),bc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rx(l);a.call(u)}}var l=DP(t,0,!1,null,null,!1,!1,"",j3);return t._reactRootContainer=l,t[Aa]=l.current,pm(t.nodeType===8?t.parentNode:t),bc(function(){H1(e,l,n,r)}),l}function $1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rx(o);a.call(l)}}H1(e,o,t,i)}else o=EK(n,e,t,i,r);return Rx(o)}Z4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cp(e.pendingLanes);n!==0&&(rP(e,n|1),Li(e,qn()),!(Wt&6)&&(Od=qn()+500,Zl()))}break;case 13:bc(function(){var r=Ta(t,1);if(r!==null){var i=di();so(r,t,1,i)}}),kP(t,1)}};iP=function(t){if(t.tag===13){var e=Ta(t,134217728);if(e!==null){var n=di();so(e,t,134217728,n)}kP(t,134217728)}};J4=function(t){if(t.tag===13){var e=Ll(t),n=Ta(t,e);if(n!==null){var r=di();so(n,t,e,r)}kP(t,e)}};Q4=function(){return rn};e5=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};EA=function(t,e,n){switch(e){case"input":if(yA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=k1(r);if(!i)throw Error(Pe(90));I4(r),yA(r,i)}}}break;case"textarea":O4(t,n);break;case"select":e=n.value,e!=null&&gd(t,!!n.multiple,e,!1)}};B4=IP;V4=bc;var AK={usingClientEntryPoint:!1,Events:[mg,Zf,k1,U4,z4,IP]},Qh={findFiberByHostInstance:qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TK={bundleType:Qh.bundleType,version:Qh.version,rendererPackageName:Qh.rendererPackageName,rendererConfig:Qh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W4(t),t===null?null:t.stateNode},findFiberByHostInstance:Qh.findFiberByHostInstance||MK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{N1=vv.inject(TK),Bo=vv}catch{}}os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AK;os.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UP(e))throw Error(Pe(200));return bK(t,e,null,n)};os.createRoot=function(t,e){if(!UP(t))throw Error(Pe(299));var n=!1,r="",i=wV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=DP(t,1,!1,null,null,n,!1,r,i),t[Aa]=e.current,pm(t.nodeType===8?t.parentNode:t),new FP(e)};os.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=W4(e),t=t===null?null:t.stateNode,t};os.flushSync=function(t){return bc(t)};os.hydrate=function(t,e,n){if(!G1(e))throw Error(Pe(200));return $1(null,t,e,!0,n)};os.hydrateRoot=function(t,e,n){if(!UP(t))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SV(e,null,t,1,n??null,i,!1,s,o),t[Aa]=e.current,pm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new W1(e)};os.render=function(t,e,n){if(!G1(e))throw Error(Pe(200));return $1(null,t,e,!1,n)};os.unmountComponentAtNode=function(t){if(!G1(t))throw Error(Pe(40));return t._reactRootContainer?(bc(function(){$1(null,null,t,!1,function(){t._reactRootContainer=null,t[Aa]=null})}),!0):!1};os.unstable_batchedUpdates=IP;os.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!G1(n))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return $1(t,e,n,!1,r)};os.version="18.3.1-next-f1338f8080-20240426";function bV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bV)}catch(t){console.error(t)}}bV(),b4.exports=os;var MV=b4.exports,H3=MV;fA.createRoot=H3.createRoot,fA.hydrateRoot=H3.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}var wl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wl||(wl={}));const W3="popstate";function CK(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return iT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ix(i)}return RK(e,n,null,t)}function Kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PK(){return Math.random().toString(36).substr(2,8)}function G3(t,e){return{usr:t.state,key:t.key,idx:e}}function iT(t,e,n,r){return n===void 0&&(n=null),bm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nh(e):e,{state:n,key:e&&e.key||r||PK()})}function Ix(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RK(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=wl.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(bm({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=wl.Pop;let y=c(),v=y==null?null:y-u;u=y,l&&l({action:a,location:x.location,delta:v})}function h(y,v){a=wl.Push;let S=iT(x.location,y,v);u=c()+1;let w=G3(S,u),M=x.createHref(S);try{o.pushState(w,"",M)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,v){a=wl.Replace;let S=iT(x.location,y,v);u=c();let w=G3(S,u),M=x.createHref(S);o.replaceState(w,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof y=="string"?y:Ix(y);return S=S.replace(/ $/,"%20"),Kn(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(W3,f),l=y,()=>{i.removeEventListener(W3,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var $3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($3||($3={}));function IK(t,e,n){return n===void 0&&(n="/"),NK(t,e,n)}function NK(t,e,n,r){let i=typeof e=="string"?nh(e):e,s=BP(i.pathname||"/",n);if(s==null)return null;let o=EV(t);OK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=GK(s);a=jK(o[l],u)}return a}function EV(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=kl([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EV(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:BK(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AV(s.path))i(s,o,l)}),e}function AV(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AV(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LK=/^:[\w-]+$/,DK=3,kK=2,FK=1,UK=10,zK=-2,X3=t=>t==="*";function BK(t,e){let n=t.split("/"),r=n.length;return n.some(X3)&&(r+=zK),e&&(r+=kK),n.filter(i=>!X3(i)).reduce((i,s)=>i+(LK.test(s)?DK:s===""?FK:UK),r)}function VK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jK(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=HK({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:kl([s,f.pathname]),pathnameBase:KK(kl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=kl([s,f.pathnameBase]))}return o}function HK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let x=a[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function WK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const $K=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XK=t=>$K.test(t);function qK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nh(t):t,s;if(n)if(XK(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=q3(n.substring(1),"/"):s=q3(n,e)}else s=e;return{pathname:s,search:ZK(r),hash:JK(i)}}function q3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yM(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VP(t,e){let n=YK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nh(t):(i=bm({},t),Kn(!i.pathname||!i.pathname.includes("?"),yM("?","pathname","search",i)),Kn(!i.pathname||!i.pathname.includes("#"),yM("#","pathname","hash",i)),Kn(!i.search||!i.search.includes("#"),yM("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=qK(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const kl=t=>t.join("/").replace(/\/\/+/g,"/"),KK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TV=["post","put","patch","delete"];new Set(TV);const eZ=["get",...TV];new Set(eZ);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}const HP=N.createContext(null),tZ=N.createContext(null),Jl=N.createContext(null),X1=N.createContext(null),Va=N.createContext({outlet:null,matches:[],isDataRoute:!1}),CV=N.createContext(null);function nZ(t,e){let{relative:n}=e===void 0?{}:e;rh()||Kn(!1);let{basename:r,navigator:i}=N.useContext(Jl),{hash:s,pathname:o,search:a}=IV(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:kl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function rh(){return N.useContext(X1)!=null}function vg(){return rh()||Kn(!1),N.useContext(X1).location}function PV(t){N.useContext(Jl).static||N.useLayoutEffect(t)}function q1(){let{isDataRoute:t}=N.useContext(Va);return t?mZ():rZ()}function rZ(){rh()||Kn(!1);let t=N.useContext(HP),{basename:e,future:n,navigator:r}=N.useContext(Jl),{matches:i}=N.useContext(Va),{pathname:s}=vg(),o=JSON.stringify(VP(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return PV(()=>{a.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=jP(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:kl([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function RV(){let{matches:t}=N.useContext(Va),e=t[t.length-1];return e?e.params:{}}function IV(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Jl),{matches:i}=N.useContext(Va),{pathname:s}=vg(),o=JSON.stringify(VP(i,r.v7_relativeSplatPath));return N.useMemo(()=>jP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function iZ(t,e){return sZ(t,e)}function sZ(t,e,n,r){rh()||Kn(!1);let{navigator:i}=N.useContext(Jl),{matches:s}=N.useContext(Va),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=vg(),c;if(e){var f;let y=typeof e=="string"?nh(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Kn(!1),c=y}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=IK(t,{pathname:m}),x=cZ(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:kl([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:kl([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&x?N.createElement(X1.Provider,{value:{location:Mm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wl.Pop}},x):x}function oZ(){let t=pZ(),e=QK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const aZ=N.createElement(oZ,null);class lZ extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Va.Provider,{value:this.props.routeContext},N.createElement(CV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uZ(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(HP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Va.Provider,{value:e},r)}function cZ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Kn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let m,g=!1,x=null,y=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||aZ,l&&(u<0&&h===0?(gZ("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),S=()=>{let w;return m?w=x:g?w=y:f.route.Component?w=N.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,N.createElement(uZ,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(lZ,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var NV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NV||{}),OV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OV||{});function fZ(t){let e=N.useContext(HP);return e||Kn(!1),e}function dZ(t){let e=N.useContext(tZ);return e||Kn(!1),e}function hZ(t){let e=N.useContext(Va);return e||Kn(!1),e}function LV(t){let e=hZ(),n=e.matches[e.matches.length-1];return n.route.id||Kn(!1),n.route.id}function pZ(){var t;let e=N.useContext(CV),n=dZ(),r=LV();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mZ(){let{router:t}=fZ(NV.UseNavigateStable),e=LV(OV.UseNavigateStable),n=N.useRef(!1);return PV(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mm({fromRouteId:e},s)))},[t,e])}const Y3={};function gZ(t,e,n){Y3[t]||(Y3[t]=!0)}function vZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function K3(t){let{to:e,replace:n,state:r,relative:i}=t;rh()||Kn(!1);let{future:s,static:o}=N.useContext(Jl),{matches:a}=N.useContext(Va),{pathname:l}=vg(),u=q1(),c=jP(e,VP(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Vf(t){Kn(!1)}function yZ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wl.Pop,navigator:s,static:o=!1,future:a}=t;rh()&&Kn(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Mm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=nh(r));let{pathname:c="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=N.useMemo(()=>{let y=BP(c,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:i}},[l,c,f,h,m,g,i]);return x==null?null:N.createElement(Jl.Provider,{value:u},N.createElement(X1.Provider,{children:n,value:x}))}function xZ(t){let{children:e,location:n}=t;return iZ(sT(e),n)}new Promise(()=>{});function sT(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,sT(r.props.children,s));return}r.type!==Vf&&Kn(!1),!r.props.index||!r.props.children||Kn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sT(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(this,arguments)}function _Z(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wZ(t,e){return t.button===0&&(!e||e==="_self")&&!SZ(t)}const bZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MZ="6";try{window.__reactRouterVersion=MZ}catch{}const EZ="startTransition",Z3=S4[EZ];function AZ(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=CK({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(f=>{u&&Z3?Z3(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.useEffect(()=>vZ(r),[r]),N.createElement(yZ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const TZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DV=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=_Z(e,bZ),{basename:m}=N.useContext(Jl),g,x=!1;if(typeof u=="string"&&CZ.test(u)&&(g=u,TZ))try{let w=new URL(window.location.href),M=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=BP(M.pathname,m);M.origin===w.origin&&E!=null?u=E+M.search+M.hash:x=!0}catch{}let y=nZ(u,{relative:i}),v=PZ(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function S(w){r&&r(w),w.defaultPrevented||v(w)}return N.createElement("a",oT({},h,{href:g||y,onClick:x||s?r:S,ref:n,target:l}))});var J3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J3||(J3={}));var Q3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q3||(Q3={}));function PZ(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=q1(),u=vg(),c=IV(t,{relative:o});return N.useCallback(f=>{if(wZ(f,n)){f.preventDefault();let h=r!==void 0?r:Ix(u)===Ix(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function kV(t,e){return function(){return t.apply(e,arguments)}}const{toString:RZ}=Object.prototype,{getPrototypeOf:WP}=Object,{iterator:Y1,toStringTag:FV}=Symbol,K1=(t=>e=>{const n=RZ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fo=t=>(t=t.toLowerCase(),e=>K1(e)===t),Z1=t=>e=>typeof e===t,{isArray:ih}=Array,Ld=Z1("undefined");function yg(t){return t!==null&&!Ld(t)&&t.constructor!==null&&!Ld(t.constructor)&&Di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UV=fo("ArrayBuffer");function IZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UV(t.buffer),e}const NZ=Z1("string"),Di=Z1("function"),zV=Z1("number"),xg=t=>t!==null&&typeof t=="object",OZ=t=>t===!0||t===!1,jy=t=>{if(K1(t)!=="object")return!1;const e=WP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(FV in t)&&!(Y1 in t)},LZ=t=>{if(!xg(t)||yg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},DZ=fo("Date"),kZ=fo("File"),FZ=fo("Blob"),UZ=fo("FileList"),zZ=t=>xg(t)&&Di(t.pipe),BZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Di(t.append)&&((e=K1(t))==="formdata"||e==="object"&&Di(t.toString)&&t.toString()==="[object FormData]"))},VZ=fo("URLSearchParams"),[jZ,HZ,WZ,GZ]=["ReadableStream","Request","Response","Headers"].map(fo),$Z=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _g(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ih(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(yg(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function BV(t,e){if(yg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VV=t=>!Ld(t)&&t!==Zu;function aT(){const{caseless:t,skipUndefined:e}=VV(this)&&this||{},n={},r=(i,s)=>{const o=t&&BV(n,s)||s;jy(n[o])&&jy(i)?n[o]=aT(n[o],i):jy(i)?n[o]=aT({},i):ih(i)?n[o]=i.slice():(!e||!Ld(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&_g(arguments[i],r);return n}const XZ=(t,e,n,{allOwnKeys:r}={})=>(_g(e,(i,s)=>{n&&Di(i)?t[s]=kV(i,n):t[s]=i},{allOwnKeys:r}),t),qZ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),YZ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},KZ=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&WP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ZZ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},JZ=t=>{if(!t)return null;if(ih(t))return t;let e=t.length;if(!zV(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QZ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&WP(Uint8Array)),eJ=(t,e)=>{const r=(t&&t[Y1]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},tJ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},nJ=fo("HTMLFormElement"),rJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),eL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iJ=fo("RegExp"),jV=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_g(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},sJ=t=>{jV(t,(e,n)=>{if(Di(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Di(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oJ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ih(t)?r(t):r(String(t).split(e)),n},aJ=()=>{},lJ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uJ(t){return!!(t&&Di(t.append)&&t[FV]==="FormData"&&t[Y1])}const cJ=t=>{const e=new Array(10),n=(r,i)=>{if(xg(r)){if(e.indexOf(r)>=0)return;if(yg(r))return r;if(!("toJSON"in r)){e[i]=r;const s=ih(r)?[]:{};return _g(r,(o,a)=>{const l=n(o,i+1);!Ld(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},fJ=fo("AsyncFunction"),dJ=t=>t&&(xg(t)||Di(t))&&Di(t.then)&&Di(t.catch),HV=((t,e)=>t?setImmediate:e?((n,r)=>(Zu.addEventListener("message",({source:i,data:s})=>{i===Zu&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Zu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Di(Zu.postMessage)),hJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Zu):typeof process<"u"&&process.nextTick||HV,pJ=t=>t!=null&&Di(t[Y1]),ce={isArray:ih,isArrayBuffer:UV,isBuffer:yg,isFormData:BZ,isArrayBufferView:IZ,isString:NZ,isNumber:zV,isBoolean:OZ,isObject:xg,isPlainObject:jy,isEmptyObject:LZ,isReadableStream:jZ,isRequest:HZ,isResponse:WZ,isHeaders:GZ,isUndefined:Ld,isDate:DZ,isFile:kZ,isBlob:FZ,isRegExp:iJ,isFunction:Di,isStream:zZ,isURLSearchParams:VZ,isTypedArray:QZ,isFileList:UZ,forEach:_g,merge:aT,extend:XZ,trim:$Z,stripBOM:qZ,inherits:YZ,toFlatObject:KZ,kindOf:K1,kindOfTest:fo,endsWith:ZZ,toArray:JZ,forEachEntry:eJ,matchAll:tJ,isHTMLForm:nJ,hasOwnProperty:eL,hasOwnProp:eL,reduceDescriptors:jV,freezeMethods:sJ,toObjectSet:oJ,toCamelCase:rJ,noop:aJ,toFiniteNumber:lJ,findKey:BV,global:Zu,isContextDefined:VV,isSpecCompliantForm:uJ,toJSONObject:cJ,isAsyncFn:fJ,isThenable:dJ,setImmediate:HV,asap:hJ,isIterable:pJ};function Rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ce.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const WV=Rt.prototype,GV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GV[t]={value:t}});Object.defineProperties(Rt,GV);Object.defineProperty(WV,"isAxiosError",{value:!0});Rt.from=(t,e,n,r,i,s)=>{const o=Object.create(WV);ce.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Rt.call(o,a,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const mJ=null;function lT(t){return ce.isPlainObject(t)||ce.isArray(t)}function $V(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function tL(t,e,n){return t?t.concat(e).map(function(i,s){return i=$V(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function gJ(t){return ce.isArray(t)&&!t.some(lT)}const vJ=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function J1(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!ce.isUndefined(y[x])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ce.isDate(g))return g.toISOString();if(ce.isBoolean(g))return g.toString();if(!l&&ce.isBlob(g))throw new Rt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(g)||ce.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,x,y){let v=g;if(g&&!y&&typeof g=="object"){if(ce.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(ce.isArray(g)&&gJ(g)||(ce.isFileList(g)||ce.endsWith(x,"[]"))&&(v=ce.toArray(g)))return x=$V(x),v.forEach(function(w,M){!(ce.isUndefined(w)||w===null)&&e.append(o===!0?tL([x],M,s):o===null?x:x+"[]",u(w))}),!1}return lT(g)?!0:(e.append(tL(y,x,s),u(g)),!1)}const f=[],h=Object.assign(vJ,{defaultVisitor:c,convertValue:u,isVisitable:lT});function m(g,x){if(!ce.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),ce.forEach(g,function(v,S){(!(ce.isUndefined(v)||v===null)&&i.call(e,v,ce.isString(S)?S.trim():S,x,h))===!0&&m(v,x?x.concat(S):[S])}),f.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return m(t),e}function nL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function GP(t,e){this._pairs=[],t&&J1(t,this,e)}const XV=GP.prototype;XV.append=function(e,n){this._pairs.push([e,n])};XV.toString=function(e){const n=e?function(r){return e.call(this,r,nL)}:nL;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qV(t,e,n){if(!e)return t;const r=n&&n.encode||yJ;ce.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=ce.isURLSearchParams(e)?e.toString():new GP(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class rL{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xJ=typeof URLSearchParams<"u"?URLSearchParams:GP,_J=typeof FormData<"u"?FormData:null,SJ=typeof Blob<"u"?Blob:null,wJ={isBrowser:!0,classes:{URLSearchParams:xJ,FormData:_J,Blob:SJ},protocols:["http","https","file","blob","url","data"]},$P=typeof window<"u"&&typeof document<"u",uT=typeof navigator=="object"&&navigator||void 0,bJ=$P&&(!uT||["ReactNative","NativeScript","NS"].indexOf(uT.product)<0),MJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EJ=$P&&window.location.href||"http://localhost",AJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$P,hasStandardBrowserEnv:bJ,hasStandardBrowserWebWorkerEnv:MJ,navigator:uT,origin:EJ},Symbol.toStringTag,{value:"Module"})),qr={...AJ,...wJ};function TJ(t,e){return J1(t,new qr.classes.URLSearchParams,{visitor:function(n,r,i,s){return qr.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function CJ(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function PJ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function KV(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ce.isArray(i)?i.length:o,l?(ce.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ce.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ce.isArray(i[o])&&(i[o]=PJ(i[o])),!a)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(r,i)=>{e(CJ(r),i,n,0)}),n}return null}function RJ(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sg={transitional:YV,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ce.isObject(e);if(s&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return i?JSON.stringify(KV(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return TJ(e,this.formSerializer).toString();if((a=ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return J1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),RJ(e)):e}],transformResponse:[function(e){const n=this.transitional||Sg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Rt.from(a,Rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qr.classes.FormData,Blob:qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Sg.headers[t]={}});const IJ=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NJ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&IJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},iL=Symbol("internals");function ep(t){return t&&String(t).trim().toLowerCase()}function Hy(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Hy):String(t)}function OJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const LJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xM(t,e,n,r,i){if(ce.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ce.isString(e)){if(ce.isString(r))return e.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(e)}}function DJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kJ(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ki=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=ep(l);if(!c)throw new Error("header name must be a non-empty string");const f=ce.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Hy(a))}const o=(a,l)=>ce.forEach(a,(u,c)=>s(u,c,l));if(ce.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ce.isString(e)&&(e=e.trim())&&!LJ(e))o(NJ(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let a={},l,u;for(const c of e){if(!ce.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?ce.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ep(e),e){const r=ce.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return OJ(i);if(ce.isFunction(n))return n.call(this,i,r);if(ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ep(e),e){const r=ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||xM(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ep(o),o){const a=ce.findKey(r,o);a&&(!n||xM(r,r[a],a,n))&&(delete r[a],i=!0)}}return ce.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||xM(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ce.forEach(this,(i,s)=>{const o=ce.findKey(r,s);if(o){n[o]=Hy(i),delete n[s];return}const a=e?DJ(s):String(s).trim();a!==s&&delete n[s],n[a]=Hy(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[iL]=this[iL]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ep(o);r[a]||(kJ(i,o),r[a]=!0)}return ce.isArray(e)?e.forEach(s):s(e),this}};ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(ki.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ce.freezeMethods(ki);function _M(t,e){const n=this||Sg,r=e||n,i=ki.from(r.headers);let s=r.data;return ce.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ZV(t){return!!(t&&t.__CANCEL__)}function sh(t,e,n){Rt.call(this,t??"canceled",Rt.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(sh,Rt,{__CANCEL__:!0});function JV(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Rt("Request failed with status code "+n.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function FJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UJ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(h*1e3/m):void 0}}function zJ(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Nx=(t,e,n=3)=>{let r=0;const i=UJ(50,250);return zJ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},sL=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},oL=t=>(...e)=>ce.asap(()=>t(...e)),BJ=qr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,qr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(qr.origin),qr.navigator&&/(msie|trident)/i.test(qr.navigator.userAgent)):()=>!0,VJ=qr.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];ce.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),ce.isString(r)&&a.push(`path=${r}`),ce.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),ce.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function jJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function QV(t,e,n){let r=!jJ(e);return t&&(r||n==!1)?HJ(t,e):e}const aL=t=>t instanceof ki?{...t}:t;function Mc(t,e){e=e||{};const n={};function r(u,c,f,h){return ce.isPlainObject(u)&&ce.isPlainObject(c)?ce.merge.call({caseless:h},u,c):ce.isPlainObject(c)?ce.merge({},c):ce.isArray(c)?c.slice():c}function i(u,c,f,h){if(ce.isUndefined(c)){if(!ce.isUndefined(u))return r(void 0,u,f,h)}else return r(u,c,f,h)}function s(u,c){if(!ce.isUndefined(c))return r(void 0,c)}function o(u,c){if(ce.isUndefined(c)){if(!ce.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,f)=>i(aL(u),aL(c),f,!0)};return ce.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,h=f(t[c],e[c],c);ce.isUndefined(h)&&f!==a||(n[c]=h)}),n}const ej=t=>{const e=Mc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=ki.from(o),e.url=qV(QV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),ce.isFormData(n)){if(qr.hasStandardBrowserEnv||qr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ce.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&o.set(c,f)})}}if(qr.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(e)),r||r!==!1&&BJ(e.url))){const l=i&&s&&VJ.read(s);l&&o.set(i,l)}return e},WJ=typeof XMLHttpRequest<"u",GJ=WJ&&function(t){return new Promise(function(n,r){const i=ej(t);let s=i.data;const o=ki.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,f,h,m,g;function x(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const w=ki.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};JV(function(I){n(I),x()},function(I){r(I),x()},E),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new Rt("Request aborted",Rt.ECONNABORTED,t,y)),y=null)},y.onerror=function(M){const E=M&&M.message?M.message:"Network Error",T=new Rt(E,Rt.ERR_NETWORK,t,y);T.event=M||null,r(T),y=null},y.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||YV;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new Rt(M,E.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&ce.forEach(o.toJSON(),function(M,E){y.setRequestHeader(E,M)}),ce.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([h,g]=Nx(u,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,m]=Nx(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=w=>{y&&(r(!w||w.type?new sh(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const S=FJ(i.url);if(S&&qr.protocols.indexOf(S)===-1){r(new Rt("Unsupported protocol "+S+":",Rt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},$J=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Rt?c:new sh(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Rt(`timeout ${e} of ms exceeded`,Rt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ce.asap(a),l}},XJ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},qJ=async function*(t,e){for await(const n of YJ(t))yield*XJ(n,e)},YJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},lL=(t,e,n,r)=>{const i=qJ(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let h=s+=f;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},uL=64*1024,{isFunction:yv}=ce,KJ=(({Request:t,Response:e})=>({Request:t,Response:e}))(ce.global),{ReadableStream:cL,TextEncoder:fL}=ce.global,dL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ZJ=t=>{t=ce.merge.call({skipUndefined:!0},KJ,t);const{fetch:e,Request:n,Response:r}=t,i=e?yv(e):typeof fetch=="function",s=yv(n),o=yv(r);if(!i)return!1;const a=i&&yv(cL),l=i&&(typeof fL=="function"?(g=>x=>g.encode(x))(new fL):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=s&&a&&dL(()=>{let g=!1;const x=new n(qr.origin,{body:new cL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!x}),c=o&&a&&dL(()=>ce.isReadableStream(new r("").body)),f={stream:c&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(x,y)=>{let v=x&&x[g];if(v)return v.call(x);throw new Rt(`Response type '${g}' is not supported`,Rt.ERR_NOT_SUPPORT,y)})});const h=async g=>{if(g==null)return 0;if(ce.isBlob(g))return g.size;if(ce.isSpecCompliantForm(g))return(await new n(qr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(g)||ce.isArrayBuffer(g))return g.byteLength;if(ce.isURLSearchParams(g)&&(g=g+""),ce.isString(g))return(await l(g)).byteLength},m=async(g,x)=>{const y=ce.toFiniteNumber(g.getContentLength());return y??h(x)};return async g=>{let{url:x,method:y,data:v,signal:S,cancelToken:w,timeout:M,onDownloadProgress:E,onUploadProgress:T,responseType:I,headers:L,withCredentials:P="same-origin",fetchOptions:R}=ej(g),k=e||fetch;I=I?(I+"").toLowerCase():"text";let U=$J([S,w&&w.toAbortSignal()],M),V=null;const X=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let Y;try{if(T&&u&&y!=="get"&&y!=="head"&&(Y=await m(L,v))!==0){let Z=new n(x,{method:"POST",body:v,duplex:"half"}),fe;if(ce.isFormData(v)&&(fe=Z.headers.get("content-type"))&&L.setContentType(fe),Z.body){const[Ee,Ge]=sL(Y,Nx(oL(T)));v=lL(Z.body,uL,Ee,Ge)}}ce.isString(P)||(P=P?"include":"omit");const K=s&&"credentials"in n.prototype,q={...R,signal:U,method:y.toUpperCase(),headers:L.normalize().toJSON(),body:v,duplex:"half",credentials:K?P:void 0};V=s&&new n(x,q);let F=await(s?k(V,R):k(x,q));const $=c&&(I==="stream"||I==="response");if(c&&(E||$&&X)){const Z={};["status","statusText","headers"].forEach(ct=>{Z[ct]=F[ct]});const fe=ce.toFiniteNumber(F.headers.get("content-length")),[Ee,Ge]=E&&sL(fe,Nx(oL(E),!0))||[];F=new r(lL(F.body,uL,Ee,()=>{Ge&&Ge(),X&&X()}),Z)}I=I||"text";let G=await f[ce.findKey(f,I)||"text"](F,g);return!$&&X&&X(),await new Promise((Z,fe)=>{JV(Z,fe,{data:G,headers:ki.from(F.headers),status:F.status,statusText:F.statusText,config:g,request:V})})}catch(K){throw X&&X(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,g,V),{cause:K.cause||K}):Rt.from(K,K&&K.code,g,V)}}},JJ=new Map,tj=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,u,c=JJ;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:ZJ(e)),c=u;return u};tj();const XP={http:mJ,xhr:GJ,fetch:{get:tj}};ce.forEach(XP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hL=t=>`- ${t}`,QJ=t=>ce.isFunction(t)||t===null||t===!1;function eQ(t,e){t=ce.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!QJ(r)&&(i=XP[(a=String(r)).toLowerCase()],i===void 0))throw new Rt(`Unknown adapter '${a}'`);if(i&&(ce.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(hL).join(`
`):" "+hL(o[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const nj={getAdapter:eQ,adapters:XP};function SM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sh(null,t)}function pL(t){return SM(t),t.headers=ki.from(t.headers),t.data=_M.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nj.getAdapter(t.adapter||Sg.adapter,t)(t).then(function(r){return SM(t),r.data=_M.call(t,t.transformResponse,r),r.headers=ki.from(r.headers),r},function(r){return ZV(r)||(SM(t),r&&r.response&&(r.response.data=_M.call(t,t.transformResponse,r.response),r.response.headers=ki.from(r.response.headers))),Promise.reject(r)})}const rj="1.13.2",Q1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Q1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mL={};Q1.transitional=function(e,n,r){function i(s,o){return"[Axios v"+rj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Rt(i(o," has been removed"+(n?" in "+n:"")),Rt.ERR_DEPRECATED);return n&&!mL[o]&&(mL[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Q1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tQ(t,e,n){if(typeof t!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Rt("option "+s+" must be "+l,Rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Rt("Unknown option "+s,Rt.ERR_BAD_OPTION)}}const Wy={assertOptions:tQ,validators:Q1},bo=Wy.validators;let uc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new rL,response:new rL}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Wy.assertOptions(r,{silentJSONParsing:bo.transitional(bo.boolean),forcedJSONParsing:bo.transitional(bo.boolean),clarifyTimeoutError:bo.transitional(bo.boolean)},!1),i!=null&&(ce.isFunction(i)?n.paramsSerializer={serialize:i}:Wy.assertOptions(i,{encode:bo.function,serialize:bo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wy.assertOptions(n,{baseUrl:bo.spelling("baseURL"),withXsrfToken:bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ce.merge(s.common,s[n.method]);s&&ce.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=ki.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let c,f=0,h;if(!l){const g=[pL.bind(this),void 0];for(g.unshift(...a),g.push(...u),h=g.length,c=Promise.resolve(n);f<h;)c=c.then(g[f++],g[f++]);return c}h=a.length;let m=n;for(;f<h;){const g=a[f++],x=a[f++];try{m=g(m)}catch(y){x.call(this,y);break}}try{c=pL.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Mc(this.defaults,e);const n=QV(e.baseURL,e.url,e.allowAbsoluteUrls);return qV(n,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){uc.prototype[e]=function(n,r){return this.request(Mc(r||{},{method:e,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Mc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}uc.prototype[e]=n(),uc.prototype[e+"Form"]=n(!0)});let nQ=class ij{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new sh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ij(function(i){e=i}),cancel:e}}};function rQ(t){return function(n){return t.apply(null,n)}}function iQ(t){return ce.isObject(t)&&t.isAxiosError===!0}const cT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cT).forEach(([t,e])=>{cT[e]=t});function sj(t){const e=new uc(t),n=kV(uc.prototype.request,e);return ce.extend(n,uc.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return sj(Mc(t,i))},n}const Wn=sj(Sg);Wn.Axios=uc;Wn.CanceledError=sh;Wn.CancelToken=nQ;Wn.isCancel=ZV;Wn.VERSION=rj;Wn.toFormData=J1;Wn.AxiosError=Rt;Wn.Cancel=Wn.CanceledError;Wn.all=function(e){return Promise.all(e)};Wn.spread=rQ;Wn.isAxiosError=iQ;Wn.mergeConfig=Mc;Wn.AxiosHeaders=ki;Wn.formToJSON=t=>KV(ce.isHTMLForm(t)?new FormData(t):t);Wn.getAdapter=nj.getAdapter;Wn.HttpStatusCode=cT;Wn.default=Wn;const{Axios:gCe,AxiosError:vCe,CanceledError:yCe,isCancel:xCe,CancelToken:_Ce,VERSION:SCe,all:wCe,Cancel:bCe,isAxiosError:MCe,spread:ECe,toFormData:ACe,AxiosHeaders:TCe,HttpStatusCode:CCe,formToJSON:PCe,getAdapter:RCe,mergeConfig:ICe}=Wn,no=Wn.create({baseURL:"/"});no.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const oj=N.createContext();function sQ({children:t}){const[e,n]=N.useState(()=>localStorage.getItem("token")),[r,i]=N.useState(null),[s,o]=N.useState(!0),a=N.useCallback(async f=>{if(!f){i(null),o(!1);return}try{const h=await no.get("/auth/me");i(h.data)}catch(h){console.error("Auth_Core:    ",h),u()}finally{o(!1)}},[]);N.useEffect(()=>{a(e)},[e,a]);function l(f){localStorage.setItem("token",f),n(f)}function u(){localStorage.removeItem("token"),n(null),i(null)}function c(f){i(h=>({...h,...f}))}return C.jsx(oj.Provider,{value:{user:r,token:e,login:l,logout:u,updateUserData:c,loading:s},children:!s&&t})}function aj(){return N.useContext(oj)}var lj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gL=sn.createContext&&sn.createContext(lj),oQ=["attr","size","title"];function aQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(this,arguments)}function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uj(t){return t&&t.map((e,n)=>sn.createElement(e.tag,Lx({key:n},e.attr),uj(e.child)))}function Ut(t){return e=>sn.createElement(dQ,Ox({attr:Lx({},t.attr)},e),uj(t.child))}function dQ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=aQ(t,oQ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),sn.createElement("svg",Ox({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Lx(Lx({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&sn.createElement("title",null,s),t.children)};return gL!==void 0?sn.createElement(gL.Consumer,null,n=>e(n)):e(lj)}function Ec(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function hQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function pQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function cj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function mQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function gQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function vQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function yQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function qP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function fj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function xQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function _Q(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function dj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function fT(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function hj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function YP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function SQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function wQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function bQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(t)}function MQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function EQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function pj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(t)}function dT(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function AQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function TQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function CQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(t)}function PQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function mj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(t)}function RQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function wg(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function IQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function gj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(t)}function NQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function OQ(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(t)}function KP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function vj(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Pa(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const yj=N.createContext({});function LQ(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const xj=typeof window<"u",DQ=xj?N.useLayoutEffect:N.useEffect,ZP=N.createContext(null);function JP(t,e){t.indexOf(e)===-1&&t.push(e)}function QP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $o=(t,e,n)=>n>e?e:n<t?t:n;let e2=()=>{};const Ra={},_j=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Sj(t){return typeof t=="object"&&t!==null}const wj=t=>/^0[^.\s]+$/u.test(t);function t2(t){let e;return()=>(e===void 0&&(e=t()),e)}const As=t=>t,kQ=(t,e)=>n=>e(t(n)),bg=(...t)=>t.reduce(kQ),Em=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class n2{constructor(){this.subscriptions=[]}add(e){return JP(this.subscriptions,e),()=>QP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jo=t=>t*1e3,bs=t=>t/1e3;function bj(t,e){return e?t*(1e3/e):0}const Mj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FQ=1e-7,UQ=12;function zQ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Mj(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>FQ&&++a<UQ);return o}function Mg(t,e,n,r){if(t===e&&n===r)return As;const i=s=>zQ(s,0,1,t,n);return s=>s===0||s===1?s:Mj(i(s),e,r)}const Ej=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Aj=t=>e=>1-t(1-e),Tj=Mg(.33,1.53,.69,.99),r2=Aj(Tj),Cj=Ej(r2),Pj=t=>(t*=2)<1?.5*r2(t):.5*(2-Math.pow(2,-10*(t-1))),i2=t=>1-Math.sin(Math.acos(t)),Rj=Aj(i2),Ij=Ej(i2),BQ=Mg(.42,0,1,1),VQ=Mg(0,0,.58,1),Nj=Mg(.42,0,.58,1),jQ=t=>Array.isArray(t)&&typeof t[0]!="number",Oj=t=>Array.isArray(t)&&typeof t[0]=="number",HQ={linear:As,easeIn:BQ,easeInOut:Nj,easeOut:VQ,circIn:i2,circInOut:Ij,circOut:Rj,backIn:r2,backInOut:Cj,backOut:Tj,anticipate:Pj},WQ=t=>typeof t=="string",yL=t=>{if(Oj(t)){e2(t.length===4);const[e,n,r,i]=t;return Mg(e,n,r,i)}else if(WQ(t))return HQ[t];return t},xv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GQ(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,f=!1,h=!1)=>{const g=h&&i?n:r;return f&&o.add(c),g.has(c)||g.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const $Q=40;function Lj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xv.reduce((w,M)=>(w[M]=GQ(s),w),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:m,postRender:g}=o,x=()=>{const w=Ra.useManualTiming?i.timestamp:performance.now();n=!1,Ra.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,$Q),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},y=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:xv.reduce((w,M)=>{const E=o[M];return w[M]=(T,I=!1,L=!1)=>(n||y(),E.schedule(T,I,L)),w},{}),cancel:w=>{for(let M=0;M<xv.length;M++)o[xv[M]].cancel(w)},state:i,steps:o}}const{schedule:gn,cancel:Vl,state:Rr,steps:wM}=Lj(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0);let Gy;function XQ(){Gy=void 0}const li={now:()=>(Gy===void 0&&li.set(Rr.isProcessing||Ra.useManualTiming?Rr.timestamp:performance.now()),Gy),set:t=>{Gy=t,queueMicrotask(XQ)}},Dj=t=>e=>typeof e=="string"&&e.startsWith(t),kj=Dj("--"),qQ=Dj("var(--"),s2=t=>qQ(t)?YQ.test(t.split("/*")[0].trim()):!1,YQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xL(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const oh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Am={...oh,transform:t=>$o(0,1,t)},_v={...oh,default:1},Gp=t=>Math.round(t*1e5)/1e5,o2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KQ(t){return t==null}const ZQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a2=(t,e)=>n=>!!(typeof n=="string"&&ZQ.test(n)&&n.startsWith(t)||e&&!KQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),Fj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(o2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JQ=t=>$o(0,255,t),bM={...oh,transform:t=>Math.round(JQ(t))},Ju={test:a2("rgb","red"),parse:Fj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bM.transform(t)+", "+bM.transform(e)+", "+bM.transform(n)+", "+Gp(Am.transform(r))+")"};function QQ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hT={test:a2("#"),parse:QQ,transform:Ju.transform},Eg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cl=Eg("deg"),Ho=Eg("%"),lt=Eg("px"),eee=Eg("vh"),tee=Eg("vw"),_L={...Ho,parse:t=>Ho.parse(t)/100,transform:t=>Ho.transform(t*100)},id={test:a2("hsl","hue"),parse:Fj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ho.transform(Gp(e))+", "+Ho.transform(Gp(n))+", "+Gp(Am.transform(r))+")"},tr={test:t=>Ju.test(t)||hT.test(t)||id.test(t),parse:t=>Ju.test(t)?Ju.parse(t):id.test(t)?id.parse(t):hT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ju.transform(t):id.transform(t),getAnimatableNone:t=>{const e=tr.parse(t);return e.alpha=0,tr.transform(e)}},nee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ree(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(o2))==null?void 0:e.length)||0)+(((n=t.match(nee))==null?void 0:n.length)||0)>0}const Uj="number",zj="color",iee="var",see="var(",SL="${}",oee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(oee,l=>(tr.test(l)?(r.color.push(s),i.push(zj),n.push(tr.parse(l))):l.startsWith(see)?(r.var.push(s),i.push(iee),n.push(l)):(r.number.push(s),i.push(Uj),n.push(parseFloat(l))),++s,SL)).split(SL);return{values:n,split:a,indexes:r,types:i}}function Bj(t){return Tm(t).values}function Vj(t){const{split:e,types:n}=Tm(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Uj?s+=Gp(i[o]):a===zj?s+=tr.transform(i[o]):s+=i[o]}return s}}const aee=t=>typeof t=="number"?0:tr.test(t)?tr.getAnimatableNone(t):t;function lee(t){const e=Bj(t);return Vj(t)(e.map(aee))}const jl={test:ree,parse:Bj,createTransformer:Vj,getAnimatableNone:lee};function MM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=MM(l,a,t+1/3),s=MM(l,a,t),o=MM(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Dx(t,e){return n=>n>0?e:t}const Rn=(t,e,n)=>t+(e-t)*n,EM=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},cee=[hT,Ju,id],fee=t=>cee.find(e=>e.test(t));function wL(t){const e=fee(t);if(!e)return!1;let n=e.parse(t);return e===id&&(n=uee(n)),n}const bL=(t,e)=>{const n=wL(t),r=wL(e);if(!n||!r)return Dx(t,e);const i={...n};return s=>(i.red=EM(n.red,r.red,s),i.green=EM(n.green,r.green,s),i.blue=EM(n.blue,r.blue,s),i.alpha=Rn(n.alpha,r.alpha,s),Ju.transform(i))},pT=new Set(["none","hidden"]);function dee(t,e){return pT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hee(t,e){return n=>Rn(t,e,n)}function l2(t){return typeof t=="number"?hee:typeof t=="string"?s2(t)?Dx:tr.test(t)?bL:gee:Array.isArray(t)?jj:typeof t=="object"?tr.test(t)?bL:pee:Dx}function jj(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>l2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function pee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=l2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mee(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const gee=(t,e)=>{const n=jl.createTransformer(e),r=Tm(t),i=Tm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?pT.has(t)&&!i.values.length||pT.has(e)&&!r.values.length?dee(t,e):bg(jj(mee(r,i),i.values),n):Dx(t,e)};function Hj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rn(t,e,n):l2(t)(t,e)}const vee=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gn.update(e,n),stop:()=>Vl(e),now:()=>Rr.isProcessing?Rr.timestamp:li.now()}},Wj=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kx=2e4;function u2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kx;)e+=n,r=t.next(e);return e>=kx?1/0:e}function yee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(u2(r),kx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:bs(i)}}const xee=5;function Gj(t,e,n){const r=Math.max(e-xee,0);return bj(n-t(r),e-r)}const zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AM=.001;function _ee({duration:t=zn.duration,bounce:e=zn.bounce,velocity:n=zn.velocity,mass:r=zn.mass}){let i,s,o=1-e;o=$o(zn.minDamping,zn.maxDamping,o),t=$o(zn.minDuration,zn.maxDuration,bs(t)),o<1?(i=u=>{const c=u*o,f=c*t,h=c-n,m=mT(u,o),g=Math.exp(-f);return AM-h/m*g},s=u=>{const f=u*o*t,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),x=mT(Math.pow(u,2),o);return(-i(u)+AM>0?-1:1)*((h-m)*g)/x}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-AM+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=wee(i,s,a);if(t=jo(t),isNaN(l))return{stiffness:zn.stiffness,damping:zn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const See=12;function wee(t,e,n){let r=n;for(let i=1;i<See;i++)r=r-t(r)/e(r);return r}function mT(t,e){return t*Math.sqrt(1-e*e)}const bee=["duration","bounce"],Mee=["stiffness","damping","mass"];function ML(t,e){return e.some(n=>t[n]!==void 0)}function Eee(t){let e={velocity:zn.velocity,stiffness:zn.stiffness,damping:zn.damping,mass:zn.mass,isResolvedFromDuration:!1,...t};if(!ML(t,Mee)&&ML(t,bee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*$o(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zn.mass,stiffness:i,damping:s}}else{const n=_ee(t);e={...e,...n,mass:zn.mass},e.isResolvedFromDuration=!0}return e}function Fx(t=zn.visualDuration,e=zn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:m}=Eee({...n,velocity:-bs(n.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(l*c)),y=o-s,v=bs(Math.sqrt(l/c)),S=Math.abs(y)<5;r||(r=S?zn.restSpeed.granular:zn.restSpeed.default),i||(i=S?zn.restDelta.granular:zn.restDelta.default);let w;if(x<1){const E=mT(v,x);w=T=>{const I=Math.exp(-x*v*T);return o-I*((g+x*v*y)/E*Math.sin(E*T)+y*Math.cos(E*T))}}else if(x===1)w=E=>o-Math.exp(-v*E)*(y+(g+v*y)*E);else{const E=v*Math.sqrt(x*x-1);w=T=>{const I=Math.exp(-x*v*T),L=Math.min(E*T,300);return o-I*((g+x*v*y)*Math.sinh(L)+E*y*Math.cosh(L))/E}}const M={calculatedDuration:m&&f||null,next:E=>{const T=w(E);if(m)a.done=E>=f;else{let I=E===0?g:0;x<1&&(I=E===0?jo(g):Gj(w,E,T));const L=Math.abs(I)<=r,P=Math.abs(o-T)<=i;a.done=L&&P}return a.value=a.done?o:T,a},toString:()=>{const E=Math.min(u2(M),kx),T=Wj(I=>M.next(E*I).value,E,30);return E+"ms "+T},toTransition:()=>{}};return M}Fx.applyToOptions=t=>{const e=yee(t,100,Fx);return t.ease=e.ease,t.duration=jo(e.duration),t.type="keyframes",t};function gT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],h={done:!1,value:f},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,g=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let x=n*e;const y=f+x,v=o===void 0?y:o(y);v!==y&&(x=v-f);const S=L=>-x*Math.exp(-L/r),w=L=>v+S(L),M=L=>{const P=S(L),R=w(L);h.done=Math.abs(P)<=u,h.value=h.done?v:R};let E,T;const I=L=>{m(h.value)&&(E=L,T=Fx({keyframes:[h.value,g(h.value)],velocity:Gj(w,L,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:L=>{let P=!1;return!T&&E===void 0&&(P=!0,M(L),I(L)),E!==void 0&&L>=E?T.next(L-E):(!P&&M(L),h)}}}function Aee(t,e,n){const r=[],i=n||Ra.mix||Hj,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||As:e;a=bg(l,a)}r.push(a)}return r}function Tee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(e2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Aee(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const h=Em(t[f],t[f+1],c);return a[f](h)};return n?c=>u($o(t[0],t[s-1],c)):u}function Cee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Em(0,e,r);t.push(Rn(n,1,i))}}function Pee(t){const e=[0];return Cee(e,t.length-1),e}function Ree(t,e){return t.map(n=>n*e)}function Iee(t,e){return t.map(()=>e||Nj).splice(0,t.length-1)}function $p({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=jQ(r)?r.map(yL):yL(r),s={done:!1,value:e[0]},o=Ree(n&&n.length===e.length?n:Pee(e),t),a=Tee(o,e,{ease:Array.isArray(i)?i:Iee(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Nee=t=>t!==null;function c2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Nee),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Oee={decay:gT,inertia:gT,tween:$p,keyframes:$p,spring:Fx};function $j(t){typeof t.type=="string"&&(t.type=Oee[t.type])}class f2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Lee=t=>t/100;class d2 extends f2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==li.now()&&this.tick(li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$j(e);const{type:n=$p,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||$p;l!==$p&&typeof a[0]!="number"&&(this.mixKeyframes=bg(Lee,Hj(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=u2(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,M=r;if(f){const L=Math.min(this.currentTime,i)/a;let P=Math.floor(L),R=L%1;!R&&L>=1&&(R=1),R===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/a)):h==="mirror"&&(M=o)),w=$o(0,1,R)*a}const E=S?{done:!1,value:c[0]}:M.next(w);s&&(E.value=s(E.value));let{done:T}=E;!S&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return I&&g!==gT&&(E.value=c2(c,this.options,y,this.speed)),x&&x(E.value),I&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){var n;e=jo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(li.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=vee,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Dee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qu=t=>t*180/Math.PI,vT=t=>{const e=Qu(Math.atan2(t[1],t[0]));return yT(e)},kee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vT,rotateZ:vT,skewX:t=>Qu(Math.atan(t[1])),skewY:t=>Qu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yT=t=>(t=t%360,t<0&&(t+=360),t),EL=vT,AL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),TL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Fee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AL,scaleY:TL,scale:t=>(AL(t)+TL(t))/2,rotateX:t=>yT(Qu(Math.atan2(t[6],t[5]))),rotateY:t=>yT(Qu(Math.atan2(-t[2],t[0]))),rotateZ:EL,rotate:EL,skewX:t=>Qu(Math.atan(t[4])),skewY:t=>Qu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xT(t){return t.includes("scale")?1:0}function _T(t,e){if(!t||t==="none")return xT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Fee,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kee,i=a}if(!i)return xT(e);const s=r[e],o=i[1].split(",").map(zee);return typeof s=="function"?s(o):o[s]}const Uee=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return _T(n,e)};function zee(t){return parseFloat(t.trim())}const ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lh=new Set(ah),CL=t=>t===oh||t===lt,Bee=new Set(["x","y","z"]),Vee=ah.filter(t=>!Bee.has(t));function jee(t){const e=[];return Vee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_T(e,"x"),y:(t,{transform:e})=>_T(e,"y")};bl.translateX=bl.x;bl.translateY=bl.y;const cc=new Set;let ST=!1,wT=!1,bT=!1;function Xj(){if(wT){const t=Array.from(cc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=jee(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wT=!1,ST=!1,cc.forEach(t=>t.complete(bT)),cc.clear()}function qj(){cc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wT=!0)})}function Hee(){bT=!0,qj(),Xj(),bT=!1}class h2{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(cc.add(this),ST||(ST=!0,gn.read(qj),gn.resolveKeyframes(Xj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}Dee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cc.delete(this)}cancel(){this.state==="scheduled"&&(cc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wee=t=>t.startsWith("--");function Gee(t,e,n){Wee(e)?t.style.setProperty(e,n):t.style[e]=n}const $ee=t2(()=>window.ScrollTimeline!==void 0),Xee={};function qee(t,e){const n=t2(t);return()=>Xee[e]??n()}const Yj=qee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,PL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rp([0,.65,.55,1]),circOut:Rp([.55,0,1,.45]),backIn:Rp([.31,.01,.66,-.59]),backOut:Rp([.33,1.53,.69,.99])};function Kj(t,e){if(t)return typeof t=="function"?Yj()?Wj(t,e):"ease-out":Oj(t)?Rp(t):Array.isArray(t)?t.map(n=>Kj(n,e)||PL.easeOut):PL[t]}function Yee(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const f=Kj(a,i);Array.isArray(f)&&(c.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(c,h)}function Zj(t){return typeof t=="function"&&"applyToOptions"in t}function Kee({type:t,...e}){return Zj(t)&&Yj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Zee extends f2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,e2(typeof e.type!="string");const u=Kee(e);this.animation=Yee(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=c2(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Gee(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=jo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&$ee()?(this.animation.timeline=e,As):n(this)}}const Jj={anticipate:Pj,backInOut:Cj,circInOut:Ij};function Jee(t){return t in Jj}function Qee(t){typeof t.ease=="string"&&Jee(t.ease)&&(t.ease=Jj[t.ease])}const TM=10;class ete extends Zee{constructor(e){Qee(e),$j(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new d2({...o,autoplay:!1}),l=Math.max(TM,li.now()-this.startTime),u=$o(0,TM,l-TM);n.setWithVelocity(a.sample(Math.max(0,l-u)).value,a.sample(l).value,u),a.stop()}}const RL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jl.test(t)||t==="0")&&!t.startsWith("url("));function tte(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nte(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=RL(i,e),a=RL(s,e);return!o||!a?!1:tte(t)||(n==="spring"||Zj(n))&&r}function MT(t){t.duration=0,t.type="keyframes"}const rte=new Set(["opacity","clipPath","filter","transform"]),ite=t2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ste(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return ite()&&n&&rte.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const ote=40;class ate extends f2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var g;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=li.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...f},m=(c==null?void 0:c.KeyframeResolver)||h2;this.keyframeResolver=new m(a,(x,y,v)=>this.onKeyframesResolved(x,y,h,!v),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){var y,v;this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=li.now(),nte(e,s,o,a)||((Ra.instantAnimations||!l)&&(c==null||c(c2(e,r,n))),e[0]=e[e.length-1],MT(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ote?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&ste(h),g=(v=(y=h.motionValue)==null?void 0:y.owner)==null?void 0:v.current,x=m?new ete({...h,element:g}):new d2(h);x.finished.then(()=>{this.notifyFinished()}).catch(As),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Hee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Qj(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}const lte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ute(t){const e=lte.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function e8(t,e,n=1){const[r,i]=ute(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return _j(o)?parseFloat(o):o}return s2(i)?e8(i,e,n+1):i}const cte={type:"spring",stiffness:500,damping:25,restSpeed:10},fte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dte={type:"keyframes",duration:.8},hte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pte=(t,{keyframes:e})=>e.length>2?dte:lh.has(t)?t.startsWith("scale")?fte(e[1]):cte:hte,mte=t=>t!==null;function gte(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(mte),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function t8(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function p2(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?t8(n,t):n}function vte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const m2=(t,e,n,r={},i,s)=>o=>{const a=p2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-jo(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};vte(a)||Object.assign(c,pte(t,c)),c.duration&&(c.duration=jo(c.duration)),c.repeatDelay&&(c.repeatDelay=jo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(MT(c),c.delay===0&&(f=!0)),(Ra.instantAnimations||Ra.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(f=!0,MT(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const h=gte(c.keyframes,a);if(h!==void 0){gn.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new d2(c):new ate(c)};function IL(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function g2(t,e,n,r){if(typeof e=="function"){const[i,s]=IL(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=IL(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function wd(t,e,n){const r=t.getProps();return g2(r,e,n!==void 0?n:r.custom,t)}const n8=new Set(["width","height","top","left","right","bottom",...ah]),NL=30,yte=t=>!isNaN(parseFloat(t));class xte{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=li.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new n2);const r=this.events[e].add(n);return e==="change"?()=>{r(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>NL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NL);return bj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dd(t,e){return new xte(t,e)}const ET=t=>Array.isArray(t);function _te(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dd(n))}function Ste(t){return ET(t)?t[t.length-1]||0:t}function wte(t,e){const n=wd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Ste(s[o]);_te(t,o,a)}}const Yr=t=>!!(t&&t.getVelocity);function bte(t){return!!(Yr(t)&&t.add)}function AT(t,e){const n=t.getValue("willChange");if(bte(n))return n.add(e);if(!n&&Ra.WillChange){const r=new Ra.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function v2(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Mte="framerAppearId",r8="data-"+v2(Mte);function i8(t){return t.props[r8]}function Ete({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:o,...a}=e;const l=t.getDefaultTransition();s=s?t8(s,l):l;const u=s==null?void 0:s.reduceMotion;r&&(s=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const m=t.getValue(h,t.latestValues[h]??null),g=a[h];if(g===void 0||f&&Ete(f,h))continue;const x={delay:n,...p2(s||{},h)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===y&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const M=i8(t);if(M){const E=window.MotionHandoffAnimation(M,h,gn);E!==null&&(x.startTime=E,v=!0)}}AT(t,h);const S=u??t.shouldReduceMotion;m.start(m2(h,m,g,S&&n8.has(h)?{type:!1}:x,t,v));const w=m.animation;w&&c.push(w)}if(o){const h=()=>gn.update(()=>{o&&wte(t,o)});c.length?Promise.all(c).then(h):h()}return c}function TT(t,e,n={}){var l;const r=wd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(s8(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=i;return Ate(t,e,u,c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Ate(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(TT(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Qj(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function Tte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>TT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=TT(t,e,n);else{const i=typeof e=="function"?wd(t,e,n.custom):e;r=Promise.all(s8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Cte={test:t=>t==="auto",parse:t=>t},o8=t=>e=>e.test(t),a8=[oh,lt,Ho,cl,tee,eee,Cte],OL=t=>a8.find(o8(t));function Pte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wj(t):!0}const Rte=new Set(["brightness","contrast","saturate","opacity"]);function Ite(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(o2)||[];if(!r)return t;const i=n.replace(r,"");let s=Rte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Nte=/\b([a-z-]*)\(.*?\)/gu,CT={...jl,getAnimatableNone:t=>{const e=t.match(Nte);return e?e.map(Ite).join(" "):t}},LL={...oh,transform:Math.round},Ote={rotate:cl,rotateX:cl,rotateY:cl,rotateZ:cl,scale:_v,scaleX:_v,scaleY:_v,scaleZ:_v,skew:cl,skewX:cl,skewY:cl,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Am,originX:_L,originY:_L,originZ:lt},y2={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,inset:lt,insetBlock:lt,insetBlockStart:lt,insetBlockEnd:lt,insetInline:lt,insetInlineStart:lt,insetInlineEnd:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,paddingBlock:lt,paddingBlockStart:lt,paddingBlockEnd:lt,paddingInline:lt,paddingInlineStart:lt,paddingInlineEnd:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,marginBlock:lt,marginBlockStart:lt,marginBlockEnd:lt,marginInline:lt,marginInlineStart:lt,marginInlineEnd:lt,fontSize:lt,backgroundPositionX:lt,backgroundPositionY:lt,...Ote,zIndex:LL,fillOpacity:Am,strokeOpacity:Am,numOctaves:LL},Lte={...y2,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:CT,WebkitFilter:CT},l8=t=>Lte[t];function u8(t,e){let n=l8(t);return n!==CT&&(n=jl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Dte=new Set(["auto","none","0"]);function kte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Dte.has(s)&&Tm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=u8(n,i)}class Fte extends h2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),s2(f))){const h=e8(f,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!n8.has(r)||e.length!==2)return;const[i,s]=e,o=OL(i),a=OL(s),l=xL(i),u=xL(s);if(l!==u&&bl[r]){this.needsMeasurement=!0;return}if(o!==a)if(CL(o)&&CL(a))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else bl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Pte(e[i]))&&r.push(i);r.length&&kte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function c8(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const f8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ute(t){return Sj(t)&&"offsetHeight"in t}const{schedule:x2}=Lj(queueMicrotask,!1),Xs={x:!1,y:!1};function d8(){return Xs.x||Xs.y}function zte(t){return t==="x"||t==="y"?Xs[t]?null:(Xs[t]=!0,()=>{Xs[t]=!1}):Xs.x||Xs.y?null:(Xs.x=Xs.y=!0,()=>{Xs.x=Xs.y=!1})}function h8(t,e){const n=c8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Bte(t){return!(t.pointerType==="touch"||d8())}function Vte(t,e,n={}){const[r,i,s]=h8(t,n);return r.forEach(o=>{let a=!1,l=!1,u;const c=()=>{o.removeEventListener("pointerleave",g)},f=y=>{u&&(u(y),u=void 0),c()},h=y=>{a=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),l&&(l=!1,f(y))},m=()=>{a=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},g=y=>{if(y.pointerType!=="touch"){if(a){l=!0;return}f(y)}},x=y=>{if(!Bte(y))return;l=!1;const v=e(o,y);typeof v=="function"&&(u=v,o.addEventListener("pointerleave",g,i))};o.addEventListener("pointerenter",x,i),o.addEventListener("pointerdown",m,i)}),s}const p8=(t,e)=>e?t===e?!0:p8(t,e.parentElement):!1,_2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hte(t){return jte.has(t.tagName)||t.isContentEditable===!0}const Wte=new Set(["INPUT","SELECT","TEXTAREA"]);function Gte(t){return Wte.has(t.tagName)||t.isContentEditable===!0}const $y=new WeakSet;function DL(t){return e=>{e.key==="Enter"&&t(e)}}function CM(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $te=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=DL(()=>{if($y.has(n))return;CM(n,"down");const i=DL(()=>{CM(n,"up")}),s=()=>CM(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kL(t){return _2(t)&&!d8()}const FL=new WeakSet;function Xte(t,e,n={}){const[r,i,s]=h8(t,n),o=a=>{const l=a.currentTarget;if(!kL(a)||FL.has(a))return;$y.add(l),n.stopPropagation&&FL.add(a);const u=e(l,a),c=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),$y.has(l)&&$y.delete(l),kL(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{c(m,l===window||l===document||n.useGlobalTarget||p8(l,m.target))},h=m=>{c(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Ute(a)&&(a.addEventListener("focus",u=>$te(u,i)),!Hte(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function S2(t){return Sj(t)&&"ownerSVGElement"in t}const Xy=new WeakMap;let fl;const m8=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:S2(r)&&"getBBox"in r?r.getBBox()[e]:r[n],qte=m8("inline","width","offsetWidth"),Yte=m8("block","height","offsetHeight");function Kte({target:t,borderBoxSize:e}){var n;(n=Xy.get(t))==null||n.forEach(r=>{r(t,{get width(){return qte(t,e)},get height(){return Yte(t,e)}})})}function Zte(t){t.forEach(Kte)}function Jte(){typeof ResizeObserver>"u"||(fl=new ResizeObserver(Zte))}function Qte(t,e){fl||Jte();const n=c8(t);return n.forEach(r=>{let i=Xy.get(r);i||(i=new Set,Xy.set(r,i)),i.add(e),fl==null||fl.observe(r)}),()=>{n.forEach(r=>{const i=Xy.get(r);i==null||i.delete(e),i!=null&&i.size||fl==null||fl.unobserve(r)})}}const qy=new Set;let sd;function ene(){sd=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};qy.forEach(e=>e(t))},window.addEventListener("resize",sd)}function tne(t){return qy.add(t),sd||ene(),()=>{qy.delete(t),!qy.size&&typeof sd=="function"&&(window.removeEventListener("resize",sd),sd=void 0)}}function UL(t,e){return typeof t=="function"?tne(t):Qte(t,e)}function nne(t){return S2(t)&&t.tagName==="svg"}const rne=[...a8,tr,jl],ine=t=>rne.find(o8(t)),zL=()=>({translate:0,scale:1,origin:0,originPoint:0}),od=()=>({x:zL(),y:zL()}),BL=()=>({min:0,max:0}),ar=()=>({x:BL(),y:BL()}),PT={current:null},g8={current:!1},sne=typeof window<"u";function one(){if(g8.current=!0,!!sne)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>PT.current=t.matches;t.addEventListener("change",e),e()}else PT.current=!1}const ane=new WeakMap;function eS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cm(t){return typeof t=="string"||Array.isArray(t)}const w2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b2=["initial",...w2];function tS(t){return eS(t.animate)||b2.some(e=>Cm(t[e]))}function v8(t){return!!(tS(t)||t.variants)}function lne(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Yr(i))t.addValue(r,i);else if(Yr(s))t.addValue(r,Dd(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Dd(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const VL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ux={};function y8(t){Ux=t}function une(){return Ux}class cne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=h2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=li.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,gn.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=tS(n),this.isVariantNode=v8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];u[m]!==void 0&&Yr(g)&&g.set(u[m])}}mount(e){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,ane.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(g8.current||one(),this.shouldReduceMotion=PT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Vl(this.notifyUpdate),Vl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=lh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ux){const n=Ux[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ar()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VL.length;r++){const i=VL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lne(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_j(r)||wj(r))?r=parseFloat(r):!ine(r)&&jl.test(n)&&(r=u8(e,n)),this.setBaseTarget(e,Yr(r)?r.get():r)),Yr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=g2(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Yr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new n2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){x2.render(this.render)}}class x8 extends cne{constructor(){super(...arguments),this.KeyframeResolver=Fte}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function fne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PM(t){return t===void 0||t===1}function RT({scale:t,scaleX:e,scaleY:n}){return!PM(t)||!PM(e)||!PM(n)}function ju(t){return RT(t)||S8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S8(t){return jL(t.x)||jL(t.y)}function jL(t){return t&&t!=="0%"}function zx(t,e,n){const r=t-n,i=e*r;return n+i}function HL(t,e,n,r,i){return i!==void 0&&(t=zx(t,i,r)),zx(t,n,r)+e}function IT(t,e=0,n=1,r,i){t.min=HL(t.min,e,n,r,i),t.max=HL(t.max,e,n,r,i)}function w8(t,{x:e,y:n}){IT(t.x,e.translate,e.scale,e.originPoint),IT(t.y,n.translate,n.scale,n.originPoint)}const WL=.999999999999,GL=1.0000000000001;function hne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ld(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,w8(t,o)),r&&ju(s.latestValues)&&ld(t,s.latestValues))}e.x<GL&&e.x>WL&&(e.x=1),e.y<GL&&e.y>WL&&(e.y=1)}function ad(t,e){t.min=t.min+e,t.max=t.max+e}function $L(t,e,n,r,i=.5){const s=Rn(t.min,t.max,i);IT(t,e,n,s,r)}function ld(t,e){$L(t.x,e.x,e.scaleX,e.scale,e.originX),$L(t.y,e.y,e.scaleY,e.scale,e.originY)}function b8(t,e){return _8(dne(t.getBoundingClientRect(),e))}function pne(t,e,n){const r=b8(t,n),{scroll:i}=e;return i&&(ad(r.x,i.offset.x),ad(r.y,i.offset.y)),r}const mne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gne=ah.length;function vne(t,e,n){let r="",i=!0;for(let s=0;s<gne;s++){const o=ah[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const u=parseFloat(a);l=o.startsWith("scale")?u===1:u===0}if(!l||n){const u=f8(a,y2[o]);if(!l){i=!1;const c=mne[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function M2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(lh.has(l)){o=!0;continue}else if(kj(l)){i[l]=u;continue}else{const c=f8(u,y2[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=vne(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function M8(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function XL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=XL(t,e.target.x),r=XL(t,e.target.y);return`${n}% ${r}%`}},yne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jl.parse(t);if(i.length>5)return r;const s=jl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Rn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},NT={borderRadius:{...tp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tp,borderTopRightRadius:tp,borderBottomLeftRadius:tp,borderBottomRightRadius:tp,boxShadow:yne};function E8(t,{layout:e,layoutId:n}){return lh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!NT[t]||t==="opacity")}function E2(t,e,n){var o;const r=t.style,i=e==null?void 0:e.style,s={};if(!r)return s;for(const a in r)(Yr(r[a])||i&&Yr(i[a])||E8(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function xne(t){return window.getComputedStyle(t)}class _ne extends x8{constructor(){super(...arguments),this.type="html",this.renderInstance=M8}readValueFromInstance(e,n){var r;if(lh.has(n))return(r=this.projection)!=null&&r.isProjecting?xT(n):Uee(e,n);{const i=xne(e),s=(kj(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return b8(e,n)}build(e,n,r){M2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return E2(e,n,r)}}const Sne={offset:"stroke-dashoffset",array:"stroke-dasharray"},wne={offset:"strokeDashoffset",array:"strokeDasharray"};function bne(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Sne:wne;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const Mne=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function A8(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(M2(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox);for(const m of Mne)f[m]!==void 0&&(h[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&bne(f,i,s,o,!1)}const T8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),C8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ene(t,e,n,r){M8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(T8.has(i)?i:v2(i),e.attrs[i])}function P8(t,e,n){const r=E2(t,e,n);for(const i in t)if(Yr(t[i])||Yr(e[i])){const s=ah.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class Ane extends x8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ar}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(lh.has(n)){const r=l8(n);return r&&r.default||0}return n=T8.has(n)?n:v2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return P8(e,n,r)}build(e,n,r){A8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Ene(e,n,r,i)}mount(e){this.isSVGTag=C8(e.tagName),super.mount(e)}}const Tne=b2.length;function R8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?R8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tne;n++){const r=b2[n],i=t.props[r];(Cm(i)||i===!1)&&(e[r]=i)}return e}function I8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Cne=[...w2].reverse(),Pne=w2.length;function Rne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Tte(t,n,r)))}function Ine(t){let e=Rne(t),n=qL(),r=!0;const i=l=>(u,c)=>{var h;const f=wd(t,c,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=R8(t.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<Pne;y++){const v=Cne[y],S=n[v],w=u[v]!==void 0?u[v]:c[v],M=Cm(w),E=v===l?S.isActive:null;E===!1&&(g=y);let T=w===c[v]&&w!==u[v]&&M;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),S.protectedKeys={...m},!S.isActive&&E===null||!w&&!S.prevProp||eS(w)||typeof w=="boolean")continue;const I=Nne(S.prevProp,w);let L=I||v===l&&S.isActive&&!T&&M||y>g&&M,P=!1;const R=Array.isArray(w)?w:[w];let k=R.reduce(i(v),{});E===!1&&(k={});const{prevResolvedValues:U={}}=S,V={...U,...k},X=q=>{L=!0,h.has(q)&&(P=!0,h.delete(q)),S.needsAnimating[q]=!0;const F=t.getValue(q);F&&(F.liveStyle=!1)};for(const q in V){const F=k[q],$=U[q];if(m.hasOwnProperty(q))continue;let G=!1;ET(F)&&ET($)?G=!I8(F,$):G=F!==$,G?F!=null?X(q):h.add(q):F!==void 0&&h.has(q)?X(q):S.protectedKeys[q]=!0}S.prevProp=w,S.prevResolvedValues=k,S.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(L=!1);const Y=T&&I;L&&(!Y||P)&&f.push(...R.map(q=>{const F={type:v};if(typeof q=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,G=wd($,q);if($.enteringChildren&&G){const{delayChildren:Z}=G.transition||{};F.delay=Qj($.enteringChildren,t,Z)}}return{animation:q,options:F}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const v=wd(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const S=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),y[v]=S??null}),f.push({animation:y})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=qL()}}}function Nne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!I8(e,t):!1}function bu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qL(){return{animate:bu(!0),whileInView:bu(),whileHover:bu(),whileTap:bu(),whileDrag:bu(),whileFocus:bu(),exit:bu()}}function YL(t,e){t.min=e.min,t.max=e.max}function Hs(t,e){YL(t.x,e.x),YL(t.y,e.y)}function KL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const N8=1e-4,One=1-N8,Lne=1+N8,O8=.01,Dne=0-O8,kne=0+O8;function ui(t){return t.max-t.min}function Fne(t,e,n){return Math.abs(t-e)<=n}function ZL(t,e,n,r=.5){t.origin=r,t.originPoint=Rn(e.min,e.max,t.origin),t.scale=ui(n)/ui(e),t.translate=Rn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=One&&t.scale<=Lne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Dne&&t.translate<=kne||isNaN(t.translate))&&(t.translate=0)}function Xp(t,e,n,r){ZL(t.x,e.x,n.x,r?r.originX:void 0),ZL(t.y,e.y,n.y,r?r.originY:void 0)}function JL(t,e,n){t.min=n.min+e.min,t.max=t.min+ui(e)}function Une(t,e,n){JL(t.x,e.x,n.x),JL(t.y,e.y,n.y)}function QL(t,e,n){t.min=e.min-n.min,t.max=t.min+ui(e)}function Bx(t,e,n){QL(t.x,e.x,n.x),QL(t.y,e.y,n.y)}function eD(t,e,n,r,i){return t-=e,t=zx(t,1/n,r),i!==void 0&&(t=zx(t,1/i,r)),t}function zne(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ho.test(e)&&(e=parseFloat(e),e=Rn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Rn(s.min,s.max,r);t===s&&(a-=e),t.min=eD(t.min,e,n,a,i),t.max=eD(t.max,e,n,a,i)}function tD(t,e,[n,r,i],s,o){zne(t,e[n],e[r],e[i],e.scale,s,o)}const Bne=["x","scaleX","originX"],Vne=["y","scaleY","originY"];function nD(t,e,n,r){tD(t.x,e,Bne,n?n.x:void 0,r?r.x:void 0),tD(t.y,e,Vne,n?n.y:void 0,r?r.y:void 0)}function rD(t){return t.translate===0&&t.scale===1}function L8(t){return rD(t.x)&&rD(t.y)}function iD(t,e){return t.min===e.min&&t.max===e.max}function jne(t,e){return iD(t.x,e.x)&&iD(t.y,e.y)}function sD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function D8(t,e){return sD(t.x,e.x)&&sD(t.y,e.y)}function oD(t){return ui(t.x)/ui(t.y)}function aD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Io(t){return[t("x"),t("y")]}function Hne(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const k8=["TopLeft","TopRight","BottomLeft","BottomRight"],Wne=k8.length,lD=t=>typeof t=="string"?parseFloat(t):t,uD=t=>typeof t=="number"||lt.test(t);function Gne(t,e,n,r,i,s){i?(t.opacity=Rn(0,n.opacity??1,$ne(r)),t.opacityExit=Rn(e.opacity??1,0,Xne(r))):s&&(t.opacity=Rn(e.opacity??1,n.opacity??1,r));for(let o=0;o<Wne;o++){const a=`border${k8[o]}Radius`;let l=cD(e,a),u=cD(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||uD(l)===uD(u)?(t[a]=Math.max(Rn(lD(l),lD(u),r),0),(Ho.test(u)||Ho.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Rn(e.rotate||0,n.rotate||0,r))}function cD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $ne=F8(0,.5,Rj),Xne=F8(.5,.95,As);function F8(t,e,n){return r=>r<t?0:r>e?1:n(Em(t,e,r))}function qne(t,e,n){const r=Yr(t)?t:Dd(t);return r.start(m2("",r,e,n)),r.animation}function Pm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Yne=(t,e)=>t.depth-e.depth;class Kne{constructor(){this.children=[],this.isDirty=!1}add(e){JP(this.children,e),this.isDirty=!0}remove(e){QP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yne),this.isDirty=!1,this.children.forEach(e)}}function Zne(t,e){const n=li.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vl(r),t(s-e))};return gn.setup(r,!0),()=>Vl(r)}function Yy(t){return Yr(t)?t.get():t}class Jne{constructor(){this.members=[]}add(e){JP(this.members,e),e.scheduleRender()}remove(e){if(QP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ky={hasAnimatedSinceResize:!0,hasEverUpdated:!1},RM=["","X","Y","Z"],Qne=1e3;let ere=0;function IM(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function U8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=i8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&U8(r)}function z8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ere++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rre),this.nodes.forEach(are),this.nodes.forEach(lre),this.nodes.forEach(ire)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kne)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=S2(o)&&!nne(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,c&&c(),c=Zne(h,250),Ky.hasAnimatedSinceResize&&(Ky.hasAnimatedSinceResize=!1,this.nodes.forEach(hD)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||hre,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!D8(this.targetLayout,m),S=!f&&h;if(this.options.layoutRoot||this.resumeFrom||S||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...p2(g,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(c,S)}else f||hD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ure),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ore),this.nodes.forEach(tre),this.nodes.forEach(nre)):this.nodes.forEach(dD),this.clearAllSnapshots();const a=li.now();Rr.delta=$o(0,1e3/60,a-Rr.timestamp),Rr.timestamp=a,Rr.isProcessing=!0,wM.update.process(Rr),wM.preRender.process(Rr),wM.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sre),this.sharedNodes.forEach(cre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ui(this.snapshot.measuredBox.x)&&!ui(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!L8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ju(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pre(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ar();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(mre))){const{scroll:c}=this.root;c&&(ad(a.x,c.offset.x),ad(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=ar();if(Hs(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Hs(a,o),ad(a.x,f.offset.x),ad(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=ar();Hs(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ld(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ju(c.latestValues)&&ld(l,c.latestValues)}return ju(this.latestValues)&&ld(l,this.latestValues),l}removeTransform(o){const a=ar();Hs(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ju(u.latestValues))continue;RT(u.latestValues)&&u.updateSnapshot();const c=ar(),f=u.measurePageBox();Hs(c,f),nD(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ju(this.latestValues)&&nD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!this.layout||!(c||f))return;this.resolvedRelativeTargetAt=Rr.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ar(),this.targetWithTransforms=ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Une(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),w8(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||RT(this.parent.latestValues)||S8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),Bx(this.relativeTargetOrigin,a,l),Hs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Hs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;hne(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ar());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KL(this.prevProjectionDelta.x,this.projectionDelta.x),KL(this.prevProjectionDelta.y,this.projectionDelta.y)),Xp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!aD(this.projectionDelta.x,this.prevProjectionDelta.x)||!aD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=od(),this.projectionDelta=od(),this.projectionDeltaWithTransform=od()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=od();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ar(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,y=this.getStack(),v=!y||y.members.length<=1,S=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(dre));this.animationProgress=0;let w;this.mixTargetDelta=M=>{const E=M/1e3;pD(f.x,o.x,E),pD(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fre(this.relativeTarget,this.relativeTargetOrigin,h,E),w&&jne(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ar()),Hs(w,this.relativeTarget)),x&&(this.animationValues=c,Gne(c,u,this.latestValues,E,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Vl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{Ky.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dd(0)),this.currentAnimation=qne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&B8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ar();const f=ui(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=ui(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Hs(a,l),ld(a,c),Xp(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jne),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&IM("z",o,u,this.animationValues);for(let c=0;c<RM.length;c++)IM(`rotate${RM[c]}`,o,u,this.animationValues),IM(`skew${RM[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yy(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yy(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ju(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Hne(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in NT){if(c[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:v}=NT[g],S=f==="none"?c[g]:x(c[g],u);if(y){const w=y.length;for(let M=0;M<w;M++)o[y[M]]=S}else v?this.options.visualElement.renderState.vars[g]=S:o[g]=S}this.options.layoutId&&(o.pointerEvents=u===this?Yy(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(fD),this.root.sharedNodes.clear()}}}function tre(t){t.updateLayout()}function nre(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Io(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=ui(h);h.min=r[f].min,h.max=h.min+m}):B8(s,e.layoutBox,r)&&Io(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=ui(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=od();Xp(a,r,e.layoutBox);const l=od();o?Xp(l,t.applyTransform(i,!0),e.measuredBox):Xp(l,r,e.layoutBox);const u=!L8(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=ar();Bx(g,e.layoutBox,h.layoutBox);const x=ar();Bx(x,r,m.layoutBox),D8(g,x)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ire(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sre(t){t.clearSnapshot()}function fD(t){t.clearMeasurements()}function dD(t){t.isLayoutDirty=!1}function ore(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function are(t){t.resolveTargetDelta()}function lre(t){t.calcProjection()}function ure(t){t.resetSkewAndRotation()}function cre(t){t.removeLeadSnapshot()}function pD(t,e,n){t.translate=Rn(e.translate,0,n),t.scale=Rn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mD(t,e,n,r){t.min=Rn(e.min,n.min,r),t.max=Rn(e.max,n.max,r)}function fre(t,e,n,r){mD(t.x,e.x,n.x,r),mD(t.y,e.y,n.y,r)}function dre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hre={duration:.45,ease:[.4,0,.1,1]},gD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vD=gD("applewebkit/")&&!gD("chrome/")?Math.round:As;function yD(t){t.min=vD(t.min),t.max=vD(t.max)}function pre(t){yD(t.x),yD(t.y)}function B8(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fne(oD(e),oD(n),.2)}function mre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const gre=z8({attachResizeListener:(t,e)=>Pm(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),NM={current:void 0},V8=z8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!NM.current){const t=new gre({});t.mount(window),t.setOptions({layoutScroll:!0}),NM.current=t}return NM.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j8=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vre(t=!0){const e=N.useContext(ZP);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=N.useId();N.useEffect(()=>{if(t)return i(s)},[t]);const o=N.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const H8=N.createContext({strict:!1}),xD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _D=!1;function yre(){if(_D)return;const t={};for(const e in xD)t[e]={isEnabled:n=>xD[e].some(r=>!!n[r])};y8(t),_D=!0}function W8(){return yre(),une()}function xre(t){const e=W8();for(const n in t)e[n]={...e[n],...t[n]};y8(e)}const _re=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Vx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_re.has(t)}let G8=t=>!Vx(t);function Sre(t){typeof t=="function"&&(G8=e=>e.startsWith("on")?!Vx(e):t(e))}try{Sre(require("@emotion/is-prop-valid").default)}catch{}function wre(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(G8(i)||n===!0&&Vx(i)||!e&&!Vx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const nS=N.createContext({});function bre(t,e){if(tS(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cm(n)?n:void 0,animate:Cm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Mre(t){const{initial:e,animate:n}=bre(t,N.useContext(nS));return N.useMemo(()=>({initial:e,animate:n}),[SD(e),SD(n)])}function SD(t){return Array.isArray(t)?t.join(" "):t}const A2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $8(t,e,n){for(const r in e)!Yr(e[r])&&!E8(r,n)&&(t[r]=e[r])}function Ere({transformTemplate:t},e){return N.useMemo(()=>{const n=A2();return M2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Are(t,e){const n=t.style||{},r={};return $8(r,n,t),Object.assign(r,Ere(t,e)),r}function Tre(t,e){const n={},r=Are(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const X8=()=>({...A2(),attrs:{}});function Cre(t,e,n,r){const i=N.useMemo(()=>{const s=X8();return A8(s,e,C8(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$8(s,t.style,t),i.style={...s,...i.style}}return i}const Pre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T2(t){return typeof t!="string"||t.includes("-")?!1:!!(Pre.indexOf(t)>-1||/[A-Z]/u.test(t))}function Rre(t,e,n,{latestValues:r},i,s=!1,o){const l=(o??T2(t)?Cre:Tre)(e,r,i,t),u=wre(e,typeof t=="string",s),c=t!==N.Fragment?{...u,...l,ref:n}:{},{children:f}=e,h=N.useMemo(()=>Yr(f)?f.get():f,[f]);return N.createElement(t,{...c,children:h})}function Ire({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Nre(n,r,i,t),renderState:e()}}function Nre(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Yy(s[h]);let{initial:o,animate:a}=t;const l=tS(t),u=v8(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!eS(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=g2(t,h[m]);if(g){const{transitionEnd:x,transition:y,...v}=g;for(const S in v){let w=v[S];if(Array.isArray(w)){const M=c?w.length-1:0;w=w[M]}w!==null&&(i[S]=w)}for(const S in x)i[S]=x[S]}}}return i}const q8=t=>(e,n)=>{const r=N.useContext(nS),i=N.useContext(ZP),s=()=>Ire(t,e,r,i);return n?s():LQ(s)},Ore=q8({scrapeMotionValuesFromProps:E2,createRenderState:A2}),Lre=q8({scrapeMotionValuesFromProps:P8,createRenderState:X8}),Dre=Symbol.for("motionComponentSymbol");function kre(t,e,n){const r=N.useRef(n);N.useInsertionEffect(()=>{r.current=n});const i=N.useRef(null);return N.useCallback(s=>{var a;s&&((a=t.onMount)==null||a.call(t,s)),e&&(s?e.mount(s):e.unmount());const o=r.current;if(typeof o=="function")if(s){const l=o(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const Y8=N.createContext({});function jf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Fre(t,e,n,r,i,s){var w,M;const{visualElement:o}=N.useContext(nS),a=N.useContext(H8),l=N.useContext(ZP),u=N.useContext(j8),c=u.reducedMotion,f=u.skipAnimations,h=N.useRef(null),m=N.useRef(!1);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,skipAnimations:f,isSVG:s}),m.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const g=h.current,x=N.useContext(Y8);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Ure(h.current,n,i,x);const y=N.useRef(!1);N.useInsertionEffect(()=>{g&&y.current&&g.update(n,l)});const v=n[r8],S=N.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,v)));return DQ(()=>{m.current=!0,g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),S.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),S.current=!1),g.enteringChildren=void 0)}),g}function Ure(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:K8(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&jf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function K8(t){if(t)return t.options.allowProjection!==!1?t.projection:K8(t.parent)}function OM(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&xre(r);const s=n?n==="svg":T2(t),o=s?Lre:Ore;function a(u,c){let f;const h={...N.useContext(j8),...u,layoutId:zre(u)},{isStatic:m}=h,g=Mre(u),x=o(u,m);if(!m&&xj){Bre();const y=Vre(h);f=y.MeasureLayout,g.visualElement=Fre(t,x,h,i,y.ProjectionNode,s)}return C.jsxs(nS.Provider,{value:g,children:[f&&g.visualElement?C.jsx(f,{visualElement:g.visualElement,...h}):null,Rre(t,u,kre(x,g.visualElement,c),x,m,e,s)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=N.forwardRef(a);return l[Dre]=t,l}function zre({layoutId:t}){const e=N.useContext(yj).id;return e&&t!==void 0?e+"-"+t:t}function Bre(t,e){N.useContext(H8).strict}function Vre(t){const e=W8(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function jre(t,e){if(typeof Proxy>"u")return OM;const n=new Map,r=(s,o)=>OM(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,OM(o,void 0,t,e)),n.get(o))})}const Hre=(t,e)=>e.isSVG??T2(t)?new Ane(e):new _ne(e,{allowProjection:t!==N.Fragment});class Wre extends Ql{constructor(e){super(e),e.animationState||(e.animationState=Ine(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Gre=0;class $re extends Ql{constructor(){super(...arguments),this.id=Gre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xre={animation:{Feature:Wre},exit:{Feature:$re}};function Ag(t){return{point:{x:t.pageX,y:t.pageY}}}const qre=t=>e=>_2(e)&&t(e,Ag(e));function qp(t,e,n,r){return Pm(t,e,qre(n),r)}const Z8=({current:t})=>t?t.ownerDocument.defaultView:null,wD=(t,e)=>Math.abs(t-e);function Yre(t,e){const n=wD(t.x,e.x),r=wD(t.y,e.y);return Math.sqrt(n**2+r**2)}const bD=new Set(["auto","scroll"]);class J8{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=DM(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Yre(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:y}=m,{timestamp:v}=Rr;this.history.push({...y,timestamp:v});const{onStart:S,onMove:w}=this.handlers;g||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=LM(g,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=DM(m.type==="pointercancel"?this.lastMoveEventInfo:LM(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,S),y&&y(m,S)},!_2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Ag(e),u=LM(l,this.transformPagePoint),{point:c}=u,{timestamp:f}=Rr;this.history=[{...c,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,DM(u,this.history)),this.removeListeners=bg(qp(this.contextWindow,"pointermove",this.handlePointerMove),qp(this.contextWindow,"pointerup",this.handlePointerUp),qp(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(bD.has(r.overflowX)||bD.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),gn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vl(this.updatePoint)}}function LM(t,e){return e?{point:e(t.point)}:t}function MD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function DM({point:t},e){return{point:t,delta:MD(t,Q8(e)),offset:MD(t,Kre(e)),velocity:Zre(e,.1)}}function Kre(t){return t[0]}function Q8(t){return t[t.length-1]}function Zre(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Q8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>jo(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>jo(e)*2&&(r=t[1]);const s=bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rn(n,t,r.max):Math.min(t,n)),t}function ED(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qre(t,{top:e,left:n,bottom:r,right:i}){return{x:ED(t.x,n,i),y:ED(t.y,e,r)}}function AD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eie(t,e){return{x:AD(t.x,e.x),y:AD(t.y,e.y)}}function tie(t,e){let n=.5;const r=ui(t),i=ui(e);return i>r?n=Em(e.min,e.max-r,t.min):r>i&&(n=Em(t.min,t.max-i,e.min)),$o(0,1,n)}function nie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const OT=.35;function rie(t=OT){return t===!1?t=0:t===!0&&(t=OT),{x:TD(t,"left","right"),y:TD(t,"top","bottom")}}function TD(t,e,n){return{min:CD(t,e),max:CD(t,n)}}function CD(t,e){return typeof t=="number"?t:t[e]||0}const iie=new WeakMap;class sie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ar(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{n&&this.snapToCursor(Ag(f).point),this.stopAnimation()},o=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zte(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Io(v=>{let S=this.getAxisMotionValue(v).get()||0;if(Ho.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const M=w.layout.layoutBox[v];M&&(S=ui(M)*(parseFloat(S)/100))}}this.originPoint[v]=S}),x&&gn.update(()=>x(f,h),!1,!0),AT(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=aie(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&gn.update(()=>y(f,h),!1,!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:c}=this.getProps();this.panSession=new J8(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:Z8(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&gn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Jre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&jf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Qre(r.layoutBox,e):this.constraints=!1,this.elastic=rie(n),i!==this.constraints&&!jf(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Io(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nie(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pne(r,i.root,this.visualElement.getTransformPagePoint());let o=eie(i.layout.layoutBox,s);if(n){const a=n(fne(o));this.hasMutatedConstraints=!!a,a&&(o=_8(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Io(c=>{if(!Sv(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return AT(this.visualElement,e),r.start(m2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Io(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Io(n=>{const{drag:r}=this.getProps();if(!Sv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n],l=s.get()||0;s.set(e[n]-Rn(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Io(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=tie({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Io(o=>{if(!Sv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Rn(l,u,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;iie.set(this.visualElement,this);const e=this.visualElement.current,n=qp(e,"pointerdown",u=>{const{drag:c,dragListener:f=!0}=this.getProps(),h=u.target,m=h!==e&&Gte(h);c&&f&&!m&&this.start(u)});let r;const i=()=>{const{dragConstraints:u}=this.getProps();jf(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),r||(r=oie(e,u.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gn.read(i);const a=Pm(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Io(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=OT,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function PD(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function oie(t,e,n){const r=UL(t,PD(n)),i=UL(e,PD(n));return()=>{r(),i()}}function Sv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lie extends Ql{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new sie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const kM=t=>(e,n)=>{t&&gn.update(()=>t(e,n),!1,!0)};class uie extends Ql{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new J8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kM(e),onStart:kM(n),onMove:kM(r),onEnd:(s,o)=>{delete this.session,i&&gn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=qp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let FM=!1;class cie extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),FM&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ky.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),FM=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||gn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),x2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;FM=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e6(t){const[e,n]=vre(),r=N.useContext(yj);return C.jsx(cie,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(Y8),isPresent:e,safeToRemove:n})}const fie={pan:{Feature:uie},drag:{Feature:lie,ProjectionNode:V8,MeasureLayout:e6}};function RD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&gn.postRender(()=>s(e,Ag(e)))}class die extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=Vte(e,(n,r)=>(RD(this.node,r,"Start"),i=>RD(this.node,i,"End"))))}unmount(){}}class hie extends Ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bg(Pm(this.node.current,"focus",()=>this.onFocus()),Pm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ID(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&gn.postRender(()=>s(e,Ag(e)))}class pie extends Ql{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=Xte(e,(i,s)=>(ID(this.node,s,"Start"),(o,{success:a})=>ID(this.node,o,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const LT=new WeakMap,UM=new WeakMap,mie=t=>{const e=LT.get(t.target);e&&e(t)},gie=t=>{t.forEach(mie)};function vie({root:t,...e}){const n=t||document;UM.has(n)||UM.set(n,{});const r=UM.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gie,{root:t,...e})),r[i]}function yie(t,e,n){const r=vie(e);return LT.set(t,n),r.observe(t),()=>{LT.delete(t),r.unobserve(t)}}const xie={some:0,all:1};class _ie extends Ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xie[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return yie(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Sie(e,n))&&this.startObserver()}unmount(){}}function Sie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wie={inView:{Feature:_ie},tap:{Feature:pie},focus:{Feature:hie},hover:{Feature:die}},bie={layout:{ProjectionNode:V8,MeasureLayout:e6}},Mie={...Xre,...wie,...fie,...bie},ND=jre(Mie,Hre),Eie=({mousePos:t})=>C.jsxs("div",{className:"relative w-[500px] h-[500px] flex items-center justify-center",children:[C.jsx(ND.div,{animate:{scale:[1,1.1,1],rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute w-64 h-64 bg-gradient-to-tr from-blue-600 to-indigo-400 rounded-full blur-[80px] opacity-40"}),[...Array(3)].map((e,n)=>C.jsx(ND.div,{className:"absolute border border-white/10 rounded-full",animate:{width:[300+n*50,400+n*50,300+n*50],height:[300+n*50,400+n*50,300+n*50],rotate:n%2===0?360:-360,x:(t.x-.5)*(20+n*10),y:(t.y-.5)*(20+n*10)},transition:{width:{duration:8,repeat:1/0,ease:"easeInOut",delay:n},rotate:{duration:25,repeat:1/0,ease:"linear"}},style:{borderRadius:"40% 60% 70% 30% / 40% 50% 60% 70%"}},n)),C.jsx("div",{className:"z-10 text-center select-none",children:C.jsx("div",{className:"text-[120px] font-black tracking-tighter text-white/5",children:"QAZZEREP"})})]});function Aie(){const[t,e]=N.useState("dark"),[n,r]=N.useState(!0),[i,s]=N.useState({x:.5,y:.5}),[o,a]=N.useState({email:"",password:"",fullName:"",role:"STUDENT",school:"",schoolCode:""}),l=c=>{s({x:c.clientX/window.innerWidth,y:c.clientY/window.innerHeight})},u=async c=>{var h,m;c.preventDefault();const f=n?"/auth/login":"/auth/register";try{const g=await Wn.post(f,n?{email:o.email,password:o.password}:o);g.data.token&&(localStorage.setItem("token",g.data.token),window.location.href="/")}catch(g){alert(((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.message)||"")}};return C.jsxs("div",{onMouseMove:l,className:"h-screen w-full flex bg-[#0a0a0a] text-zinc-100 font-sans overflow-hidden",children:[C.jsxs("div",{className:"w-full lg:w-[500px] flex flex-col p-12 bg-white/5 backdrop-blur-3xl border-r border-white/5 z-20 overflow-y-auto",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-20",children:[C.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center",children:C.jsx(Pa,{size:22,className:"text-black fill-current"})}),C.jsx("span",{className:"font-medium text-2xl tracking-tighter italic",children:"QazZerep"})]}),C.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[C.jsx("h2",{className:"text-5xl font-light tracking-tighter mb-2",children:n?"":""}),C.jsx("p",{className:"text-zinc-600 text-[10px] uppercase tracking-[0.4em] mb-12 font-mono",children:"System.Access.Secure_Terminal"}),C.jsxs("form",{className:"space-y-4",onSubmit:u,children:[!n&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"relative group",children:[C.jsx(KP,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500"}),C.jsx("input",{type:"text",placeholder:"Full Name",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-blue-500/50",onChange:c=>a({...o,fullName:c.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-2xl py-4 px-4 outline-none text-[10px] font-bold uppercase tracking-widest cursor-pointer",onChange:c=>a({...o,role:c.target.value}),children:[C.jsx("option",{value:"STUDENT",children:"Student"}),C.jsx("option",{value:"TEACHER",children:"Teacher"})]}),C.jsx("input",{type:"text",placeholder:"School",className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 px-4 outline-none",onChange:c=>a({...o,school:c.target.value})})]}),o.role==="TEACHER"&&C.jsxs("div",{className:"relative",children:[C.jsx(wg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500"}),C.jsx("input",{type:"text",placeholder:"School Access Code",required:!0,className:"w-full bg-emerald-500/5 border border-emerald-500/20 rounded-2xl py-4 pl-12 pr-4 outline-none text-emerald-500",onChange:c=>a({...o,schoolCode:c.target.value})})]})]}),C.jsxs("div",{className:"relative",children:[C.jsx(TQ,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500"}),C.jsx("input",{type:"email",placeholder:"Email",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-blue-500/50",onChange:c=>a({...o,email:c.target.value})})]}),C.jsxs("div",{className:"relative",children:[C.jsx(dT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500"}),C.jsx("input",{type:"password",placeholder:"Password",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-blue-500/50",onChange:c=>a({...o,password:c.target.value})})]}),C.jsxs("button",{className:"w-full bg-white text-black font-black text-[11px] uppercase tracking-[0.2em] py-5 rounded-2xl flex items-center justify-center gap-3 mt-8 hover:bg-blue-600 hover:text-white transition-colors",children:[n?"Initialize":"Create Account"," ",C.jsx(mQ,{})]})]}),C.jsx("button",{onClick:()=>r(!n),className:"mt-10 text-[9px] text-zinc-600 hover:text-blue-500 uppercase tracking-[0.3em] font-bold w-full",children:n?"// Request Access":"// Sign In"})]})]}),C.jsxs("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-[#050505] relative",children:[C.jsx(Eie,{mousePos:i}),C.jsxs("div",{className:"absolute bottom-12 right-12 text-right font-mono text-[10px] opacity-20",children:["CORE_ID: 0x2294 ",C.jsx("br",{})," STATUS: OPERATIONAL"]})]}),C.jsx("style",{children:`
        input::placeholder { color: #444; font-size: 11px; text-transform: uppercase; letter-spacing: 2px; }
        body { cursor: crosshair; background: #0a0a0a; }
        select option { background: #0a0a0a; }
      `})]})}const Mt=t=>typeof t=="string",np=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},OD=t=>t==null?"":""+t,Tie=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Cie=/###/g,LD=t=>t&&t.indexOf("###")>-1?t.replace(Cie,"."):t,DD=t=>!t||Mt(t),Yp=(t,e,n)=>{const r=Mt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(DD(t))return{};const s=LD(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return DD(t)?{}:{obj:t,k:LD(r[i])}},kD=(t,e,n)=>{const{obj:r,k:i}=Yp(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Yp(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Yp(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},Pie=(t,e,n,r)=>{const{obj:i,k:s}=Yp(t,e,Object);i[s]=i[s]||[],i[s].push(n)},jx=(t,e)=>{const{obj:n,k:r}=Yp(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Rie=(t,e,n)=>{const r=jx(t,n);return r!==void 0?r:jx(e,n)},t6=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Mt(t[r])||t[r]instanceof String||Mt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):t6(t[r],e[r],n):t[r]=e[r]);return t},df=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Iie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Nie=t=>Mt(t)?t.replace(/[&<>"'\/]/g,e=>Iie[e]):t;class Oie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Lie=[" ",",","?","!",";"],Die=new Oie(20),kie=(t,e,n)=>{e=e||"",n=n||"";const r=Lie.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=Die.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},DT=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},Rm=t=>t==null?void 0:t.replace("_","-"),Fie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Hx{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Fie,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Mt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Hx(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Hx(this.logger,e)}}var Lo=new Hx;let rS=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}};class FD extends rS{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,c;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):Mt(r)&&s?a.push(...r.split(s)):a.push(r)));const l=jx(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!Mt(r)?l:DT((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),kD(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(Mt(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=jx(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?t6(l,r,s):l={...l,...r},kD(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var n6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const r6=Symbol("i18next/PATH_KEY");function Uie(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===r6?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function kT(t,e){const{[r6]:n}=t(Uie());return n.join((e==null?void 0:e.keySeparator)??".")}const UD={},zM=t=>!Mt(t)&&typeof t!="boolean"&&typeof t!="number";class Wx extends rS{constructor(e,n={}){super(),Tie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const s=zM(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!kie(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Mt(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:Mt(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=kT(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let c=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const f=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${c}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:a;const m=this.resolve(e,i);let g=m==null?void 0:m.res;const x=(m==null?void 0:m.usedKey)||a,y=(m==null?void 0:m.exactUsedKey)||a,v=["[object Number]","[object Function]","[object RegExp]"],S=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!Mt(i.count),E=Wx.hasDefaultValue(i),T=M?this.pluralResolver.getSuffix(f,i.count,i):"",I=i.ordinal&&M?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",L=M&&!i.ordinal&&i.count===0,P=L&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${T}`]||i[`defaultValue${I}`]||i.defaultValue;let R=g;w&&!g&&E&&(R=P);const k=zM(R),U=Object.prototype.toString.apply(R);if(w&&R&&k&&v.indexOf(U)<0&&!(Mt(S)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,R,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(m.res=V,m.usedParams=this.getUsedParamsDetails(i),m):V}if(o){const V=Array.isArray(R),X=V?[]:{},Y=V?y:x;for(const K in R)if(Object.prototype.hasOwnProperty.call(R,K)){const q=`${Y}${o}${K}`;E&&!g?X[K]=this.translate(q,{...i,defaultValue:zM(P)?P[K]:void 0,joinArrays:!1,ns:l}):X[K]=this.translate(q,{...i,joinArrays:!1,ns:l}),X[K]===q&&(X[K]=R[K])}g=X}}else if(w&&Mt(S)&&Array.isArray(g))g=g.join(S),g&&(g=this.extendTranslation(g,e,i,r));else{let V=!1,X=!1;!this.isValidLookup(g)&&E&&(V=!0,g=P),this.isValidLookup(g)||(X=!0,g=a);const K=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:g,q=E&&P!==g&&this.options.updateMissing;if(X||V||q){if(this.logger.log(q?"updateKey":"missingKey",f,u,a,q?P:g),o){const Z=this.resolve(a,{...i,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let Z=0;Z<$.length;Z++)F.push($[Z]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const G=(Z,fe,Ee)=>{var ct;const Ge=E&&Ee!==g?Ee:K;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,fe,Ge,q,i):(ct=this.backendConnector)!=null&&ct.saveMissing&&this.backendConnector.saveMissing(Z,u,fe,Ge,q,i),this.emit("missingKey",Z,u,fe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?F.forEach(Z=>{const fe=this.pluralResolver.getSuffixes(Z,i);L&&i[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(Ee=>{G([Z],a+Ee,i[`defaultValue${Ee}`]||P)})}):G(F,a,P))}g=this.extendTranslation(g,e,i,m,r),X&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${u}${c}${a}`),(X||V)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${a}`:a,V?g:void 0,i))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(i),m):g}extendTranslation(e,n,r,i,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Mt(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=r.replace&&!Mt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>(s==null?void 0:s[0])===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=Mt(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=n6.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return Mt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!Mt(n.count),m=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Mt(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(y=>{var v,S;this.isValidLookup(r)||(a=y,!UD[`${x[0]}-${y}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((S=this.utils)!=null&&S.hasLoadedNamespace(a))&&(UD[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var T;if(this.isValidLookup(r))return;o=w;const M=[c];if((T=this.i18nFormat)!=null&&T.addLookupKeys)this.i18nFormat.addLookupKeys(M,c,w,y,n);else{let I;h&&(I=this.pluralResolver.getSuffix(w,n.count,n));const L=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&I.indexOf(P)===0&&M.push(c+I.replace(P,this.options.pluralSeparator)),M.push(c+I),m&&M.push(c+L)),g){const R=`${c}${this.options.contextSeparator||"_"}${n.context}`;M.push(R),h&&(n.ordinal&&I.indexOf(P)===0&&M.push(R+I.replace(P,this.options.pluralSeparator)),M.push(R+I),m&&M.push(R+L))}}let E;for(;E=M.pop();)this.isValidLookup(r)||(s=E,r=this.getResource(w,y,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Mt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class zD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lo.create("languageUtils")}getScriptPartFromCode(e){if(e=Rm(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Rm(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Mt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Mt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Mt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Mt(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const BD={zero:0,one:1,two:2,few:3,many:4,other:5},VD={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class zie{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Lo.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Rm(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),VD;if(!e.match(/-|_/))return VD;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>BD[i]-BD[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const jD=(t,e,n,r=".",i=!0)=>{let s=Rie(t,e,n);return!s&&i&&Mt(n)&&(s=DT(t,n,r),s===void 0&&(s=DT(e,n,r))),s},BM=t=>t.replace(/\$/g,"$$$$");class HD{constructor(e={}){var n;this.logger=Lo.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:S}=e.interpolation;this.escape=n!==void 0?n:Nie,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?df(s):o||"{{",this.suffix=a?df(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?df(h):m||df("$t("),this.nestingSuffix=g?df(g):x||df(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var m;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const S=jD(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...i,...n,interpolationkey:g}):S}const x=g.split(this.formatSeparator),y=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(jD(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>BM(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?BM(this.escape(g)):BM(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const x=s[1].trim();if(o=u(x),o===void 0)if(typeof c=="function"){const v=c(e,s,i);o=Mt(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),o="";else!Mt(o)&&!this.useRawValueToEscape&&(o=OD(o));const y=g.safeValue(o);if(e=e.replace(s[0],y),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${c}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!Mt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Mt(s))return s;Mt(s)||(s=OD(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const Bie=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},WD=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(Rm(r),i),e[o]=a),a(n)}},Vie=t=>(e,n,r)=>t(Rm(n),r)(e);class jie{constructor(e={}){this.logger=Lo.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?WD:Vie;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=WD(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var f;const{formatName:u,formatOptions:c}=Bie(l);if(this.formats[u]){let h=a;try{const m=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=m.locale||m.lng||i.locale||i.lng||r;h=this.formats[u](a,g,{...c,...i,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const Hie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Wie extends rS{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Lo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(f=>{const h=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,c=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{Pie(l.loaded,[s],o),Hie(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Mt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Mt(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,u,c,f,h;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,m):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(y=>a(null,y)).catch(a):a(null,x)}catch(x){a(x)}else g(e,n,r,i,a,m)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const VM=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Mt(t[1])&&(e.defaultValue=t[1]),Mt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),GD=t=>{var e,n;return Mt(t.ns)&&(t.ns=[t.ns]),Mt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Mt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},wv=()=>{},Gie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},$ie=t=>{var e,n,r,i,s,o,a,l,u;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((a=(o=(s=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:s.constructor)==null?void 0:o.name)==null?void 0:a.indexOf("Locize"))>0||(u=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&u.backends&&t.options.backend.backends.some(c=>{var f,h,m;return((f=c==null?void 0:c.name)==null?void 0:f.indexOf("Locize"))>0||((m=(h=c==null?void 0:c.constructor)==null?void 0:h.name)==null?void 0:m.indexOf("Locize"))>0}))};class Kp extends rS{constructor(e={},n){if(super(),this.options=GD(e),this.services={},this.logger=Lo,this.modules={external:[]},Gie(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Mt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=VM();this.options={...r,...this.options,...GD(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!$ie(this)&&typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ");const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Lo.init(i(this.modules.logger),this.options):Lo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=jie;const c=new zD(this.options);this.store=new FD(this.options.resources,this.options);const f=this.services;f.logger=Lo,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new zie(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new HD(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Wie(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Wx(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=wv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const a=np(),l=()=>{const u=(c,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(c,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=wv){var s,o;let r=n;const i=Mt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=np();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=wv),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&n6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=np();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var c,f;!e&&!a&&this.services.languageDetector&&(a=[]);const l=Mt(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Mt(a)?[a]:a);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,h=>{s(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(s)?c=s.map(f=>(typeof f=="function"&&(f=kT(f,{...this.options,...o})),`${l.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=kT(s,{...this.options,...o})),c=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(c,l)};return Mt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=np();return this.options.ns?(Mt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=np();Mt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new zD(VM());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Kp(e,n);return r.createInstance=Kp.createInstance,r}cloneInstance(e={},n=wv){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Kp(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),l[u]),l),{});s.store=new FD(a,i),s.services.resourceStore=s.store}if(e.interpolation){const l={...VM().interpolation,...this.options.interpolation,...e.interpolation},u={...i,interpolation:l};s.services.interpolator=new HD(u)}return s.translator=new Wx(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vi=Kp.createInstance();vi.createInstance;vi.dir;vi.init;vi.loadResources;vi.reloadResources;vi.use;vi.changeLanguage;vi.getFixedT;vi.t;vi.exists;vi.setDefaultNamespace;vi.hasLoadedNamespace;vi.loadNamespaces;vi.loadLanguages;const Xie=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Ac(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},$D={},i6=(t,e,n,r)=>{Ac(n)&&$D[n]||(Ac(n)&&($D[n]=new Date),Xie(t,e,n,r))},s6=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},FT=(t,e,n)=>{t.loadNamespaces(e,s6(t,n))},XD=(t,e,n,r)=>{if(Ac(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return FT(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,s6(t,r))},qie=(t,e,n={})=>!e.languages||!e.languages.length?(i6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Ac=t=>typeof t=="string",Yie=t=>typeof t=="object"&&t!==null,Kie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Zie={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jie=t=>Zie[t],Qie=t=>t.replace(Kie,Jie);let UT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qie,transDefaultProps:void 0};const ese=(t={})=>{UT={...UT,...t}},tse=()=>UT;let o6;const nse=t=>{o6=t},rse=()=>o6,ise={type:"3rdParty",init(t){ese(t.options.react),nse(t)}},sse=N.createContext();class ose{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var a6={exports:{}},l6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=N;function ase(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lse=typeof Object.is=="function"?Object.is:ase,use=kd.useState,cse=kd.useEffect,fse=kd.useLayoutEffect,dse=kd.useDebugValue;function hse(t,e){var n=e(),r=use({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return fse(function(){i.value=n,i.getSnapshot=e,jM(i)&&s({inst:i})},[t,n,e]),cse(function(){return jM(i)&&s({inst:i}),t(function(){jM(i)&&s({inst:i})})},[t]),dse(n),n}function jM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lse(t,n)}catch{return!0}}function pse(t,e){return e()}var mse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pse:hse;l6.useSyncExternalStore=kd.useSyncExternalStore!==void 0?kd.useSyncExternalStore:mse;a6.exports=l6;var u6=a6.exports;const gse=(t,e)=>Ac(e)?e:Yie(e)&&Ac(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,vse={t:gse,ready:!1},yse=()=>()=>{},Tg=(t,e={})=>{var P,R,k;const{i18n:n}=e,{i18n:r,defaultNS:i}=N.useContext(sse)||{},s=n||r||rse();s&&!s.reportNamespaces&&(s.reportNamespaces=new ose),s||i6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=N.useMemo(()=>{var U;return{...tse(),...(U=s==null?void 0:s.options)==null?void 0:U.react,...e}},[s,e]),{useSuspense:a,keyPrefix:l}=o,u=i||((P=s==null?void 0:s.options)==null?void 0:P.defaultNS),c=Ac(u)?[u]:u||["translation"],f=N.useMemo(()=>c,c);(k=(R=s==null?void 0:s.reportNamespaces)==null?void 0:R.addUsedNamespaces)==null||k.call(R,f);const h=N.useRef(0),m=N.useCallback(U=>{if(!s)return yse;const{bindI18n:V,bindI18nStore:X}=o,Y=()=>{h.current+=1,U()};return V&&s.on(V,Y),X&&s.store.on(X,Y),()=>{V&&V.split(" ").forEach(K=>s.off(K,Y)),X&&X.split(" ").forEach(K=>s.store.off(K,Y))}},[s,o]),g=N.useRef(),x=N.useCallback(()=>{if(!s)return vse;const U=!!(s.isInitialized||s.initializedStoreOnce)&&f.every(F=>qie(F,s,o)),V=e.lng||s.language,X=h.current,Y=g.current;if(Y&&Y.ready===U&&Y.lng===V&&Y.keyPrefix===l&&Y.revision===X)return Y;const q={t:s.getFixedT(V,o.nsMode==="fallback"?f:f[0],l),ready:U,lng:V,keyPrefix:l,revision:X};return g.current=q,q},[s,f,l,o,e.lng]),[y,v]=N.useState(0),{t:S,ready:w}=u6.useSyncExternalStore(m,x,x);N.useEffect(()=>{if(s&&!w&&!a){const U=()=>v(V=>V+1);e.lng?XD(s,e.lng,f,U):FT(s,f,U)}},[s,e.lng,f,w,a,y]);const M=s||{},E=N.useRef(null),T=N.useRef(),I=U=>{const V=Object.getOwnPropertyDescriptors(U);V.__original&&delete V.__original;const X=Object.create(Object.getPrototypeOf(U),V);if(!Object.prototype.hasOwnProperty.call(X,"__original"))try{Object.defineProperty(X,"__original",{value:U,writable:!1,enumerable:!1,configurable:!1})}catch{}return X},L=N.useMemo(()=>{const U=M,V=U==null?void 0:U.language;let X=U;U&&(E.current&&E.current.__original===U?T.current!==V?(X=I(U),E.current=X,T.current=V):X=E.current:(X=I(U),E.current=X,T.current=V));const Y=[S,X,w];return Y.t=S,Y.i18n=X,Y.ready=w,Y},[S,M,w,M.resolvedLanguage,M.language,M.languages]);if(s&&a&&!w)throw new Promise(U=>{const V=()=>U();e.lng?XD(s,e.lng,f,V):FT(s,f,V)});return L},xse=()=>{const[t,e]=N.useState(()=>localStorage.getItem("qazzerep_theme")||"system");return N.useEffect(()=>{const n=window.document.documentElement,r=()=>{t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?n.classList.add("dark"):n.classList.remove("dark")};if(r(),localStorage.setItem("qazzerep_theme",t),t==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>r();return i.addEventListener("change",s),()=>i.removeEventListener("change",s)}},[t]),{theme:t,setTheme:e}};var _se=Object.defineProperty,Gx=Object.getOwnPropertySymbols,c6=Object.prototype.hasOwnProperty,f6=Object.prototype.propertyIsEnumerable,qD=(t,e,n)=>e in t?_se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zT=(t,e)=>{for(var n in e||(e={}))c6.call(e,n)&&qD(t,n,e[n]);if(Gx)for(var n of Gx(e))f6.call(e,n)&&qD(t,n,e[n]);return t},BT=(t,e)=>{var n={};for(var r in t)c6.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Gx)for(var r of Gx(t))e.indexOf(r)<0&&f6.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Tc;(t=>{const e=class kt{constructor(l,u,c,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<kt.MIN_VERSION||l>kt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(c);if(this.drawCodewords(m),f==-1){let g=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const y=this.getPenaltyScore();y<g&&(f=x,g=y),this.applyMask(x)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return kt.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return kt.encodeSegments([c],u)}static encodeSegments(l,u,c=1,f=40,h=-1,m=!0){if(!(kt.MIN_VERSION<=c&&c<=f&&f<=kt.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,x;for(g=c;;g++){const w=kt.getNumDataCodewords(g,u)*8,M=o.getTotalBits(l,g);if(M<=w){x=M;break}if(g>=f)throw new RangeError("Data too long")}for(const w of[kt.Ecc.MEDIUM,kt.Ecc.QUARTILE,kt.Ecc.HIGH])m&&x<=kt.getNumDataCodewords(g,w)*8&&(u=w);let y=[];for(const w of l){n(w.mode.modeBits,4,y),n(w.numChars,w.mode.numCharCountBits(g),y);for(const M of w.getData())y.push(M)}i(y.length==x);const v=kt.getNumDataCodewords(g,u)*8;i(y.length<=v),n(0,Math.min(4,v-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let w=236;y.length<v;w^=253)n(w,8,y);let S=[];for(;S.length*8<y.length;)S.push(0);return y.forEach((w,M)=>S[M>>>3]|=w<<7-(M&7)),new kt(g,u,S,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let f=0;f<u;f++)c==0&&f==0||c==0&&f==u-1||c==u-1&&f==0||this.drawAlignmentPattern(l[c],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let h=0;h<10;h++)c=c<<1^(c>>>9)*1335;const f=(u<<10|c)^21522;i(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const f=r(u,c),h=this.size-11+c%3,m=Math.floor(c/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(c)),m=l+f,g=u+c;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+c,Math.max(Math.abs(f),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=kt.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const f=kt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],h=kt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor(kt.getNumRawDataModules(u)/8),g=f-m%f,x=Math.floor(m/f);let y=[];const v=kt.reedSolomonComputeDivisor(h);for(let w=0,M=0;w<f;w++){let E=l.slice(M,M+x-h+(w<g?0:1));M+=E.length;const T=kt.reedSolomonComputeRemainder(E,v);w<g&&E.push(0),y.push(E.concat(T))}let S=[];for(let w=0;w<y[0].length;w++)y.forEach((M,E)=>{(w!=x-h||E>=g)&&S.push(M[w])});return i(S.length==m),S}drawCodewords(l){if(l.length!=Math.floor(kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=c-h,x=(c+1&2)==0?this.size-1-f:f;!this.isFunction[x][m]&&u<l.length*8&&(this.modules[x][m]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let f;switch(l){case 0:f=(c+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+u)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:f=c*u%2+c*u%3==0;break;case 6:f=(c*u%2+c*u%3)%2==0;break;case 7:f=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&f&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,g=0,x=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==m?(g++,g==5?l+=kt.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,x),m||(l+=this.finderPenaltyCountPatterns(x)*kt.PENALTY_N3),m=this.modules[h][y],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,x)*kt.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,x=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==m?(g++,g==5?l+=kt.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,x),m||(l+=this.finderPenaltyCountPatterns(x)*kt.PENALTY_N3),m=this.modules[y][h],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,x)*kt.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(l+=kt.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const c=this.size*this.size,f=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=f&&f<=9),l+=f*kt.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let f=this.size-7;c.length<l;f-=u)c.splice(1,0,f);return c}}static getNumRawDataModules(l){if(l<kt.MIN_VERSION||l>kt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(kt.getNumRawDataModules(l)/8)-kt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*kt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let c=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=kt.reedSolomonMultiply(u[h],c),h+1<u.length&&(u[h]^=u[h+1]);c=kt.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(f=>0);for(const f of l){const h=f^c.shift();c.push(0),u.forEach((m,g)=>c[g]^=kt.reedSolomonMultiply(m,h))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(u>>>f&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(a>>>c&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const s=class Un{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new Un(Un.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!Un.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const f=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+f),10),f*3+1,u),c+=f}return new Un(Un.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!Un.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let f=Un.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;f+=Un.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(f,11,u)}return c<l.length&&n(Un.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new Un(Un.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:Un.isNumeric(l)?[Un.makeNumeric(l)]:Un.isAlphanumeric(l)?[Un.makeAlphanumeric(l)]:[Un.makeBytes(Un.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new Un(Un.Mode.ECI,0,u)}static isNumeric(l){return Un.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Un.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;c+=4+h+f.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(Tc||(Tc={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Tc||(Tc={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Tc||(Tc={}));var ud=Tc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Sse={L:ud.QrCode.Ecc.LOW,M:ud.QrCode.Ecc.MEDIUM,Q:ud.QrCode.Ecc.QUARTILE,H:ud.QrCode.Ecc.HIGH},d6=128,h6="L",p6="#FFFFFF",m6="#000000",g6=!1,v6=1,wse=4,bse=0,Mse=.1;function y6(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function x6(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function Ese(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*Mse),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,u=r.x==null?t.length/2-a/2:r.x*o,c=r.y==null?t.length/2-l/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),x=Math.floor(c),y=Math.ceil(a+u-g),v=Math.ceil(l+c-x);h={x:g,y:x,w:y,h:v}}const m=r.crossOrigin;return{x:u,y:c,h:l,w:a,excavation:h,opacity:f,crossOrigin:m}}function Ase(t,e){return e!=null?Math.max(Math.floor(e),0):t?wse:bse}function _6({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:a}){let l=sn.useMemo(()=>{const g=(Array.isArray(t)?t:[t]).reduce((x,y)=>(x.push(...ud.QrSegment.makeSegments(y)),x),[]);return ud.QrCode.encodeSegments(g,Sse[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:c,numCells:f,calculatedImageSettings:h}=sn.useMemo(()=>{let m=l.getModules();const g=Ase(r,i),x=m.length+g*2,y=Ese(m,o,g,s);return{cells:m,margin:g,numCells:x,calculatedImageSettings:y}},[l,o,s,r,i]);return{qrcode:l,margin:c,cells:u,numCells:f,calculatedImageSettings:h}}var Tse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Cse=sn.forwardRef(function(e,n){const r=e,{value:i,size:s=d6,level:o=h6,bgColor:a=p6,fgColor:l=m6,includeMargin:u=g6,minVersion:c=v6,boostLevel:f,marginSize:h,imageSettings:m}=r,x=BT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=x,v=BT(x,["style"]),S=m==null?void 0:m.src,w=sn.useRef(null),M=sn.useRef(null),E=sn.useCallback(X=>{w.current=X,typeof n=="function"?n(X):n&&(n.current=X)},[n]),[T,I]=sn.useState(!1),{margin:L,cells:P,numCells:R,calculatedImageSettings:k}=_6({value:i,level:o,minVersion:c,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:s});sn.useEffect(()=>{if(w.current!=null){const X=w.current,Y=X.getContext("2d");if(!Y)return;let K=P;const q=M.current,F=k!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;F&&k.excavation!=null&&(K=x6(P,k.excavation));const $=window.devicePixelRatio||1;X.height=X.width=s*$;const G=s/R*$;Y.scale(G,G),Y.fillStyle=a,Y.fillRect(0,0,R,R),Y.fillStyle=l,Tse?Y.fill(new Path2D(y6(K,L))):P.forEach(function(Z,fe){Z.forEach(function(Ee,Ge){Ee&&Y.fillRect(Ge+L,fe+L,1,1)})}),k&&(Y.globalAlpha=k.opacity),F&&Y.drawImage(q,k.x+L,k.y+L,k.w,k.h)}}),sn.useEffect(()=>{I(!1)},[S]);const U=zT({height:s,width:s},y);let V=null;return S!=null&&(V=sn.createElement("img",{src:S,key:S,style:{display:"none"},onLoad:()=>{I(!0)},ref:M,crossOrigin:k==null?void 0:k.crossOrigin})),sn.createElement(sn.Fragment,null,sn.createElement("canvas",zT({style:U,height:s,width:s,ref:E,role:"img"},v)),V)});Cse.displayName="QRCodeCanvas";var C2=sn.forwardRef(function(e,n){const r=e,{value:i,size:s=d6,level:o=h6,bgColor:a=p6,fgColor:l=m6,includeMargin:u=g6,minVersion:c=v6,boostLevel:f,title:h,marginSize:m,imageSettings:g}=r,x=BT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:v,numCells:S,calculatedImageSettings:w}=_6({value:i,level:o,minVersion:c,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:s});let M=v,E=null;g!=null&&w!=null&&(w.excavation!=null&&(M=x6(v,w.excavation)),E=sn.createElement("image",{href:g.src,height:w.h,width:w.w,x:w.x+y,y:w.y+y,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const T=y6(M,y);return sn.createElement("svg",zT({height:s,width:s,viewBox:`0 0 ${S} ${S}`,ref:n,role:"img"},x),!!h&&sn.createElement("title",null,h),sn.createElement("path",{fill:a,d:`M0,0 h${S}v${S}H0z`,shapeRendering:"crispEdges"}),sn.createElement("path",{fill:l,d:T,shapeRendering:"crispEdges"}),E)});C2.displayName="QRCodeSVG";/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Cg="182",Pse={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rse={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},S6=0,VT=1,w6=2,Ise=3,b6=0,bd=1,Zp=2,ec=3,Ia=0,hi=1,Oo=2,Wo=0,fc=1,Im=2,jT=3,HT=4,M6=5,yl=100,E6=101,A6=102,T6=103,C6=104,P6=200,R6=201,I6=202,N6=203,$x=204,Xx=205,O6=206,L6=207,D6=208,k6=209,F6=210,U6=211,z6=212,B6=213,V6=214,qx=0,Yx=1,Kx=2,Cc=3,Zx=4,Jx=5,Qx=6,e_=7,Pg=0,j6=1,H6=2,Ts=0,P2=1,R2=2,I2=3,iS=4,N2=5,O2=6,L2=7,WT="attached",W6="detached",sS=300,Xo=301,Hl=302,Nm=303,Om=304,uh=306,Lm=1e3,Pi=1001,Dm=1002,Yn=1003,D2=1004,Nse=1004,cd=1005,Ose=1005,wn=1006,Jp=1007,Lse=1007,Do=1008,Dse=1008,oi=1009,k2=1010,F2=1011,Fd=1012,oS=1013,Rs=1014,ci=1015,qo=1016,aS=1017,lS=1018,Ud=1020,U2=35902,z2=35899,B2=1021,V2=1022,Kr=1023,Yo=1026,Ml=1027,uS=1028,Rg=1029,Pc=1030,cS=1031,kse=1032,fS=1033,Qp=33776,em=33777,tm=33778,nm=33779,t_=35840,n_=35841,r_=35842,i_=35843,s_=36196,o_=37492,a_=37496,l_=37488,u_=37489,c_=37490,f_=37491,d_=37808,h_=37809,p_=37810,m_=37811,g_=37812,v_=37813,y_=37814,x_=37815,__=37816,S_=37817,w_=37818,b_=37819,M_=37820,E_=37821,A_=36492,T_=36494,C_=36495,P_=36283,R_=36284,I_=36285,N_=36286,G6=2200,$6=2201,X6=2202,km=2300,O_=2301,Zy=2302,tc=2400,nc=2401,Fm=2402,dS=2500,j2=2501,Fse=0,Use=1,zse=2,q6=3200,Bse=3201,Vse=3202,jse=3203,eu=0,Y6=1,ga="",Ei="srgb",Rc="srgb-linear",Um="linear",en="srgb",Hse="",Wse="rg",Gse="ga",$se=0,Hu=7680,Xse=7681,qse=7682,Yse=7683,Kse=34055,Zse=34056,Jse=5386,Qse=512,eoe=513,toe=514,noe=515,roe=516,ioe=517,soe=518,GT=519,K6=512,Z6=513,J6=514,hS=515,Q6=516,eH=517,pS=518,tH=519,zm=35044,dc=35048,ooe=35040,aoe=35045,loe=35049,uoe=35041,coe=35046,foe=35050,doe=35042,hoe="100",$T="300 es",Ki=2e3,zd=2001,poe={COMPUTE:"compute",RENDER:"render"},moe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},goe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function nH(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const voe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fd(t,e){return new voe[t](e)}function rH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function iH(){const t=Bm("canvas");return t.style.display="block",t}const YD={};let Wl=null;function yoe(t){Wl=t}function xoe(){return Wl}function Vm(...t){const e="THREE."+t.shift();Wl?Wl("log",e,...t):console.log(e,...t)}function Ve(...t){const e="THREE."+t.shift();Wl?Wl("warn",e,...t):console.warn(e,...t)}function ht(...t){const e="THREE."+t.shift();Wl?Wl("error",e,...t):console.error(e,...t)}function Bd(...t){const e=t.join(" ");e in YD||(YD[e]=!0,Ve(...t))}function _oe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}class Jo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Wr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let KD=1234567;const hc=Math.PI/180,Vd=180/Math.PI;function Qi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wr[t&255]+Wr[t>>8&255]+Wr[t>>16&255]+Wr[t>>24&255]+"-"+Wr[e&255]+Wr[e>>8&255]+"-"+Wr[e>>16&15|64]+Wr[e>>24&255]+"-"+Wr[n&63|128]+Wr[n>>8&255]+"-"+Wr[n>>16&255]+Wr[n>>24&255]+Wr[r&255]+Wr[r>>8&255]+Wr[r>>16&255]+Wr[r>>24&255]).toLowerCase()}function _t(t,e,n){return Math.max(e,Math.min(n,t))}function H2(t,e){return(t%e+e)%e}function Soe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function woe(t,e,n){return t!==e?(n-t)/(e-t):0}function rm(t,e,n){return(1-n)*t+n*e}function boe(t,e,n,r){return rm(t,e,1-Math.exp(-n*r))}function Moe(t,e=1){return e-Math.abs(H2(t,e*2)-e)}function Eoe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Aoe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Toe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Coe(t,e){return t+Math.random()*(e-t)}function Poe(t){return t*(.5-Math.random())}function Roe(t){t!==void 0&&(KD=t);let e=KD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ioe(t){return t*hc}function Noe(t){return t*Vd}function Ooe(t){return(t&t-1)===0&&t!==0}function Loe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Doe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function koe(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*h,a*u);break;case"YZY":t.set(l*h,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*h,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:Ve("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ai(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Foe={DEG2RAD:hc,RAD2DEG:Vd,generateUUID:Qi,clamp:_t,euclideanModulo:H2,mapLinear:Soe,inverseLerp:woe,lerp:rm,damp:boe,pingpong:Moe,smoothstep:Eoe,smootherstep:Aoe,randInt:Toe,randFloat:Coe,randFloatSpread:Poe,seededRandom:Roe,degToRad:Ioe,radToDeg:Noe,isPowerOfTwo:Ooe,ceilPowerOfTwo:Loe,floorPowerOfTwo:Doe,setQuaternionFromProperEuler:koe,normalize:Pt,denormalize:ai};class Me{constructor(e=0,n=0){Me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=_t(this.x,e.x,n.x),this.y=_t(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=_t(this.x,e,n),this.y=_t(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(_t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(_t(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3],h=s[o+0],m=s[o+1],g=s[o+2],x=s[o+3];if(a<=0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a>=1){e[n+0]=h,e[n+1]=m,e[n+2]=g,e[n+3]=x;return}if(f!==x||l!==h||u!==m||c!==g){let y=l*h+u*m+c*g+f*x;y<0&&(h=-h,m=-m,g=-g,x=-x,y=-y);let v=1-a;if(y<.9995){const S=Math.acos(y),w=Math.sin(S);v=Math.sin(v*S)/w,a=Math.sin(a*S)/w,l=l*v+h*a,u=u*v+m*a,c=c*v+g*a,f=f*v+x*a}else{l=l*v+h*a,u=u*v+m*a,c=c*v+g*a,f=f*v+x*a;const S=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=S,u*=S,c*=S,f*=S}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],h=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*m-u*h,e[n+1]=l*g+c*h+u*f-a*m,e[n+2]=u*g+c*m+a*h-l*f,e[n+3]=c*g-a*f-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),h=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"YXZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"ZXY":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"ZYX":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"YZX":this._x=h*c*f+u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f-h*m*g;break;case"XZY":this._x=h*c*f-u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f+h*m*g;break;default:Ve("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+a+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(_t(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,s=-s,o=-o,a=-a);let l=1-n;if(a<.9995){const u=Math.acos(a),c=Math.sin(u);l=Math.sin(l*u)/c,n=Math.sin(n*u)/c,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,n=0,r=0){j.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ZD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ZD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),c=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*u+o*f-a*c,this.y=r+l*c+a*u-s*f,this.z=i+l*f+s*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=_t(this.x,e.x,n.x),this.y=_t(this.y,e.y,n.y),this.z=_t(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=_t(this.x,e,n),this.y=_t(this.y,e,n),this.z=_t(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(_t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return HM.copy(this).projectOnVector(e),this.sub(HM)}reflect(e){return this.sub(HM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(_t(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const HM=new j,ZD=new Fi;class Ct{constructor(e,n,r,i,s,o,a,l,u){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],m=r[5],g=r[8],x=i[0],y=i[3],v=i[6],S=i[1],w=i[4],M=i[7],E=i[2],T=i[5],I=i[8];return s[0]=o*x+a*S+l*E,s[3]=o*y+a*w+l*T,s[6]=o*v+a*M+l*I,s[1]=u*x+c*S+f*E,s[4]=u*y+c*w+f*T,s[7]=u*v+c*M+f*I,s[2]=h*x+m*S+g*E,s[5]=h*y+m*w+g*T,s[8]=h*v+m*M+g*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,m=u*s-o*l,g=n*f+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(a*r-i*o)*x,e[3]=h*x,e[4]=(c*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-u*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(WM.makeScale(e,n)),this}rotate(e){return this.premultiply(WM.makeRotation(-e)),this}translate(e,n){return this.premultiply(WM.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WM=new Ct,JD=new Ct().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),QD=new Ct().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Uoe(){const t={enabled:!0,workingColorSpace:Rc,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===en&&(i.r=ba(i.r),i.g=ba(i.g),i.b=ba(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===en&&(i.r=Md(i.r),i.g=Md(i.g),i.b=Md(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ga?Um:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Bd("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Bd("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Rc]:{primaries:e,whitePoint:r,transfer:Um,toXYZ:JD,fromXYZ:QD,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Ei},outputColorSpaceConfig:{drawingBufferColorSpace:Ei}},[Ei]:{primaries:e,whitePoint:r,transfer:en,toXYZ:JD,fromXYZ:QD,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Ei}}}),t}const Vt=Uoe();function ba(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Md(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let hf;class sH{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{hf===void 0&&(hf=Bm("canvas")),hf.width=e.width,hf.height=e.height;const i=hf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=hf}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Bm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ba(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ba(n[r]/255)*255):n[r]=ba(n[r]);return{data:n,width:e.width,height:e.height}}else return Ve("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zoe=0;class El{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zoe++}),this.uuid=Qi(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(GM(i[o].image)):s.push(GM(i[o]))}else s=GM(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function GM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?sH.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ve("Texture: Unable to serialize Texture."),{})}let Boe=0;const $M=new j;class On extends Jo{constructor(e=On.DEFAULT_IMAGE,n=On.DEFAULT_MAPPING,r=Pi,i=Pi,s=wn,o=Do,a=Kr,l=oi,u=On.DEFAULT_ANISOTROPY,c=ga){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Boe++}),this.uuid=Qi(),this.name="",this.source=new El(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Me(0,0),this.repeat=new Me(1,1),this.center=new Me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize($M).x}get height(){return this.source.getSize($M).y}get depth(){return this.source.getSize($M).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Ve(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Ve(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==sS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Lm:e.x=e.x-Math.floor(e.x);break;case Pi:e.x=e.x<0?0:1;break;case Dm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Lm:e.y=e.y-Math.floor(e.y);break;case Pi:e.y=e.y<0?0:1;break;case Dm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}On.DEFAULT_IMAGE=null;On.DEFAULT_MAPPING=sS;On.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,n=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],m=l[5],g=l[9],x=l[2],y=l[6],v=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-x)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+x)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,M=(m+1)/2,E=(v+1)/2,T=(c+h)/4,I=(f+x)/4,L=(g+y)/4;return w>M&&w>E?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=T/r,s=I/r):M>E?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=T/i,s=L/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=I/s,i=L/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-g)*(y-g)+(f-x)*(f-x)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(y-g)/S,this.y=(f-x)/S,this.z=(h-c)/S,this.w=Math.acos((u+m+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=_t(this.x,e.x,n.x),this.y=_t(this.y,e.y,n.y),this.z=_t(this.z,e.z,n.z),this.w=_t(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=_t(this.x,e,n),this.y=_t(this.y,e,n),this.z=_t(this.z,e,n),this.w=_t(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(_t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class W2 extends Jo{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new cn(0,0,e,n),this.scissorTest=!1,this.viewport=new cn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new On(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:wn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new El(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class es extends W2{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class mS extends On{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=Pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Voe extends es{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new mS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class gS extends On{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=Pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class joe extends es{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new gS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Jr{constructor(e=new j(1/0,1/0,1/0),n=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ws.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ws.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ws.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ws):Ws.fromBufferAttribute(s,o),Ws.applyMatrix4(e.matrixWorld),this.expandByPoint(Ws);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),bv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),bv.copy(r.boundingBox)),bv.applyMatrix4(e.matrixWorld),this.union(bv)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ws),Ws.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rp),Mv.subVectors(this.max,rp),pf.subVectors(e.a,rp),mf.subVectors(e.b,rp),gf.subVectors(e.c,rp),rl.subVectors(mf,pf),il.subVectors(gf,mf),Mu.subVectors(pf,gf);let n=[0,-rl.z,rl.y,0,-il.z,il.y,0,-Mu.z,Mu.y,rl.z,0,-rl.x,il.z,0,-il.x,Mu.z,0,-Mu.x,-rl.y,rl.x,0,-il.y,il.x,0,-Mu.y,Mu.x,0];return!XM(n,pf,mf,gf,Mv)||(n=[1,0,0,0,1,0,0,0,1],!XM(n,pf,mf,gf,Mv))?!1:(Ev.crossVectors(rl,il),n=[Ev.x,Ev.y,Ev.z],XM(n,pf,mf,gf,Mv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ws).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ws).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(aa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),aa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),aa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),aa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),aa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),aa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),aa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),aa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(aa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const aa=[new j,new j,new j,new j,new j,new j,new j,new j],Ws=new j,bv=new Jr,pf=new j,mf=new j,gf=new j,rl=new j,il=new j,Mu=new j,rp=new j,Mv=new j,Ev=new j,Eu=new j;function XM(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Eu.fromArray(t,s);const a=i.x*Math.abs(Eu.x)+i.y*Math.abs(Eu.y)+i.z*Math.abs(Eu.z),l=e.dot(Eu),u=n.dot(Eu),c=r.dot(Eu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Hoe=new Jr,ip=new j,qM=new j;class Or{constructor(e=new j,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Hoe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ip.subVectors(e,this.center);const n=ip.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ip,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ip.copy(e.center).add(qM)),this.expandByPoint(ip.copy(e.center).sub(qM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const la=new j,YM=new j,Av=new j,sl=new j,KM=new j,Tv=new j,ZM=new j;class ch{constructor(e=new j,n=new j(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,la)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=la.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(la.copy(this.origin).addScaledVector(this.direction,n),la.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){YM.copy(e).add(n).multiplyScalar(.5),Av.copy(n).sub(e).normalize(),sl.copy(this.origin).sub(YM);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Av),a=sl.dot(this.direction),l=-sl.dot(Av),u=sl.lengthSq(),c=Math.abs(1-o*o);let f,h,m,g;if(c>0)if(f=o*l-a,h=o*a-l,g=s*c,f>=0)if(h>=-g)if(h<=g){const x=1/c;f*=x,h*=x,m=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(YM).addScaledVector(Av,h),m}intersectSphere(e,n){la.subVectors(e.center,this.origin);const r=la.dot(this.direction),i=la.dot(la)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,la)!==null}intersectTriangle(e,n,r,i,s){KM.subVectors(n,e),Tv.subVectors(r,e),ZM.crossVectors(KM,Tv);let o=this.direction.dot(ZM),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;sl.subVectors(this.origin,e);const l=a*this.direction.dot(Tv.crossVectors(sl,Tv));if(l<0)return null;const u=a*this.direction.dot(KM.cross(sl));if(u<0||l+u>o)return null;const c=-a*sl.dot(ZM);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(e,n,r,i,s,o,a,l,u,c,f,h,m,g,x,y){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,f,h,m,g,x,y)}set(e,n,r,i,s,o,a,l,u,c,f,h,m,g,x,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=u,v[6]=c,v[10]=f,v[14]=h,v[3]=m,v[7]=g,v[11]=x,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/vf.setFromMatrixColumn(e,0).length(),s=1/vf.setFromMatrixColumn(e,1).length(),o=1/vf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,m=o*f,g=a*c,x=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=h-x*u,n[9]=-a*l,n[2]=x-h*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,m=l*f,g=u*c,x=u*f;n[0]=h+x*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=x+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,m=l*f,g=u*c,x=u*f;n[0]=h-x*a,n[4]=-o*f,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=x-h*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,m=o*f,g=a*c,x=a*f;n[0]=l*c,n[4]=g*u-m,n[8]=h*u+x,n[1]=l*f,n[5]=x*u+h,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*u,g=a*l,x=a*u;n[0]=l*c,n[4]=x-h*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*f+g,n[10]=h-x*f}else if(e.order==="XZY"){const h=o*l,m=o*u,g=a*l,x=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+x,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=a*c,n[10]=x*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Woe,e,Goe)}lookAt(e,n,r){const i=this.elements;return Gi.subVectors(e,n),Gi.lengthSq()===0&&(Gi.z=1),Gi.normalize(),ol.crossVectors(r,Gi),ol.lengthSq()===0&&(Math.abs(r.z)===1?Gi.x+=1e-4:Gi.z+=1e-4,Gi.normalize(),ol.crossVectors(r,Gi)),ol.normalize(),Cv.crossVectors(Gi,ol),i[0]=ol.x,i[4]=Cv.x,i[8]=Gi.x,i[1]=ol.y,i[5]=Cv.y,i[9]=Gi.y,i[2]=ol.z,i[6]=Cv.z,i[10]=Gi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],m=r[13],g=r[2],x=r[6],y=r[10],v=r[14],S=r[3],w=r[7],M=r[11],E=r[15],T=i[0],I=i[4],L=i[8],P=i[12],R=i[1],k=i[5],U=i[9],V=i[13],X=i[2],Y=i[6],K=i[10],q=i[14],F=i[3],$=i[7],G=i[11],Z=i[15];return s[0]=o*T+a*R+l*X+u*F,s[4]=o*I+a*k+l*Y+u*$,s[8]=o*L+a*U+l*K+u*G,s[12]=o*P+a*V+l*q+u*Z,s[1]=c*T+f*R+h*X+m*F,s[5]=c*I+f*k+h*Y+m*$,s[9]=c*L+f*U+h*K+m*G,s[13]=c*P+f*V+h*q+m*Z,s[2]=g*T+x*R+y*X+v*F,s[6]=g*I+x*k+y*Y+v*$,s[10]=g*L+x*U+y*K+v*G,s[14]=g*P+x*V+y*q+v*Z,s[3]=S*T+w*R+M*X+E*F,s[7]=S*I+w*k+M*Y+E*$,s[11]=S*L+w*U+M*K+E*G,s[15]=S*P+w*V+M*q+E*Z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],m=e[14],g=e[3],x=e[7],y=e[11],v=e[15],S=l*m-u*h,w=a*m-u*f,M=a*h-l*f,E=o*m-u*c,T=o*h-l*c,I=o*f-a*c;return n*(x*S-y*w+v*M)-r*(g*S-y*E+v*T)+i*(g*w-x*E+v*I)-s*(g*M-x*T+y*I)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],m=e[11],g=e[12],x=e[13],y=e[14],v=e[15],S=f*y*u-x*h*u+x*l*m-a*y*m-f*l*v+a*h*v,w=g*h*u-c*y*u-g*l*m+o*y*m+c*l*v-o*h*v,M=c*x*u-g*f*u+g*a*m-o*x*m-c*a*v+o*f*v,E=g*f*l-c*x*l-g*a*h+o*x*h+c*a*y-o*f*y,T=n*S+r*w+i*M+s*E;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/T;return e[0]=S*I,e[1]=(x*h*s-f*y*s-x*i*m+r*y*m+f*i*v-r*h*v)*I,e[2]=(a*y*s-x*l*s+x*i*u-r*y*u-a*i*v+r*l*v)*I,e[3]=(f*l*s-a*h*s-f*i*u+r*h*u+a*i*m-r*l*m)*I,e[4]=w*I,e[5]=(c*y*s-g*h*s+g*i*m-n*y*m-c*i*v+n*h*v)*I,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*v-n*l*v)*I,e[7]=(o*h*s-c*l*s+c*i*u-n*h*u-o*i*m+n*l*m)*I,e[8]=M*I,e[9]=(g*f*s-c*x*s-g*r*m+n*x*m+c*r*v-n*f*v)*I,e[10]=(o*x*s-g*a*s+g*r*u-n*x*u-o*r*v+n*a*v)*I,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*m-n*a*m)*I,e[12]=E*I,e[13]=(c*x*i-g*f*i+g*r*h-n*x*h-c*r*y+n*f*y)*I,e[14]=(g*a*i-o*x*i-g*r*l+n*x*l+o*r*y-n*a*y)*I,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*h+n*a*h)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,h=s*u,m=s*c,g=s*f,x=o*c,y=o*f,v=a*f,S=l*u,w=l*c,M=l*f,E=r.x,T=r.y,I=r.z;return i[0]=(1-(x+v))*E,i[1]=(m+M)*E,i[2]=(g-w)*E,i[3]=0,i[4]=(m-M)*T,i[5]=(1-(h+v))*T,i[6]=(y+S)*T,i[7]=0,i[8]=(g+w)*I,i[9]=(y-S)*I,i[10]=(1-(h+x))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let s=vf.set(i[0],i[1],i[2]).length();const o=vf.set(i[4],i[5],i[6]).length(),a=vf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),Gs.copy(this);const u=1/s,c=1/o,f=1/a;return Gs.elements[0]*=u,Gs.elements[1]*=u,Gs.elements[2]*=u,Gs.elements[4]*=c,Gs.elements[5]*=c,Gs.elements[6]*=c,Gs.elements[8]*=f,Gs.elements[9]*=f,Gs.elements[10]*=f,n.setFromRotationMatrix(Gs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ki,l=!1){const u=this.elements,c=2*s/(n-e),f=2*s/(r-i),h=(n+e)/(n-e),m=(r+i)/(r-i);let g,x;if(l)g=s/(o-s),x=o*s/(o-s);else if(a===Ki)g=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===zd)g=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ki,l=!1){const u=this.elements,c=2/(n-e),f=2/(r-i),h=-(n+e)/(n-e),m=-(r+i)/(r-i);let g,x;if(l)g=1/(o-s),x=o/(o-s);else if(a===Ki)g=-2/(o-s),x=-(o+s)/(o-s);else if(a===zd)g=-1/(o-s),x=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=f,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=g,u[14]=x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const vf=new j,Gs=new St,Woe=new j(0,0,0),Goe=new j(1,1,1),ol=new j,Cv=new j,Gi=new j,ek=new St,tk=new Fi;class is{constructor(e=0,n=0,r=0,i=is.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(_t(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-_t(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(_t(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-_t(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(_t(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-_t(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:Ve("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return ek.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ek,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return tk.setFromEuler(this),this.setFromQuaternion(tk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}is.DEFAULT_ORDER="XYZ";class pc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $oe=0;const nk=new j,yf=new Fi,ua=new St,Pv=new j,sp=new j,Xoe=new j,qoe=new Fi,rk=new j(1,0,0),ik=new j(0,1,0),sk=new j(0,0,1),ok={type:"added"},Yoe={type:"removed"},xf={type:"childadded",child:null},JM={type:"childremoved",child:null};class Gt extends Jo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$oe++}),this.uuid=Qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gt.DEFAULT_UP.clone();const e=new j,n=new is,r=new Fi,i=new j(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Ct}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Gt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Gt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new pc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return yf.setFromAxisAngle(e,n),this.quaternion.multiply(yf),this}rotateOnWorldAxis(e,n){return yf.setFromAxisAngle(e,n),this.quaternion.premultiply(yf),this}rotateX(e){return this.rotateOnAxis(rk,e)}rotateY(e){return this.rotateOnAxis(ik,e)}rotateZ(e){return this.rotateOnAxis(sk,e)}translateOnAxis(e,n){return nk.copy(e).applyQuaternion(this.quaternion),this.position.add(nk.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(rk,e)}translateY(e){return this.translateOnAxis(ik,e)}translateZ(e){return this.translateOnAxis(sk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ua.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Pv.copy(e):Pv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ua.lookAt(sp,Pv,this.up):ua.lookAt(Pv,sp,this.up),this.quaternion.setFromRotationMatrix(ua),i&&(ua.extractRotation(i.matrixWorld),yf.setFromRotationMatrix(ua),this.quaternion.premultiply(yf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(ht("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ok),xf.child=e,this.dispatchEvent(xf),xf.child=null):ht("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Yoe),JM.child=e,this.dispatchEvent(JM),JM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ua.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ua.multiply(e.parent.matrixWorld)),e.applyMatrix4(ua),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ok),xf.child=e,this.dispatchEvent(xf),xf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sp,e,Xoe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sp,qoe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Gt.DEFAULT_UP=new j(0,1,0);Gt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Gt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $s=new j,ca=new j,QM=new j,fa=new j,_f=new j,Sf=new j,ak=new j,eE=new j,tE=new j,nE=new j,rE=new cn,iE=new cn,sE=new cn;class Ti{constructor(e=new j,n=new j,r=new j){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),$s.subVectors(e,n),i.cross($s);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){$s.subVectors(i,n),ca.subVectors(r,n),QM.subVectors(e,n);const o=$s.dot($s),a=$s.dot(ca),l=$s.dot(QM),u=ca.dot(ca),c=ca.dot(QM),f=o*u-a*a;if(f===0)return s.set(0,0,0),null;const h=1/f,m=(u*l-a*c)*h,g=(o*c-a*l)*h;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,fa)===null?!1:fa.x>=0&&fa.y>=0&&fa.x+fa.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,fa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,fa.x),l.addScaledVector(o,fa.y),l.addScaledVector(a,fa.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return rE.setScalar(0),iE.setScalar(0),sE.setScalar(0),rE.fromBufferAttribute(e,n),iE.fromBufferAttribute(e,r),sE.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(rE,s.x),o.addScaledVector(iE,s.y),o.addScaledVector(sE,s.z),o}static isFrontFacing(e,n,r,i){return $s.subVectors(r,n),ca.subVectors(e,n),$s.cross(ca).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $s.subVectors(this.c,this.b),ca.subVectors(this.a,this.b),$s.cross(ca).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ti.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ti.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ti.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ti.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ti.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;_f.subVectors(i,r),Sf.subVectors(s,r),eE.subVectors(e,r);const l=_f.dot(eE),u=Sf.dot(eE);if(l<=0&&u<=0)return n.copy(r);tE.subVectors(e,i);const c=_f.dot(tE),f=Sf.dot(tE);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(_f,o);nE.subVectors(e,s);const m=_f.dot(nE),g=Sf.dot(nE);if(g>=0&&m<=g)return n.copy(s);const x=m*u-l*g;if(x<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(Sf,a);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return ak.subVectors(s,i),a=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(ak,a);const v=1/(y+x+h);return o=x*v,a=h*v,n.copy(r).addScaledVector(_f,o).addScaledVector(Sf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const oH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},al={h:0,s:0,l:0},Rv={h:0,s:0,l:0};function oE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Je=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ei){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Vt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Vt.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Vt.workingColorSpace){if(e=H2(e,1),n=_t(n,0,1),r=_t(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=oE(o,s,e+1/3),this.g=oE(o,s,e),this.b=oE(o,s,e-1/3)}return Vt.colorSpaceToWorking(this,i),this}setStyle(e,n=Ei){function r(s){s!==void 0&&parseFloat(s)<1&&Ve("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:Ve("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);Ve("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ei){const r=oH[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Ve("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ba(e.r),this.g=ba(e.g),this.b=ba(e.b),this}copyLinearToSRGB(e){return this.r=Md(e.r),this.g=Md(e.g),this.b=Md(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ei){return Vt.workingToColorSpace(Gr.copy(this),e),Math.round(_t(Gr.r*255,0,255))*65536+Math.round(_t(Gr.g*255,0,255))*256+Math.round(_t(Gr.b*255,0,255))}getHexString(e=Ei){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Vt.workingColorSpace){Vt.workingToColorSpace(Gr.copy(this),n);const r=Gr.r,i=Gr.g,s=Gr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Vt.workingColorSpace){return Vt.workingToColorSpace(Gr.copy(this),n),e.r=Gr.r,e.g=Gr.g,e.b=Gr.b,e}getStyle(e=Ei){Vt.workingToColorSpace(Gr.copy(this),e);const n=Gr.r,r=Gr.g,i=Gr.b;return e!==Ei?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(al),this.setHSL(al.h+e,al.s+n,al.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(al),e.getHSL(Rv);const r=rm(al.h,Rv.h,n),i=rm(al.s,Rv.s,n),s=rm(al.l,Rv.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Gr=new Je;Je.NAMES=oH;let Koe=0;class Dr extends Jo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Koe++}),this.uuid=Qi(),this.name="",this.type="Material",this.blending=fc,this.side=Ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$x,this.blendDst=Xx,this.blendEquation=yl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Je(0,0,0),this.blendAlpha=0,this.depthFunc=Cc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hu,this.stencilZFail=Hu,this.stencilZPass=Hu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Ve(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Ve(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==fc&&(r.blending=this.blending),this.side!==Ia&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==$x&&(r.blendSrc=this.blendSrc),this.blendDst!==Xx&&(r.blendDst=this.blendDst),this.blendEquation!==yl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Cc&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==GT&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Hu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Hu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class tu extends Dr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const va=Zoe();function Zoe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Mi(t){Math.abs(t)>65504&&Ve("DataUtils.toHalfFloat(): Value out of range."),t=_t(t,-65504,65504),va.floatView[0]=t;const e=va.uint32View[0],n=e>>23&511;return va.baseTable[n]+((e&8388607)>>va.shiftTable[n])}function Ip(t){const e=t>>10;return va.uint32View[0]=va.mantissaTable[va.offsetTable[e]+(t&1023)]+va.exponentTable[e],va.floatView[0]}class Joe{static toHalfFloat(e){return Mi(e)}static fromHalfFloat(e){return Ip(e)}}const er=new j,Iv=new Me;let Qoe=0;class an{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Qoe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=zm,this.updateRanges=[],this.gpuType=ci,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Iv.fromBufferAttribute(this,n),Iv.applyMatrix3(e),this.setXY(n,Iv.x,Iv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)er.fromBufferAttribute(this,n),er.applyMatrix3(e),this.setXYZ(n,er.x,er.y,er.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)er.fromBufferAttribute(this,n),er.applyMatrix4(e),this.setXYZ(n,er.x,er.y,er.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)er.fromBufferAttribute(this,n),er.applyNormalMatrix(e),this.setXYZ(n,er.x,er.y,er.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)er.fromBufferAttribute(this,n),er.transformDirection(e),this.setXYZ(n,er.x,er.y,er.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ai(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ai(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ai(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ai(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ai(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zm&&(e.usage=this.usage),e}}class eae extends an{constructor(e,n,r){super(new Int8Array(e),n,r)}}class tae extends an{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class nae extends an{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class rae extends an{constructor(e,n,r){super(new Int16Array(e),n,r)}}class G2 extends an{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class iae extends an{constructor(e,n,r){super(new Int32Array(e),n,r)}}class $2 extends an{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class sae extends an{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ip(this.array[e*this.itemSize]);return this.normalized&&(n=ai(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize]=Mi(n),this}getY(e){let n=Ip(this.array[e*this.itemSize+1]);return this.normalized&&(n=ai(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+1]=Mi(n),this}getZ(e){let n=Ip(this.array[e*this.itemSize+2]);return this.normalized&&(n=ai(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+2]=Mi(n),this}getW(e){let n=Ip(this.array[e*this.itemSize+3]);return this.normalized&&(n=ai(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pt(n,this.array)),this.array[e*this.itemSize+3]=Mi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array)),this.array[e+0]=Mi(n),this.array[e+1]=Mi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.array[e+0]=Mi(n),this.array[e+1]=Mi(r),this.array[e+2]=Mi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.array[e+0]=Mi(n),this.array[e+1]=Mi(r),this.array[e+2]=Mi(i),this.array[e+3]=Mi(s),this}}class rt extends an{constructor(e,n,r){super(new Float32Array(e),n,r)}}let oae=0;const gs=new St,aE=new Gt,wf=new j,$i=new Jr,op=new Jr,yr=new j;class Et extends Jo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:oae++}),this.uuid=Qi(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nH(e)?$2:G2)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ct().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,n,r){return gs.makeTranslation(e,n,r),this.applyMatrix4(gs),this}scale(e,n,r){return gs.makeScale(e,n,r),this.applyMatrix4(gs),this}lookAt(e){return aE.lookAt(e),aE.updateMatrix(),this.applyMatrix4(aE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wf).negate(),this.translate(wf.x,wf.y,wf.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new rt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&Ve("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ht("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];$i.setFromBufferAttribute(s),this.morphTargetsRelative?(yr.addVectors(this.boundingBox.min,$i.min),this.boundingBox.expandByPoint(yr),yr.addVectors(this.boundingBox.max,$i.max),this.boundingBox.expandByPoint(yr)):(this.boundingBox.expandByPoint($i.min),this.boundingBox.expandByPoint($i.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&ht('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ht("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new j,1/0);return}if(e){const r=this.boundingSphere.center;if($i.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];op.setFromBufferAttribute(a),this.morphTargetsRelative?(yr.addVectors($i.min,op.min),$i.expandByPoint(yr),yr.addVectors($i.max,op.max),$i.expandByPoint(yr)):($i.expandByPoint(op.min),$i.expandByPoint(op.max))}$i.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)yr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(yr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)yr.fromBufferAttribute(a,u),l&&(wf.fromBufferAttribute(e,u),yr.add(wf)),i=Math.max(i,r.distanceToSquared(yr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&ht('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){ht("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new an(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<r.count;L++)a[L]=new j,l[L]=new j;const u=new j,c=new j,f=new j,h=new Me,m=new Me,g=new Me,x=new j,y=new j;function v(L,P,R){u.fromBufferAttribute(r,L),c.fromBufferAttribute(r,P),f.fromBufferAttribute(r,R),h.fromBufferAttribute(s,L),m.fromBufferAttribute(s,P),g.fromBufferAttribute(s,R),c.sub(u),f.sub(u),m.sub(h),g.sub(h);const k=1/(m.x*g.y-g.x*m.y);isFinite(k)&&(x.copy(c).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(k),y.copy(f).multiplyScalar(m.x).addScaledVector(c,-g.x).multiplyScalar(k),a[L].add(x),a[P].add(x),a[R].add(x),l[L].add(y),l[P].add(y),l[R].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let L=0,P=S.length;L<P;++L){const R=S[L],k=R.start,U=R.count;for(let V=k,X=k+U;V<X;V+=3)v(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const w=new j,M=new j,E=new j,T=new j;function I(L){E.fromBufferAttribute(i,L),T.copy(E);const P=a[L];w.copy(P),w.sub(E.multiplyScalar(E.dot(P))).normalize(),M.crossVectors(T,P);const k=M.dot(l[L])<0?-1:1;o.setXYZW(L,w.x,w.y,w.z,k)}for(let L=0,P=S.length;L<P;++L){const R=S[L],k=R.start,U=R.count;for(let V=k,X=k+U;V<X;V+=3)I(e.getX(V+0)),I(e.getX(V+1)),I(e.getX(V+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new an(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new j,s=new j,o=new j,a=new j,l=new j,u=new j,c=new j,f=new j;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),x=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,m=n.count;h<m;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)yr.fromBufferAttribute(e,n),yr.normalize(),e.setXYZ(n,yr.x,yr.y,yr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let m=0,g=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*c;for(let v=0;v<c;v++)h[g++]=u[m++]}return new an(h,c,f)}if(this.index===null)return Ve("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Et,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],m=e(h,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,m=f.length;h<m;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const lk=new St,Au=new ch,Nv=new Or,uk=new j,Ov=new j,Lv=new j,Dv=new j,lE=new j,kv=new j,ck=new j,Fv=new j;class ir extends Gt{constructor(e=new Et,n=new tu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){kv.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(lE.fromBufferAttribute(f,e),o?kv.addScaledVector(lE,c):kv.addScaledVector(lE.sub(n),c))}n.add(kv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Nv.copy(r.boundingSphere),Nv.applyMatrix4(s),Au.copy(e.ray).recast(e.near),!(Nv.containsPoint(Au.origin)===!1&&(Au.intersectSphere(Nv,uk)===null||Au.origin.distanceToSquared(uk)>(e.far-e.near)**2))&&(lk.copy(s).invert(),Au.copy(e.ray).applyMatrix4(lk),!(r.boundingBox!==null&&Au.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Au)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,h=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const y=h[g],v=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=S,E=w;M<E;M+=3){const T=a.getX(M),I=a.getX(M+1),L=a.getX(M+2);i=Uv(this,v,e,r,u,c,f,T,I,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=g,v=x;y<v;y+=3){const S=a.getX(y),w=a.getX(y+1),M=a.getX(y+2);i=Uv(this,o,e,r,u,c,f,S,w,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const y=h[g],v=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=S,E=w;M<E;M+=3){const T=M,I=M+1,L=M+2;i=Uv(this,v,e,r,u,c,f,T,I,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=g,v=x;y<v;y+=3){const S=y,w=y+1,M=y+2;i=Uv(this,o,e,r,u,c,f,S,w,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function aae(t,e,n,r,i,s,o,a){let l;if(e.side===hi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ia,a),l===null)return null;Fv.copy(a),Fv.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Fv);return u<n.near||u>n.far?null:{distance:u,point:Fv.clone(),object:t}}function Uv(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Ov),t.getVertexPosition(l,Lv),t.getVertexPosition(u,Dv);const c=aae(t,e,n,r,Ov,Lv,Dv,ck);if(c){const f=new j;Ti.getBarycoord(ck,Ov,Lv,Dv,f),i&&(c.uv=Ti.getInterpolatedAttribute(i,a,l,u,f,new Me)),s&&(c.uv1=Ti.getInterpolatedAttribute(s,a,l,u,f,new Me)),o&&(c.normal=Ti.getInterpolatedAttribute(o,a,l,u,f,new j),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new j,materialIndex:0};Ti.getNormal(Ov,Lv,Dv,h.normal),c.face=h,c.barycoord=f}return c}class jc extends Et{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new rt(u,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(f,2));function g(x,y,v,S,w,M,E,T,I,L,P){const R=M/I,k=E/L,U=M/2,V=E/2,X=T/2,Y=I+1,K=L+1;let q=0,F=0;const $=new j;for(let G=0;G<K;G++){const Z=G*k-V;for(let fe=0;fe<Y;fe++){const Ee=fe*R-U;$[x]=Ee*S,$[y]=Z*w,$[v]=X,u.push($.x,$.y,$.z),$[x]=0,$[y]=0,$[v]=T>0?1:-1,c.push($.x,$.y,$.z),f.push(fe/I),f.push(1-G/L),q+=1}}for(let G=0;G<L;G++)for(let Z=0;Z<I;Z++){const fe=h+Z+Y*G,Ee=h+Z+Y*(G+1),Ge=h+(Z+1)+Y*(G+1),ct=h+(Z+1)+Y*G;l.push(fe,Ee,ct),l.push(Ee,Ge,ct),F+=6}a.addGroup(m,F,P),m+=F,h+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Ve("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ii(t){const e={};for(let n=0;n<t.length;n++){const r=jd(t[n]);for(const i in r)e[i]=r[i]}return e}function lae(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function aH(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Vt.workingColorSpace}const lH={clone:jd,merge:ii};var uae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Is extends Dr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=uae,this.fragmentShader=cae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jd(e.uniforms),this.uniformsGroups=lae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Ig extends Gt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Ki,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ll=new j,fk=new Me,dk=new Me;class Sr extends Ig{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Vd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vd*2*Math.atan(Math.tan(hc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ll.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ll.x,ll.y).multiplyScalar(-e/ll.z),ll.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ll.x,ll.y).multiplyScalar(-e/ll.z)}getViewSize(e,n){return this.getViewBounds(e,fk,dk),n.subVectors(dk,fk)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const bf=-90,Mf=1;class uH extends Gt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sr(bf,Mf,e,n);i.layers=this.layers,this.add(i);const s=new Sr(bf,Mf,e,n);s.layers=this.layers,this.add(s);const o=new Sr(bf,Mf,e,n);o.layers=this.layers,this.add(o);const a=new Sr(bf,Mf,e,n);a.layers=this.layers,this.add(a);const l=new Sr(bf,Mf,e,n);l.layers=this.layers,this.add(l);const u=new Sr(bf,Mf,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ki)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===zd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,h,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Ng extends On{constructor(e=[],n=Xo,r,i,s,o,a,l,u,c){super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class X2 extends es{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Ng(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new jc(5,5,5),s=new Is({name:"CubemapFromEquirect",uniforms:jd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:hi,blending:Wo});s.uniforms.tEquirect.value=n;const o=new ir(i,s),a=n.minFilter;return n.minFilter===Do&&(n.minFilter=wn),new uH(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class dd extends Gt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fae={type:"move"};class Jy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),v=this._getHandJoint(u,x);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fae)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new dd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class vS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Je(e),this.density=n}clone(){return new vS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Je(e),this.near=n,this.far=r}clone(){return new yS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class L_ extends Gt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new is,this.environmentIntensity=1,this.environmentRotation=new is,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class xS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=zm,this.updateRanges=[],this.version=0,this.uuid=Qi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ri=new j;class Ic{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ri.fromBufferAttribute(this,n),ri.applyMatrix4(e),this.setXYZ(n,ri.x,ri.y,ri.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ri.fromBufferAttribute(this,n),ri.applyNormalMatrix(e),this.setXYZ(n,ri.x,ri.y,ri.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ri.fromBufferAttribute(this,n),ri.transformDirection(e),this.setXYZ(n,ri.x,ri.y,ri.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ai(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Pt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Pt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Pt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Pt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ai(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ai(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ai(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ai(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pt(n,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){Vm("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new an(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ic(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Vm("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class q2 extends Dr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ef;const ap=new j,Af=new j,Tf=new j,Cf=new Me,lp=new Me,cH=new St,zv=new j,up=new j,Bv=new j,hk=new Me,uE=new Me,pk=new Me;class fH extends Gt{constructor(e=new q2){if(super(),this.isSprite=!0,this.type="Sprite",Ef===void 0){Ef=new Et;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new xS(n,5);Ef.setIndex([0,1,2,0,2,3]),Ef.setAttribute("position",new Ic(r,3,0,!1)),Ef.setAttribute("uv",new Ic(r,2,3,!1))}this.geometry=Ef,this.material=e,this.center=new Me(.5,.5),this.count=1}raycast(e,n){e.camera===null&&ht('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Af.setFromMatrixScale(this.matrixWorld),cH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Af.multiplyScalar(-Tf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Vv(zv.set(-.5,-.5,0),Tf,o,Af,i,s),Vv(up.set(.5,-.5,0),Tf,o,Af,i,s),Vv(Bv.set(.5,.5,0),Tf,o,Af,i,s),hk.set(0,0),uE.set(1,0),pk.set(1,1);let a=e.ray.intersectTriangle(zv,up,Bv,!1,ap);if(a===null&&(Vv(up.set(-.5,.5,0),Tf,o,Af,i,s),uE.set(0,1),a=e.ray.intersectTriangle(zv,Bv,up,!1,ap),a===null))return;const l=e.ray.origin.distanceTo(ap);l<e.near||l>e.far||n.push({distance:l,point:ap.clone(),uv:Ti.getInterpolation(ap,zv,up,Bv,hk,uE,pk,new Me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Vv(t,e,n,r,i,s){Cf.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(lp.x=s*Cf.x-i*Cf.y,lp.y=i*Cf.x+s*Cf.y):lp.copy(Cf),t.copy(e),t.x+=lp.x,t.y+=lp.y,t.applyMatrix4(cH)}const jv=new j,mk=new j;class dH extends Gt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){jv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(jv);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){jv.setFromMatrixPosition(e.matrixWorld),mk.setFromMatrixPosition(this.matrixWorld);const r=jv.distanceTo(mk)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const gk=new j,vk=new cn,yk=new cn,dae=new j,xk=new St,Hv=new j,cE=new Or,_k=new St,fE=new ch;class hH extends ir{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=WT,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Jr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Hv),this.boundingBox.expandByPoint(Hv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Or),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Hv),this.boundingSphere.expandByPoint(Hv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cE.copy(this.boundingSphere),cE.applyMatrix4(i),e.ray.intersectsSphere(cE)!==!1&&(_k.copy(i).invert(),fE.copy(e.ray).applyMatrix4(_k),!(this.boundingBox!==null&&fE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,fE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===WT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===W6?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ve("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;vk.fromBufferAttribute(i.attributes.skinIndex,e),yk.fromBufferAttribute(i.attributes.skinWeight,e),gk.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=yk.getComponent(s);if(o!==0){const a=vk.getComponent(s);xk.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(dae.copy(gk).applyMatrix4(xk),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Y2 extends Gt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class oo extends On{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Yn,c=Yn,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sk=new St,hae=new St;class _S{constructor(e=[],n=[]){this.uuid=Qi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Ve("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new St;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:hae;Sk.multiplyMatrices(a,n[s]),Sk.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new _S(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new oo(n,e,e,Kr,ci);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(Ve("Skeleton: No bone found with UUID:",s),o=new Y2),this.bones.push(o),this.boneInverses.push(new St().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Hd extends an{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pf=new St,wk=new St,Wv=[],bk=new Jr,pae=new St,cp=new ir,fp=new Or;class pH extends ir{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Hd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,pae)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Jr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Pf),bk.copy(e.boundingBox).applyMatrix4(Pf),this.boundingBox.union(bk)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Or),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Pf),fp.copy(e.boundingSphere).applyMatrix4(Pf),this.boundingSphere.union(fp)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(cp.geometry=this.geometry,cp.material=this.material,cp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fp.copy(this.boundingSphere),fp.applyMatrix4(r),e.ray.intersectsSphere(fp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Pf),wk.multiplyMatrices(r,Pf),cp.matrixWorld=wk,cp.raycast(e,Wv);for(let o=0,a=Wv.length;o<a;o++){const l=Wv[o];l.instanceId=s,l.object=this,n.push(l)}Wv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Hd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new oo(new Float32Array(i*this.count),i,this.count,uS,ci));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const dE=new j,mae=new j,gae=new Ct;class pl{constructor(e=new j(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=dE.subVectors(r,n).cross(mae.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(dE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||gae.getNormalMatrix(e),i=this.coplanarPoint(dE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Tu=new Or,vae=new Me(.5,.5),Gv=new j;class fh{constructor(e=new pl,n=new pl,r=new pl,i=new pl,s=new pl,o=new pl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ki,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],f=s[5],h=s[6],m=s[7],g=s[8],x=s[9],y=s[10],v=s[11],S=s[12],w=s[13],M=s[14],E=s[15];if(i[0].setComponents(u-o,m-c,v-g,E-S).normalize(),i[1].setComponents(u+o,m+c,v+g,E+S).normalize(),i[2].setComponents(u+a,m+f,v+x,E+w).normalize(),i[3].setComponents(u-a,m-f,v-x,E-w).normalize(),r)i[4].setComponents(l,h,y,M).normalize(),i[5].setComponents(u-l,m-h,v-y,E-M).normalize();else if(i[4].setComponents(u-l,m-h,v-y,E-M).normalize(),n===Ki)i[5].setComponents(u+l,m+h,v+y,E+M).normalize();else if(n===zd)i[5].setComponents(l,h,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Tu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Tu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Tu)}intersectsSprite(e){Tu.center.set(0,0,0);const n=vae.distanceTo(e.center);return Tu.radius=.7071067811865476+n,Tu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Tu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Gv.x=i.normal.x>0?e.max.x:e.min.x,Gv.y=i.normal.y>0?e.max.y:e.min.y,Gv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Gv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Mo=new St,Eo=new fh;class SS{constructor(){this.coordinateSystem=Ki}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Mo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Eo.setFromProjectionMatrix(Mo,i.coordinateSystem,i.reversedDepth),Eo.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Mo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Eo.setFromProjectionMatrix(Mo,i.coordinateSystem,i.reversedDepth),Eo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Mo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Eo.setFromProjectionMatrix(Mo,i.coordinateSystem,i.reversedDepth),Eo.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Mo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Eo.setFromProjectionMatrix(Mo,i.coordinateSystem,i.reversedDepth),Eo.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Mo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Eo.setFromProjectionMatrix(Mo,i.coordinateSystem,i.reversedDepth),Eo.containsPoint(e))return!0}return!1}clone(){return new SS}}function hE(t,e){return t-e}function yae(t,e){return t.z-e.z}function xae(t,e){return e.z-t.z}class _ae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const bi=new St,Sae=new Je(1,1,1),Mk=new fh,wae=new SS,$v=new Jr,Cu=new Or,dp=new j,Ek=new j,bae=new j,pE=new _ae,$r=new ir,Xv=[];function Mae(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Pu(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class mH extends ir{constructor(e,n,r=n*2,i){super(new Et,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new oo(n,e,e,Kr,ci);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new oo(n,e,e,Rg,Rs);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new oo(n,e,e,Kr,ci);r.colorSpace=Vt.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:u}=o,c=new a.constructor(r*l),f=new an(c,l,u);n.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new an(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,bi),this.getBoundingBoxAt(s,$v).applyMatrix4(bi),e.union($v)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,bi),this.getBoundingSphereAt(s,Cu).applyMatrix4(bi),e.union(Cu)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(hE),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;bi.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Sae.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(hE),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const c in r.attributes){const f=n.getAttribute(c),h=r.getAttribute(c);Mae(f,h,l);const m=f.itemSize;for(let g=f.count,x=u;g<x;g++){const y=l+g;for(let v=0;v<m;v++)h.setComponent(y,v,0)}h.needsUpdate=!0,h.addUpdateRange(l*m,u*m)}if(i){const c=a.indexStart,f=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let h=0;h<o.count;h++)s.setX(c+h,l+o.getX(h));for(let h=o.count,m=f;h<m;h++)s.setX(c+h,l);s.needsUpdate=!0,s.addUpdateRange(c,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,m=s.index,g=m.array,x=e-f;for(let y=c;y<c+h;y++)g[y]=g[y]+x;m.array.copyWithin(n,c,c+h),m.addUpdateRange(n,h),m.needsUpdate=!0,u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,h=s.attributes;for(const m in h){const g=h[m],{array:x,itemSize:y}=g;x.copyWithin(e*y,c*y,(c+f)*y),g.addUpdateRange(e*y,f*y),g.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Jr,o=r.index,a=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;o&&(c=o.getX(c)),s.expandByPoint(dp.fromBufferAttribute(a,c))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Or;this.getBoundingBoxAt(e,$v),$v.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;o&&(f=o.getX(f)),dp.fromBufferAttribute(a,f),l=Math.max(l,s.center.distanceToSquared(dp))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(hE);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);Pu(this._multiDrawCounts,i),Pu(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Pu(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Pu(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Pu(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Et,this._initializeGeometry(s));const o=this.geometry;s.index&&Pu(s.index.array,o.index.array);for(const a in s.attributes)Pu(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;$r.material=this.material,$r.geometry.index=o.index,$r.geometry.attributes=o.attributes,$r.geometry.boundingBox===null&&($r.geometry.boundingBox=new Jr),$r.geometry.boundingSphere===null&&($r.geometry.boundingSphere=new Or);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const u=r[a].geometryIndex,c=i[u];$r.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(a,$r.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,$r.geometry.boundingBox),this.getBoundingSphereAt(u,$r.geometry.boundingSphere),$r.raycast(e,Xv);for(let f=0,h=Xv.length;f<h;f++){const m=Xv[f];m.object=this,m.batchId=a,n.push(m)}Xv.length=0}$r.material=null,$r.geometry.index=null,$r.geometry.attributes={},$r.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data,x=r.isArrayCamera?wae:Mk;h&&!r.isArrayCamera&&(bi.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Mk.setFromProjectionMatrix(bi,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){bi.copy(this.matrixWorld).invert(),dp.setFromMatrixPosition(r.matrixWorld).applyMatrix4(bi),Ek.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(bi);for(let w=0,M=l.length;w<M;w++)if(l[w].visible&&l[w].active){const E=l[w].geometryIndex;this.getMatrixAt(w,bi),this.getBoundingSphereAt(E,Cu).applyMatrix4(bi);let T=!1;if(h&&(T=!x.intersectsSphere(Cu,r)),!T){const I=f[E],L=bae.subVectors(Cu.center,dp).dot(Ek);pE.push(I.start,I.count,L,w)}}const v=pE.list,S=this.customSort;S===null?v.sort(s.transparent?xae:yae):S.call(this,v,r);for(let w=0,M=v.length;w<M;w++){const E=v[w];u[y]=E.start*a,c[y]=E.count,g[y]=E.index,y++}pE.reset()}else for(let v=0,S=l.length;v<S;v++)if(l[v].visible&&l[v].active){const w=l[v].geometryIndex;let M=!1;if(h&&(this.getMatrixAt(v,bi),this.getBoundingSphereAt(w,Cu).applyMatrix4(bi),M=!x.intersectsSphere(Cu,r)),!M){const E=f[w];u[y]=E.start*a,c[y]=E.count,g[y]=v,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class yi extends Dr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Je(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const D_=new j,k_=new j,Ak=new St,hp=new ch,qv=new Or,mE=new j,Tk=new j;class Gl extends Gt{constructor(e=new Et,n=new yi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)D_.fromBufferAttribute(n,i-1),k_.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=D_.distanceTo(k_);e.setAttribute("lineDistance",new rt(r,1))}else Ve("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qv.copy(r.boundingSphere),qv.applyMatrix4(i),qv.radius+=s,e.ray.intersectsSphere(qv)===!1)return;Ak.copy(i).invert(),hp.copy(e.ray).applyMatrix4(Ak);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let x=m,y=g-1;x<y;x+=u){const v=c.getX(x),S=c.getX(x+1),w=Yv(this,e,hp,l,v,S,x);w&&n.push(w)}if(this.isLineLoop){const x=c.getX(g-1),y=c.getX(m),v=Yv(this,e,hp,l,x,y,g-1);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let x=m,y=g-1;x<y;x+=u){const v=Yv(this,e,hp,l,x,x+1,x);v&&n.push(v)}if(this.isLineLoop){const x=Yv(this,e,hp,l,g-1,m,g-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Yv(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(D_.fromBufferAttribute(a,i),k_.fromBufferAttribute(a,s),n.distanceSqToSegment(D_,k_,mE,Tk)>r)return;mE.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(mE);if(!(u<e.near||u>e.far))return{distance:u,point:Tk.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const Ck=new j,Pk=new j;class Qo extends Gl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)Ck.fromBufferAttribute(n,i),Pk.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Ck.distanceTo(Pk);e.setAttribute("lineDistance",new rt(r,1))}else Ve("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gH extends Gl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class wS extends Dr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Rk=new St,XT=new ch,Kv=new Or,Zv=new j;let vH=class extends Gt{constructor(e=new Et,n=new wS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Kv.copy(r.boundingSphere),Kv.applyMatrix4(i),Kv.radius+=s,e.ray.intersectsSphere(Kv)===!1)return;Rk.copy(i).invert(),XT.copy(e.ray).applyMatrix4(Rk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=h,x=m;g<x;g++){const y=u.getX(g);Zv.fromBufferAttribute(f,y),Ik(Zv,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=h,x=m;g<x;g++)Zv.fromBufferAttribute(f,g),Ik(Zv,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function Ik(t,e,n,r,i,s,o){const a=XT.distanceSqToPoint(t);if(a<n){const l=new j;XT.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class yH extends On{constructor(e,n,r,i,s=wn,o=wn,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Eae extends yH{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Aae extends On{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Yn,this.minFilter=Yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class bS extends On{constructor(e,n,r,i,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tae extends bS{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Pi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Cae extends bS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Xo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Pae extends On{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Wd extends On{constructor(e,n,r=Rs,i,s,o,a=Yn,l=Yn,u,c=Yo,f=1){if(c!==Yo&&c!==Ml)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:f};super(h,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new El(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class xH extends Wd{constructor(e,n=Rs,r=Xo,i,s,o=Yn,a=Yn,l,u=Yo){const c={width:e,height:e,depth:1},f=[c,c,c,c,c,c];super(e,e,n,r,i,s,o,a,l,u),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class K2 extends On{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class MS extends Et{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],u=[],c=n/2,f=Math.PI/2*e,h=n,m=2*f+h,g=r*2+s,x=i+1,y=new j,v=new j;for(let S=0;S<=g;S++){let w=0,M=0,E=0,T=0;if(S<=r){const P=S/r,R=P*Math.PI/2;M=-c-e*Math.cos(R),E=e*Math.sin(R),T=-e*Math.cos(R),w=P*f}else if(S<=r+s){const P=(S-r)/s;M=-c+P*n,E=e,T=0,w=f+P*h}else{const P=(S-r-s)/r,R=P*Math.PI/2;M=c+e*Math.sin(R),E=e*Math.cos(R),T=e*Math.sin(R),w=f+h+P*f}const I=Math.max(0,Math.min(1,w/m));let L=0;S===0?L=.5/i:S===g&&(L=-.5/i);for(let P=0;P<=i;P++){const R=P/i,k=R*Math.PI*2,U=Math.sin(k),V=Math.cos(k);v.x=-E*V,v.y=M,v.z=E*U,a.push(v.x,v.y,v.z),y.set(-E*V,T,E*U),y.normalize(),l.push(y.x,y.y,y.z),u.push(R+L,I)}if(S>0){const P=(S-1)*x;for(let R=0;R<i;R++){const k=P+R,U=P+R+1,V=S*x+R,X=S*x+R+1;o.push(k,U,V),o.push(U,X,V)}}}this.setIndex(o),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class ES extends Et{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new j,c=new Me;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(a,3)),this.setAttribute("uv",new rt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ES(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Og extends Et{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],h=[],m=[];let g=0;const x=[],y=r/2;let v=0;S(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(h,3)),this.setAttribute("uv",new rt(m,2));function S(){const M=new j,E=new j;let T=0;const I=(n-e)/r;for(let L=0;L<=s;L++){const P=[],R=L/s,k=R*(n-e)+e;for(let U=0;U<=i;U++){const V=U/i,X=V*l+a,Y=Math.sin(X),K=Math.cos(X);E.x=k*Y,E.y=-R*r+y,E.z=k*K,f.push(E.x,E.y,E.z),M.set(Y,I,K).normalize(),h.push(M.x,M.y,M.z),m.push(V,1-R),P.push(g++)}x.push(P)}for(let L=0;L<i;L++)for(let P=0;P<s;P++){const R=x[P][L],k=x[P+1][L],U=x[P+1][L+1],V=x[P][L+1];(e>0||P!==0)&&(c.push(R,k,V),T+=3),(n>0||P!==s-1)&&(c.push(k,U,V),T+=3)}u.addGroup(v,T,0),v+=T}function w(M){const E=g,T=new Me,I=new j;let L=0;const P=M===!0?e:n,R=M===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,y*R,0),h.push(0,R,0),m.push(.5,.5),g++;const k=g;for(let U=0;U<=i;U++){const X=U/i*l+a,Y=Math.cos(X),K=Math.sin(X);I.x=P*K,I.y=y*R,I.z=P*Y,f.push(I.x,I.y,I.z),h.push(0,R,0),T.x=Y*.5+.5,T.y=K*.5*R+.5,m.push(T.x,T.y),g++}for(let U=0;U<i;U++){const V=E+U,X=k+U;M===!0?c.push(X,X+1,V):c.push(X+1,X,V),L+=3}u.addGroup(v,L,M===!0?1:2),v+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Og(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lg extends Og{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Lg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nu extends Et{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(s.slice(),3)),this.setAttribute("uv",new rt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new j,M=new j,E=new j;for(let T=0;T<n.length;T+=3)m(n[T+0],w),m(n[T+1],M),m(n[T+2],E),l(w,M,E,S)}function l(S,w,M,E){const T=E+1,I=[];for(let L=0;L<=T;L++){I[L]=[];const P=S.clone().lerp(M,L/T),R=w.clone().lerp(M,L/T),k=T-L;for(let U=0;U<=k;U++)U===0&&L===T?I[L][U]=P:I[L][U]=P.clone().lerp(R,U/k)}for(let L=0;L<T;L++)for(let P=0;P<2*(T-L)-1;P++){const R=Math.floor(P/2);P%2===0?(h(I[L][R+1]),h(I[L+1][R]),h(I[L][R])):(h(I[L][R+1]),h(I[L+1][R+1]),h(I[L+1][R]))}}function u(S){const w=new j;for(let M=0;M<s.length;M+=3)w.x=s[M+0],w.y=s[M+1],w.z=s[M+2],w.normalize().multiplyScalar(S),s[M+0]=w.x,s[M+1]=w.y,s[M+2]=w.z}function c(){const S=new j;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const M=y(S)/2/Math.PI+.5,E=v(S)/Math.PI+.5;o.push(M,1-E)}g(),f()}function f(){for(let S=0;S<o.length;S+=6){const w=o[S+0],M=o[S+2],E=o[S+4],T=Math.max(w,M,E),I=Math.min(w,M,E);T>.9&&I<.1&&(w<.2&&(o[S+0]+=1),M<.2&&(o[S+2]+=1),E<.2&&(o[S+4]+=1))}}function h(S){s.push(S.x,S.y,S.z)}function m(S,w){const M=S*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function g(){const S=new j,w=new j,M=new j,E=new j,T=new Me,I=new Me,L=new Me;for(let P=0,R=0;P<s.length;P+=9,R+=6){S.set(s[P+0],s[P+1],s[P+2]),w.set(s[P+3],s[P+4],s[P+5]),M.set(s[P+6],s[P+7],s[P+8]),T.set(o[R+0],o[R+1]),I.set(o[R+2],o[R+3]),L.set(o[R+4],o[R+5]),E.copy(S).add(w).add(M).divideScalar(3);const k=y(E);x(T,R+0,S,k),x(I,R+2,w,k),x(L,R+4,M,k)}}function x(S,w,M,E){E<0&&S.x===1&&(o[w]=S.x-1),M.x===0&&M.z===0&&(o[w]=E/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function v(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.vertices,e.indices,e.radius,e.detail)}}class AS extends nu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new AS(e.radius,e.detail)}}const Jv=new j,Qv=new j,gE=new j,ey=new Ti;class _H extends Et{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(hc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:x,b:y,c:v}=ey;if(x.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),v.fromBufferAttribute(a,u[2]),ey.getNormal(gE),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const w=(S+1)%3,M=f[S],E=f[w],T=ey[c[S]],I=ey[c[w]],L=`${M}_${E}`,P=`${E}_${M}`;P in h&&h[P]?(gE.dot(h[P].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(I.x,I.y,I.z)),h[P]=null):L in h||(h[L]={index0:u[S],index1:u[w],normal:gE.clone()})}}for(const g in h)if(h[g]){const{index0:x,index1:y}=h[g];Jv.fromBufferAttribute(a,x),Qv.fromBufferAttribute(a,y),m.push(Jv.x,Jv.y,Jv.z),m.push(Qv.x,Qv.y,Qv.z)}this.setAttribute("position",new rt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let ho=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ve("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],h=r[i+1]-c,m=(o-c)/h;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Me:new j);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new j,i=[],s=[],o=[],a=new j,l=new St;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new j)}s[0]=new j,o[0]=new j;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(_t(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(_t(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class TS extends ho{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Me){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*c-m*f+this.aX,u=h*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class SH extends TS{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Z2(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,m*=c,i(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const ty=new j,vE=new Z2,yE=new Z2,xE=new Z2;class wH extends ho{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new j){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(ty.subVectors(i[0],i[1]).add(i[0]),u=ty);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(ty.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=ty),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(c),m);x<1e-4&&(x=1),g<1e-4&&(g=x),y<1e-4&&(y=x),vE.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,x,y),yE.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,x,y),xE.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,x,y)}else this.curveType==="catmullrom"&&(vE.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),yE.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),xE.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(vE.calc(l),yE.calc(l),xE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new j().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Nk(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Rae(t,e){const n=1-t;return n*n*e}function Iae(t,e){return 2*(1-t)*t*e}function Nae(t,e){return t*t*e}function im(t,e,n,r){return Rae(t,e)+Iae(t,n)+Nae(t,r)}function Oae(t,e){const n=1-t;return n*n*n*e}function Lae(t,e){const n=1-t;return 3*n*n*t*e}function Dae(t,e){return 3*(1-t)*t*t*e}function kae(t,e){return t*t*t*e}function sm(t,e,n,r,i){return Oae(t,e)+Lae(t,n)+Dae(t,r)+kae(t,i)}class J2 extends ho{constructor(e=new Me,n=new Me,r=new Me,i=new Me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Me){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(sm(e,i.x,s.x,o.x,a.x),sm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bH extends ho{constructor(e=new j,n=new j,r=new j,i=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(sm(e,i.x,s.x,o.x,a.x),sm(e,i.y,s.y,o.y,a.y),sm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Q2 extends ho{constructor(e=new Me,n=new Me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Me){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MH extends ho{constructor(e=new j,n=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new j){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new j){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eR extends ho{constructor(e=new Me,n=new Me,r=new Me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Me){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(im(e,i.x,s.x,o.x),im(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tR extends ho{constructor(e=new j,n=new j,r=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(im(e,i.x,s.x,o.x),im(e,i.y,s.y,o.y),im(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nR extends ho{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Me){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(Nk(a,l.x,u.x,c.x,f.x),Nk(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Me().fromArray(i))}return this}}var F_=Object.freeze({__proto__:null,ArcCurve:SH,CatmullRomCurve3:wH,CubicBezierCurve:J2,CubicBezierCurve3:bH,EllipseCurve:TS,LineCurve:Q2,LineCurve3:MH,QuadraticBezierCurve:eR,QuadraticBezierCurve3:tR,SplineCurve:nR});class EH extends ho{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new F_[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new F_[i.type]().fromJSON(i))}return this}}let U_=class extends EH{constructor(e){super(),this.type="Path",this.currentPoint=new Me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Q2(this.currentPoint.clone(),new Me(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new eR(this.currentPoint.clone(),new Me(e,n),new Me(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new J2(this.currentPoint.clone(),new Me(e,n),new Me(r,i),new Me(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new nR(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new TS(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},mc=class extends U_{constructor(e){super(e),this.uuid=Qi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new U_().fromJSON(i))}return this}};function Fae(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=AH(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=jae(t,e,s,n)),t.length>80*n){a=t[0],l=t[1];let c=a,f=l;for(let h=n;h<i;h+=n){const m=t[h],g=t[h+1];m<a&&(a=m),g<l&&(l=g),m>c&&(c=m),g>f&&(f=g)}u=Math.max(c-a,f-l),u=u!==0?32767/u:0}return jm(s,o,n,a,l,u,0),o}function AH(t,e,n,r,i){let s;if(i===Qae(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=Ok(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=Ok(o/r|0,t[o],t[o+1],s);return s&&Gd(s,s.next)&&(Wm(s),s=s.next),s}function Nc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Gd(n,n.next)||In(n.prev,n,n.next)===0)){if(Wm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function jm(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Xae(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(s?zae(t,r,i,s):Uae(t)){e.push(l.i,t.i,u.i),Wm(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Bae(Nc(t),e),jm(t,e,n,r,i,s,2)):o===2&&Vae(t,e,n,r,i,s):jm(Nc(t),e,n,r,i,s,1);break}}}function Uae(t){const e=t.prev,n=t,r=t.next;if(In(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=Math.min(i,s,o),f=Math.min(a,l,u),h=Math.max(i,s,o),m=Math.max(a,l,u);let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=m&&Np(i,a,s,l,o,u,g.x,g.y)&&In(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function zae(t,e,n,r){const i=t.prev,s=t,o=t.next;if(In(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,h=o.y,m=Math.min(a,l,u),g=Math.min(c,f,h),x=Math.max(a,l,u),y=Math.max(c,f,h),v=qT(m,g,e,n,r),S=qT(x,y,e,n,r);let w=t.prevZ,M=t.nextZ;for(;w&&w.z>=v&&M&&M.z<=S;){if(w.x>=m&&w.x<=x&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Np(a,c,l,f,u,h,w.x,w.y)&&In(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=m&&M.x<=x&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Np(a,c,l,f,u,h,M.x,M.y)&&In(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=v;){if(w.x>=m&&w.x<=x&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Np(a,c,l,f,u,h,w.x,w.y)&&In(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=S;){if(M.x>=m&&M.x<=x&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Np(a,c,l,f,u,h,M.x,M.y)&&In(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Bae(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Gd(r,i)&&CH(r,n,n.next,i)&&Hm(r,i)&&Hm(i,r)&&(e.push(r.i,n.i,i.i),Wm(n),Wm(n.next),n=t=i),n=n.next}while(n!==t);return Nc(n)}function Vae(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Kae(o,a)){let l=PH(o,a);o=Nc(o,o.next),l=Nc(l,l.next),jm(o,e,n,r,i,s,0),jm(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function jae(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=AH(t,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(Yae(u))}i.sort(Hae);for(let s=0;s<i.length;s++)n=Wae(i[s],n);return n}function Hae(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Wae(t,e){const n=Gae(t,e);if(!n)return e;const r=PH(n,t);return Nc(r,r.next),Nc(n,n.next)}function Gae(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(Gd(t,n))return n;do{if(Gd(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s&&(s=f,o=n.x<n.next.x?n:n.next,f===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let c=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&TH(i<u?r:s,i,l,u,i<u?s:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);Hm(n,t)&&(f<c||f===c&&(n.x>o.x||n.x===o.x&&$ae(o,n)))&&(o=n,c=f)}n=n.next}while(n!==a);return o}function $ae(t,e){return In(t.prev,t,e.prev)<0&&In(e.next,t,t.next)<0}function Xae(t,e,n,r){let i=t;do i.z===0&&(i.z=qT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qae(i)}function qae(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<n&&(a++,o=o.nextZ,!!o);u++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function qT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Yae(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function TH(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Np(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&TH(t,e,n,r,i,s,o,a)}function Kae(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Zae(t,e)&&(Hm(t,e)&&Hm(e,t)&&Jae(t,e)&&(In(t.prev,t,e.prev)||In(t,e.prev,e))||Gd(t,e)&&In(t.prev,t,t.next)>0&&In(e.prev,e,e.next)>0)}function In(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Gd(t,e){return t.x===e.x&&t.y===e.y}function CH(t,e,n,r){const i=ry(In(t,e,n)),s=ry(In(t,e,r)),o=ry(In(n,r,t)),a=ry(In(n,r,e));return!!(i!==s&&o!==a||i===0&&ny(t,n,e)||s===0&&ny(t,r,e)||o===0&&ny(n,t,r)||a===0&&ny(n,e,r))}function ny(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ry(t){return t>0?1:t<0?-1:0}function Zae(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&CH(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Hm(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function Jae(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function PH(t,e){const n=YT(t.i,t.x,t.y),r=YT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Ok(t,e,n,r){const i=YT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function YT(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Qae(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class ele{static triangulate(e,n,r=2){return Fae(e,n,r)}}class ro{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ro.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];Lk(e),Dk(r,e);let o=e.length;n.forEach(Lk);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,Dk(r,n[l]);const a=ele.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Lk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Dk(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class CS extends Et{constructor(e=new mc([new Me(.5,.5),new Me(-.5,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new rt(i,3)),this.setAttribute("uv",new rt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:tle;let w,M=!1,E,T,I,L;if(v){w=v.getSpacedPoints(c),M=!0,h=!1;const de=v.isCatmullRomCurve3?v.closed:!1;E=v.computeFrenetFrames(c,de),T=new j,I=new j,L=new j}h||(y=0,m=0,g=0,x=0);const P=a.extractPoints(u);let R=P.shape;const k=P.holes;if(!ro.isClockWise(R)){R=R.reverse();for(let de=0,we=k.length;de<we;de++){const xe=k[de];ro.isClockWise(xe)&&(k[de]=xe.reverse())}}function V(de){const xe=10000000000000001e-36;let Le=de[0];for(let H=1;H<=de.length;H++){const mt=H%de.length,je=de[mt],vt=je.x-Le.x,Oe=je.y-Le.y,B=vt*vt+Oe*Oe,D=Math.max(Math.abs(je.x),Math.abs(je.y),Math.abs(Le.x),Math.abs(Le.y)),Q=xe*D*D;if(B<=Q){de.splice(mt,1),H--;continue}Le=je}}V(R),k.forEach(V);const X=k.length,Y=R;for(let de=0;de<X;de++){const we=k[de];R=R.concat(we)}function K(de,we,xe){return we||ht("ExtrudeGeometry: vec does not exist"),de.clone().addScaledVector(we,xe)}const q=R.length;function F(de,we,xe){let Le,H,mt;const je=de.x-we.x,vt=de.y-we.y,Oe=xe.x-de.x,B=xe.y-de.y,D=je*je+vt*vt,Q=je*B-vt*Oe;if(Math.abs(Q)>Number.EPSILON){const pe=Math.sqrt(D),Se=Math.sqrt(Oe*Oe+B*B),me=we.x-vt/pe,ut=we.y+je/pe,ke=xe.x-B/Se,ot=xe.y+Oe/Se,yt=((ke-me)*B-(ot-ut)*Oe)/(je*B-vt*Oe);Le=me+je*yt-de.x,H=ut+vt*yt-de.y;const Te=Le*Le+H*H;if(Te<=2)return new Me(Le,H);mt=Math.sqrt(Te/2)}else{let pe=!1;je>Number.EPSILON?Oe>Number.EPSILON&&(pe=!0):je<-Number.EPSILON?Oe<-Number.EPSILON&&(pe=!0):Math.sign(vt)===Math.sign(B)&&(pe=!0),pe?(Le=-vt,H=je,mt=Math.sqrt(D)):(Le=je,H=vt,mt=Math.sqrt(D/2))}return new Me(Le/mt,H/mt)}const $=[];for(let de=0,we=Y.length,xe=we-1,Le=de+1;de<we;de++,xe++,Le++)xe===we&&(xe=0),Le===we&&(Le=0),$[de]=F(Y[de],Y[xe],Y[Le]);const G=[];let Z,fe=$.concat();for(let de=0,we=X;de<we;de++){const xe=k[de];Z=[];for(let Le=0,H=xe.length,mt=H-1,je=Le+1;Le<H;Le++,mt++,je++)mt===H&&(mt=0),je===H&&(je=0),Z[Le]=F(xe[Le],xe[mt],xe[je]);G.push(Z),fe=fe.concat(Z)}let Ee;if(y===0)Ee=ro.triangulateShape(Y,k);else{const de=[],we=[];for(let xe=0;xe<y;xe++){const Le=xe/y,H=m*Math.cos(Le*Math.PI/2),mt=g*Math.sin(Le*Math.PI/2)+x;for(let je=0,vt=Y.length;je<vt;je++){const Oe=K(Y[je],$[je],mt);ie(Oe.x,Oe.y,-H),Le===0&&de.push(Oe)}for(let je=0,vt=X;je<vt;je++){const Oe=k[je];Z=G[je];const B=[];for(let D=0,Q=Oe.length;D<Q;D++){const pe=K(Oe[D],Z[D],mt);ie(pe.x,pe.y,-H),Le===0&&B.push(pe)}Le===0&&we.push(B)}}Ee=ro.triangulateShape(de,we)}const Ge=Ee.length,ct=g+x;for(let de=0;de<q;de++){const we=h?K(R[de],fe[de],ct):R[de];M?(I.copy(E.normals[0]).multiplyScalar(we.x),T.copy(E.binormals[0]).multiplyScalar(we.y),L.copy(w[0]).add(I).add(T),ie(L.x,L.y,L.z)):ie(we.x,we.y,0)}for(let de=1;de<=c;de++)for(let we=0;we<q;we++){const xe=h?K(R[we],fe[we],ct):R[we];M?(I.copy(E.normals[de]).multiplyScalar(xe.x),T.copy(E.binormals[de]).multiplyScalar(xe.y),L.copy(w[de]).add(I).add(T),ie(L.x,L.y,L.z)):ie(xe.x,xe.y,f/c*de)}for(let de=y-1;de>=0;de--){const we=de/y,xe=m*Math.cos(we*Math.PI/2),Le=g*Math.sin(we*Math.PI/2)+x;for(let H=0,mt=Y.length;H<mt;H++){const je=K(Y[H],$[H],Le);ie(je.x,je.y,f+xe)}for(let H=0,mt=k.length;H<mt;H++){const je=k[H];Z=G[H];for(let vt=0,Oe=je.length;vt<Oe;vt++){const B=K(je[vt],Z[vt],Le);M?ie(B.x,B.y+w[c-1].y,w[c-1].x+xe):ie(B.x,B.y,f+xe)}}}ae(),ye();function ae(){const de=i.length/3;if(h){let we=0,xe=q*we;for(let Le=0;Le<Ge;Le++){const H=Ee[Le];be(H[2]+xe,H[1]+xe,H[0]+xe)}we=c+y*2,xe=q*we;for(let Le=0;Le<Ge;Le++){const H=Ee[Le];be(H[0]+xe,H[1]+xe,H[2]+xe)}}else{for(let we=0;we<Ge;we++){const xe=Ee[we];be(xe[2],xe[1],xe[0])}for(let we=0;we<Ge;we++){const xe=Ee[we];be(xe[0]+q*c,xe[1]+q*c,xe[2]+q*c)}}r.addGroup(de,i.length/3-de,0)}function ye(){const de=i.length/3;let we=0;qe(Y,we),we+=Y.length;for(let xe=0,Le=k.length;xe<Le;xe++){const H=k[xe];qe(H,we),we+=H.length}r.addGroup(de,i.length/3-de,1)}function qe(de,we){let xe=de.length;for(;--xe>=0;){const Le=xe;let H=xe-1;H<0&&(H=de.length-1);for(let mt=0,je=c+y*2;mt<je;mt++){const vt=q*mt,Oe=q*(mt+1),B=we+Le+vt,D=we+H+vt,Q=we+H+Oe,pe=we+Le+Oe;ze(B,D,Q,pe)}}}function ie(de,we,xe){l.push(de),l.push(we),l.push(xe)}function be(de,we,xe){ve(de),ve(we),ve(xe);const Le=i.length/3,H=S.generateTopUV(r,i,Le-3,Le-2,Le-1);Ye(H[0]),Ye(H[1]),Ye(H[2])}function ze(de,we,xe,Le){ve(de),ve(we),ve(Le),ve(we),ve(xe),ve(Le);const H=i.length/3,mt=S.generateSideWallUV(r,i,H-6,H-3,H-2,H-1);Ye(mt[0]),Ye(mt[1]),Ye(mt[3]),Ye(mt[1]),Ye(mt[2]),Ye(mt[3])}function ve(de){i.push(l[de*3+0]),i.push(l[de*3+1]),i.push(l[de*3+2])}function Ye(de){s.push(de.x),s.push(de.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return nle(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new F_[i.type]().fromJSON(i)),new CS(r,e.options)}}const tle={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Me(s,o),new Me(a,l),new Me(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],x=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Me(o,1-l),new Me(u,1-f),new Me(h,1-g),new Me(x,1-v)]:[new Me(a,1-l),new Me(c,1-f),new Me(m,1-g),new Me(y,1-v)]}};function nle(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class PS extends nu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new PS(e.radius,e.detail)}}class RS extends Et{constructor(e=[new Me(0,-.5),new Me(.5,0),new Me(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=_t(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new j,h=new Me,m=new j,g=new j,x=new j;let y=0,v=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-y,m.z=v*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-y,m.z=v*0,g.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(g)}for(let S=0;S<=n;S++){const w=r+S*c*i,M=Math.sin(w),E=Math.cos(w);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*M,f.y=e[T].y,f.z=e[T].x*E,o.push(f.x,f.y,f.z),h.x=S/n,h.y=T/(e.length-1),a.push(h.x,h.y);const I=l[3*T+0]*M,L=l[3*T+1],P=l[3*T+0]*E;u.push(I,L,P)}}for(let S=0;S<n;S++)for(let w=0;w<e.length-1;w++){const M=w+S*e.length,E=M,T=M+e.length,I=M+e.length+1,L=M+1;s.push(E,T,L),s.push(I,L,T)}this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("uv",new rt(a,2)),this.setAttribute("normal",new rt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RS(e.points,e.segments,e.phiStart,e.phiLength)}}class Dg extends nu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Dg(e.radius,e.detail)}}class dh extends Et{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,h=n/l,m=[],g=[],x=[],y=[];for(let v=0;v<c;v++){const S=v*h-o;for(let w=0;w<u;w++){const M=w*f-s;g.push(M,-S,0),x.push(0,0,1),y.push(w/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let S=0;S<a;S++){const w=S+u*v,M=S+u*(v+1),E=S+1+u*(v+1),T=S+1+u*v;m.push(w,M,T),m.push(M,E,T)}this.setIndex(m),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dh(e.width,e.height,e.widthSegments,e.heightSegments)}}class IS extends Et{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,m=new j,g=new Me;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const v=s+y/r*o;m.x=f*Math.cos(v),m.y=f*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=h}for(let x=0;x<i;x++){const y=x*(r+1);for(let v=0;v<r;v++){const S=v+y,w=S,M=S+r+1,E=S+r+2,T=S+1;a.push(w,M,T),a.push(M,E,T)}}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class NS extends Et{constructor(e=new mc([new Me(0,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new rt(i,3)),this.setAttribute("normal",new rt(s,3)),this.setAttribute("uv",new rt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let m=h.shape;const g=h.holes;ro.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,v=g.length;y<v;y++){const S=g[y];ro.isClockWise(S)===!0&&(g[y]=S.reverse())}const x=ro.triangulateShape(m,g);for(let y=0,v=g.length;y<v;y++){const S=g[y];m=m.concat(S)}for(let y=0,v=m.length;y<v;y++){const S=m[y];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,v=x.length;y<v;y++){const S=x[y],w=S[0]+f,M=S[1]+f,E=S[2]+f;r.push(w,M,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return rle(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new NS(r,e.curveSegments)}}function rle(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class kg extends Et{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new j,h=new j,m=[],g=[],x=[],y=[];for(let v=0;v<=r;v++){const S=[],w=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let E=0;E<=n;E++){const T=E/n;f.x=-e*Math.cos(i+T*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+T*s)*Math.sin(o+w*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),x.push(h.x,h.y,h.z),y.push(T+M,1-w),S.push(u++)}c.push(S)}for(let v=0;v<r;v++)for(let S=0;S<n;S++){const w=c[v][S+1],M=c[v][S],E=c[v+1][S],T=c[v+1][S+1];(v!==0||o>0)&&m.push(w,M,T),(v!==r-1||l<Math.PI)&&m.push(M,E,T)}this.setIndex(m),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class OS extends nu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OS(e.radius,e.detail)}}class LS extends Et{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new j,f=new j,h=new j;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const x=g/i*s,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(x),f.y=(e+n*Math.cos(y))*Math.sin(x),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const x=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,S=(i+1)*m+g;o.push(x,y,S),o.push(y,v,S)}this.setIndex(o),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class DS extends Et{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new j,h=new j,m=new j,g=new j,x=new j,y=new j,v=new j;for(let w=0;w<=r;++w){const M=w/r*s*Math.PI*2;S(M,s,o,e,m),S(M+.01,s,o,e,g),y.subVectors(g,m),v.addVectors(g,m),x.crossVectors(y,v),v.crossVectors(x,y),x.normalize(),v.normalize();for(let E=0;E<=i;++E){const T=E/i*Math.PI*2,I=-n*Math.cos(T),L=n*Math.sin(T);f.x=m.x+(I*v.x+L*x.x),f.y=m.y+(I*v.y+L*x.y),f.z=m.z+(I*v.z+L*x.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),u.push(h.x,h.y,h.z),c.push(w/r),c.push(E/i)}}for(let w=1;w<=r;w++)for(let M=1;M<=i;M++){const E=(i+1)*(w-1)+(M-1),T=(i+1)*w+(M-1),I=(i+1)*w+M,L=(i+1)*(w-1)+M;a.push(E,T,L),a.push(T,I,L)}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(c,2));function S(w,M,E,T,I){const L=Math.cos(w),P=Math.sin(w),R=E/M*w,k=Math.cos(R);I.x=T*(2+k)*.5*L,I.y=T*(2+k)*P*.5,I.z=T*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kS extends Et{constructor(e=new tR(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new j,l=new j,u=new Me;let c=new j;const f=[],h=[],m=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(h,3)),this.setAttribute("uv",new rt(m,2));function x(){for(let w=0;w<n;w++)y(w);y(s===!1?n:0),S(),v()}function y(w){c=e.getPointAt(w/n,c);const M=o.normals[w],E=o.binormals[w];for(let T=0;T<=i;T++){const I=T/i*Math.PI*2,L=Math.sin(I),P=-Math.cos(I);l.x=P*M.x+L*E.x,l.y=P*M.y+L*E.y,l.z=P*M.z+L*E.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let w=1;w<=n;w++)for(let M=1;M<=i;M++){const E=(i+1)*(w-1)+(M-1),T=(i+1)*w+(M-1),I=(i+1)*w+M,L=(i+1)*(w-1)+M;g.push(E,T,L),g.push(T,I,L)}}function S(){for(let w=0;w<=n;w++)for(let M=0;M<=i;M++)u.x=w/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kS(new F_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class RH extends Et{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new j,s=new j;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,m=f.count;for(let g=h,x=h+m;g<x;g+=3)for(let y=0;y<3;y++){const v=a.getX(g+y),S=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,S),kk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),kk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function kk(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var Fk=Object.freeze({__proto__:null,BoxGeometry:jc,CapsuleGeometry:MS,CircleGeometry:ES,ConeGeometry:Lg,CylinderGeometry:Og,DodecahedronGeometry:AS,EdgesGeometry:_H,ExtrudeGeometry:CS,IcosahedronGeometry:PS,LatheGeometry:RS,OctahedronGeometry:Dg,PlaneGeometry:dh,PolyhedronGeometry:nu,RingGeometry:IS,ShapeGeometry:NS,SphereGeometry:kg,TetrahedronGeometry:OS,TorusGeometry:LS,TorusKnotGeometry:DS,TubeGeometry:kS,WireframeGeometry:RH});class IH extends Dr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rR extends Is{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class iR extends Dr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NH extends iR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return _t(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Je(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class OH extends Dr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LH extends Dr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DH extends Dr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kH extends Dr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sR extends Dr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=q6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class oR extends Dr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class FH extends Dr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eu,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UH extends yi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function rc(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function zH(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function KT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function aR(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function ile(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let x=0;x<c;++x)h.push(u.values[m*c+x])}}f.length!==0&&(u.times=rc(f,u.times.constructor),u.values=rc(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function sle(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let x;if(s<=a.times[0]){const v=c,S=f-c;x=a.values.slice(v,S)}else if(s>=a.times[g]){const v=g*f+c,S=v+f-c;x=a.values.slice(v,S)}else{const v=a.createInterpolant(),S=c,w=f-c;v.evaluate(s),x=v.resultBuffer.slice(S,w)}l==="quaternion"&&new Fi().fromArray(x).normalize().conjugate().toArray(x);const y=u.times.length;for(let v=0;v<y;++v){const S=v*m+h;if(l==="quaternion")Fi.multiplyQuaternionsFlat(u.values,S,x,0,u.values,S);else{const w=m-h*2;for(let M=0;M<w;++M)u.values[S+M]-=x[M]}}}return t.blendMode=j2,t}class ole{static convertArray(e,n){return rc(e,n)}static isTypedArray(e){return rH(e)}static getKeyframeOrder(e){return zH(e)}static sortedArray(e,n,r){return KT(e,n,r)}static flattenJSON(e,n,r,i){aR(e,n,r,i)}static subclip(e,n,r,i,s=30){return ile(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return sle(e,n,r,i)}}class Fg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class BH extends Fg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:tc,endingEnd:tc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case nc:s=e,a=2*n-r;break;case Fm:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case nc:o=e,l=2*r-n;break;case Fm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),x=g*g,y=x*g,v=-h*y+2*h*x-h*g,S=(1+h)*y+(-1.5-2*h)*x+(-.5+h)*g+1,w=(-1-m)*y+(1.5+m)*x+.5*g,M=m*y-m*x;for(let E=0;E!==a;++E)s[E]=v*o[c+E]+S*o[u+E]+w*o[l+E]+M*o[f+E];return s}}class lR extends Fg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class VH extends Fg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ds{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rc(n,this.TimeBufferType),this.values=rc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:rc(e.times,Array),values:rc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new VH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new BH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case km:n=this.InterpolantFactoryMethodDiscrete;break;case O_:n=this.InterpolantFactoryMethodLinear;break;case Zy:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Ve("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return km;case this.InterpolantFactoryMethodLinear:return O_;case this.InterpolantFactoryMethodSmooth:return Zy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(ht("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(ht("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){ht("KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){ht("KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&rH(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){ht("KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Zy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,m=f+r;for(let g=0;g!==r;++g){const x=n[f+g];if(x!==n[h+g]||x!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let m=0;m!==r;++m)n[h+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ds.prototype.ValueTypeName="";Ds.prototype.TimeBufferType=Float32Array;Ds.prototype.ValueBufferType=Float32Array;Ds.prototype.DefaultInterpolation=O_;class Hc extends Ds{constructor(e,n,r){super(e,n,r)}}Hc.prototype.ValueTypeName="bool";Hc.prototype.ValueBufferType=Array;Hc.prototype.DefaultInterpolation=km;Hc.prototype.InterpolantFactoryMethodLinear=void 0;Hc.prototype.InterpolantFactoryMethodSmooth=void 0;class uR extends Ds{constructor(e,n,r,i){super(e,n,r,i)}}uR.prototype.ValueTypeName="color";class Gm extends Ds{constructor(e,n,r,i){super(e,n,r,i)}}Gm.prototype.ValueTypeName="number";class jH extends Fg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)Fi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Ug extends Ds{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new jH(this.times,this.values,this.getValueSize(),e)}}Ug.prototype.ValueTypeName="quaternion";Ug.prototype.InterpolantFactoryMethodSmooth=void 0;class Wc extends Ds{constructor(e,n,r){super(e,n,r)}}Wc.prototype.ValueTypeName="string";Wc.prototype.ValueBufferType=Array;Wc.prototype.DefaultInterpolation=km;Wc.prototype.InterpolantFactoryMethodLinear=void 0;Wc.prototype.InterpolantFactoryMethodSmooth=void 0;class $m extends Ds{constructor(e,n,r,i){super(e,n,r,i)}}$m.prototype.ValueTypeName="vector";class Xm{constructor(e="",n=-1,r=[],i=dS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Qi(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(lle(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(Ds.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=zH(l);l=KT(l,1,c),u=KT(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Gm(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(Ve("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return ht("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,g,x){if(m.length!==0){const y=[],v=[];aR(m,y,v,g),y.length!==0&&x.push(new f(h,y,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let x=0;x<h[g].morphTargets.length;x++)m[h[g].morphTargets[x]]=-1;for(const x in m){const y=[],v=[];for(let S=0;S!==h[g].morphTargets.length;++S){const w=h[g];y.push(w.time),v.push(w.morphTarget===x?1:0)}i.push(new Gm(".morphTargetInfluence["+x+"]",y,v))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r($m,m+".position",h,"pos",i),r(Ug,m+".quaternion",h,"rot",i),r($m,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function ale(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gm;case"vector":case"vector2":case"vector3":case"vector4":return $m;case"color":return uR;case"quaternion":return Ug;case"bool":case"boolean":return Hc;case"string":return Wc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function lle(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ale(t.type);if(t.times===void 0){const n=[],r=[];aR(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ko={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class cR{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const HH=new cR;class Ui{constructor(e){this.manager=e!==void 0?e:HH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ui.DEFAULT_MATERIAL_NAME="__DEFAULT";const da={};class ule extends Error{constructor(e,n){super(e),this.response=n}}class Na extends Ui{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ko.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(da[e]!==void 0){da[e].push({onLoad:n,onProgress:r,onError:i});return}da[e]=[],da[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Ve("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=da[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let x=0;const y=new ReadableStream({start(v){S();function S(){f.read().then(({done:w,value:M})=>{if(w)v.close();else{x+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:m});for(let T=0,I=c.length;T<I;T++){const L=c[T];L.onProgress&&L.onProgress(E)}v.enqueue(M),S()}},w=>{v.error(w)})}}});return new Response(y)}else throw new ule(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{ko.add(`file:${e}`,u);const c=da[e];delete da[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=da[e];if(c===void 0)throw this.manager.itemError(e),u;delete da[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class cle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Na(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):ht(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Xm.parse(e[r]);n.push(i)}return n}}class fle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new bS,l=new Na(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const m=s.parse(h,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=wn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+x]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=wn),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const Rf=new WeakMap;class qm extends Ui{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ko.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let f=Rf.get(o);f===void 0&&(f=[],Rf.set(o,f)),f.push({onLoad:n,onError:i})}return o}const a=Bm("img");function l(){c(),n&&n(this);const f=Rf.get(this)||[];for(let h=0;h<f.length;h++){const m=f[h];m.onLoad&&m.onLoad(this)}Rf.delete(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),ko.remove(`image:${e}`);const h=Rf.get(this)||[];for(let m=0;m<h.length;m++){const g=h[m];g.onError&&g.onError(f)}Rf.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),ko.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class dle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=new Ng;s.colorSpace=Ei;const o=new qm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class hle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new oo,a=new Na(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(c){if(i!==void 0)i(c);else{c(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Pi,o.wrapT=u.wrapT!==void 0?u.wrapT:Pi,o.magFilter=u.magFilter!==void 0?u.magFilter:wn,o.minFilter=u.minFilter!==void 0?u.minFilter:wn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Do),u.mipmapCount===1&&(o.minFilter=wn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class ple extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=new On,o=new qm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ru extends Gt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Je(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class WH extends ru{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Je(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const _E=new St,Uk=new j,zk=new j;class fR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Me(512,512),this.mapType=oi,this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fh,this._frameExtents=new Me(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Uk.setFromMatrixPosition(e.matrixWorld),n.position.copy(Uk),zk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(zk),n.updateMatrixWorld(),_E.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_E,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(_E)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mle extends fR{constructor(){super(new Sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Vd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class GH extends ru{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.target=new Gt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mle}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class gle extends fR{constructor(){super(new Sr(90,1,.5,500)),this.isPointLightShadow=!0}}class $H extends ru{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class hh extends Ig{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class vle extends fR{constructor(){super(new hh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class XH extends ru{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.target=new Gt,this.shadow=new vle}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class qH extends ru{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class YH extends ru{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class dR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class KH extends ru{constructor(e=new dR,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class FS extends Ui{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Na(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):ht(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&Ve("MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Je().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Je().setHex(o.value);break;case"v2":i.uniforms[s].value=new Me().fromArray(o.value);break;case"v3":i.uniforms[s].value=new j().fromArray(o.value);break;case"v4":i.uniforms[s].value=new cn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Ct().fromArray(o.value);break;case"m4":i.uniforms[s].value=new St().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Me().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return FS.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:IH,SpriteMaterial:q2,RawShaderMaterial:rR,ShaderMaterial:Is,PointsMaterial:wS,MeshPhysicalMaterial:NH,MeshStandardMaterial:iR,MeshPhongMaterial:OH,MeshToonMaterial:LH,MeshNormalMaterial:DH,MeshLambertMaterial:kH,MeshDepthMaterial:sR,MeshDistanceMaterial:oR,MeshBasicMaterial:tu,MeshMatcapMaterial:FH,LineDashedMaterial:UH,LineBasicMaterial:yi,Material:Dr};return new n[e]}}class ZT{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class ZH extends Et{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class JH extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Na(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):ht(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],v=s(m,y.buffer),S=fd(y.type,v),w=new xS(S,y.stride);return w.uuid=y.uuid,n[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],v=new Uint32Array(y).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new ZH:new Et,a=e.data.index;if(a!==void 0){const m=fd(a.type,a.array);o.setIndex(new an(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let x;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);x=new Ic(y,g.itemSize,g.offset,g.normalized)}else{const y=fd(g.type,g.array),v=g.isInstancedBufferAttribute?Hd:an;x=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),o.setAttribute(m,x)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],x=[];for(let y=0,v=g.length;y<v;y++){const S=g[y];let w;if(S.isInterleavedBufferAttribute){const M=i(e.data,S.data);w=new Ic(M,S.itemSize,S.offset,S.normalized)}else{const M=fd(S.type,S.array);w=new an(M,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),x.push(w)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const x=f[m];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new Or().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?ZT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Na(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),ht("ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?ZT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Na(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new mc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new _S().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new JH;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Fk?a=Fk[l.type].fromJSON(l,n):Ve(`ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new FS;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:fd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new cR(n);s=new qm(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,x=h.length;g<x;g++){const y=h[g],v=a(y);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new oo(v.data,v.width,v.height)))}i[f.uuid]=new El(m)}else{const m=a(f.url);i[f.uuid]=new El(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:fd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new qm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new oo(g.data,g.width,g.height)))}r[l.uuid]=new El(c)}else{const c=await s(l.url);r[l.uuid]=new El(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(Ve("ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&Ve('ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&Ve("ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new Ng,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new oo:c=new On,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,xle)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],Bk),c.wrapT=r(a.wrap[1],Bk)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,Vk)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,Vk)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&Ve("ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,x=h.length;g<x;g++){const y=h[g];r[y]===void 0&&Ve("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&Ve("ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&Ve("ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new L_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Je(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new hh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qH(e.color,e.intensity);break;case"DirectionalLight":o=new XH(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new $H(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new YH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new GH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new WH(e.color,e.groundColor,e.intensity);break;case"LightProbe":const h=new dR().fromArray(e.sh);o=new KH(h,e.intensity);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new hH(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new ir(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const m=e.count,g=e.instanceMatrix,x=e.instanceColor;o=new pH(c,f,m),o.instanceMatrix=new Hd(new Float32Array(g.array),16),x!==void 0&&(o.instanceColor=new Hd(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":c=a(e.geometry),f=l(e.material),o=new mH(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let v=null,S=null;return y.boundingBox!==void 0&&(v=new Jr().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(S=new Or().fromJSON(y.boundingSphere)),{...y,boundingBox:v,boundingSphere:S}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Or().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Jr().fromJSON(e.boundingBox));break;case"LOD":o=new dH;break;case"Line":o=new Gl(a(e.geometry),l(e.material));break;case"LineLoop":o=new gH(a(e.geometry),l(e.material));break;case"LineSegments":o=new Qo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new vH(a(e.geometry),l(e.material));break;case"Sprite":o=new fH(l(e.material));break;case"Group":o=new dd;break;case"Bone":o=new Y2;break;default:o=new Gt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],x=o.getObjectByProperty("uuid",g.object);x!==void 0&&o.addLevel(x,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?Ve("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Gt}})}}const xle={UVMapping:sS,CubeReflectionMapping:Xo,CubeRefractionMapping:Hl,EquirectangularReflectionMapping:Nm,EquirectangularRefractionMapping:Om,CubeUVReflectionMapping:uh},Bk={RepeatWrapping:Lm,ClampToEdgeWrapping:Pi,MirroredRepeatWrapping:Dm},Vk={NearestFilter:Yn,NearestMipmapNearestFilter:D2,NearestMipmapLinearFilter:cd,LinearFilter:wn,LinearMipmapNearestFilter:Jp,LinearMipmapLinearFilter:Do},SE=new WeakMap;class _le extends Ui{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ve("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ve("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ko.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{if(SE.has(o)===!0)i&&i(SE.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return ko.add(`image-bitmap:${e}`,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),SE.set(l,u),ko.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});ko.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let iy;class hR{static getContext(){return iy===void 0&&(iy=new(window.AudioContext||window.webkitAudioContext)),iy}static setContext(e){iy=e}}class Sle extends Ui{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Na(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);hR.getContext().decodeAudioData(u,function(f){n(f)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):ht(l),s.manager.itemError(e)}}}const jk=new St,Hk=new St,Ru=new St;class wle{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ru.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(hc*n.fov*.5)/n.zoom;let a,l;Hk.elements[12]=-i,jk.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Ru.elements[0]=2*n.near/(l-a),Ru.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ru),a=-o*n.aspect-s,l=o*n.aspect-s,Ru.elements[0]=2*n.near/(l-a),Ru.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ru)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Hk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jk)}}class QH extends Sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class pR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Iu=new j,wE=new Fi,ble=new j,Nu=new j,Ou=new j;class Mle extends Gt{constructor(){super(),this.type="AudioListener",this.context=hR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Iu,wE,ble),Nu.set(0,0,-1).applyQuaternion(wE),Ou.set(0,1,0).applyQuaternion(wE),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Iu.x,r),n.positionY.linearRampToValueAtTime(Iu.y,r),n.positionZ.linearRampToValueAtTime(Iu.z,r),n.forwardX.linearRampToValueAtTime(Nu.x,r),n.forwardY.linearRampToValueAtTime(Nu.y,r),n.forwardZ.linearRampToValueAtTime(Nu.z,r),n.upX.linearRampToValueAtTime(Ou.x,r),n.upY.linearRampToValueAtTime(Ou.y,r),n.upZ.linearRampToValueAtTime(Ou.z,r)}else n.setPosition(Iu.x,Iu.y,Iu.z),n.setOrientation(Nu.x,Nu.y,Nu.z,Ou.x,Ou.y,Ou.z)}}class eW extends Gt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ve("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ve("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ve("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ve("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ve("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ve("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ve("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Ve("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Lu=new j,Wk=new Fi,Ele=new j,Du=new j;class Ale extends eW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Lu,Wk,Ele),Du.set(0,0,1).applyQuaternion(Wk);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Lu.x,r),n.positionY.linearRampToValueAtTime(Lu.y,r),n.positionZ.linearRampToValueAtTime(Lu.z,r),n.orientationX.linearRampToValueAtTime(Du.x,r),n.orientationY.linearRampToValueAtTime(Du.y,r),n.orientationZ.linearRampToValueAtTime(Du.z,r)}else n.setPosition(Lu.x,Lu.y,Lu.z),n.setOrientation(Du.x,Du.y,Du.z)}}class Tle{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class tW{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Fi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Fi.multiplyQuaternionsFlat(e,o,e,n,e,r),Fi.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const mR="\\[\\]\\.:\\/",Cle=new RegExp("["+mR+"]","g"),gR="[^"+mR+"]",Ple="[^"+mR.replace("\\.","")+"]",Rle=/((?:WC+[\/:])*)/.source.replace("WC",gR),Ile=/(WCOD+)?/.source.replace("WCOD",Ple),Nle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gR),Ole=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gR),Lle=new RegExp("^"+Rle+Ile+Nle+Ole+"$"),Dle=["material","materials","bones","map"];class kle{constructor(e,n,r){const i=r||Ht.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Ht{constructor(e,n,r){this.path=n,this.parsedPath=r||Ht.parseTrackName(n),this.node=Ht.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Ht.Composite(e,n,r):new Ht(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Cle,"")}static parseTrackName(e){const n=Lle.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Dle.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Ht.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ve("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){ht("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){ht("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){ht("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){ht("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){ht("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;ht("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ht.Composite=kle;Ht.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ht.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ht.prototype.GetterByBindingType=[Ht.prototype._getValue_direct,Ht.prototype._getValue_array,Ht.prototype._getValue_arrayElement,Ht.prototype._getValue_toArray];Ht.prototype.SetterByBindingTypeAndVersioning=[[Ht.prototype._setValue_direct,Ht.prototype._setValue_direct_setNeedsUpdate,Ht.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_array,Ht.prototype._setValue_array_setNeedsUpdate,Ht.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_arrayElement,Ht.prototype._setValue_arrayElement_setNeedsUpdate,Ht.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_fromArray,Ht.prototype._setValue_fromArray_setNeedsUpdate,Ht.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Fle{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],m=h.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(h);for(let x=0,y=o;x!==y;++x)s[x].push(new Ht(h,r[x],i[x]))}else if(g<u){a=e[g];const x=--u,y=e[x];n[y.uuid]=g,e[g]=y,n[m]=x,e[x]=h;for(let v=0,S=o;v!==S;++v){const w=s[v],M=w[x];let E=w[g];w[g]=M,E===void 0&&(E=new Ht(h,r[v],i[v])),w[x]=E}}else e[g]!==a&&ht("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const x=r[m],y=x[f],v=x[c];x[c]=y,x[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const h=--s,m=e[h],g=--o,x=e[g];n[m.uuid]=f,e[f]=m,n[x.uuid]=h,e[h]=x,e.pop();for(let y=0,v=i;y!==v;++y){const S=r[y],w=S[h],M=S[g];S[f]=w,S[h]=M,S.pop()}}else{const h=--o,m=e[h];h>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,x=i;g!==x;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let h=c,m=l.length;h!==m;++h){const g=l[h];f[h]=new Ht(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class nW{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:tc,endingEnd:tc};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case j2:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case dS:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===X6;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===G6){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=nc,i.endingEnd=nc):(e?i.endingStart=this.zeroSlopeAtStart?nc:tc:i.endingStart=Fm,n?i.endingEnd=this.zeroSlopeAtEnd?nc:tc:i.endingEnd=Fm)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Ule=new Float32Array(1);class zle extends Jo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;g=new tW(Ht.create(r,m,x),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new lR(new Float32Array(2),new Float32Array(2),1,Ule),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Xm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=dS),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new nW(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Xm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ble extends W2{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new gS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class vR{constructor(e){this.value=e}clone(){return new vR(this.value.clone===void 0?this.value:this.value.clone())}}let Vle=0;class jle extends Jo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Vle++}),this.name="",this.usage=zm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Hle extends xS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Wle{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Gk=new St;class rW{constructor(e,n,r=0,i=1/0){this.ray=new ch(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new pc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):ht("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return Gk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Gk),this}intersectObject(e,n=!0,r=[]){return JT(e,this,r,n),r.sort($k),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)JT(e[i],this,r,n);return r.sort($k),r}}function $k(t,e){return t.distance-e.distance}function JT(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)JT(s[o],e,n,!0)}}class Gle{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=$le.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function $le(){this._document.hidden===!1&&this.reset()}class Xle{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=_t(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_t(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qle{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class yR{constructor(e,n,r,i){yR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const Xk=new Me;class Yle{constructor(e=new Me(1/0,1/0),n=new Me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Xk.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qk=new j,sy=new j,If=new j,Nf=new j,bE=new j,Kle=new j,Zle=new j;class Jle{constructor(e=new j,n=new j){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){qk.subVectors(e,this.start),sy.subVectors(this.end,this.start);const r=sy.dot(sy);let s=sy.dot(qk)/r;return n&&(s=_t(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=Kle,r=Zle){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,u=this.end,c=e.end;If.subVectors(u,a),Nf.subVectors(c,l),bE.subVectors(a,l);const f=If.dot(If),h=Nf.dot(Nf),m=Nf.dot(bE);if(f<=i&&h<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(f<=i)s=0,o=m/h,o=_t(o,0,1);else{const g=If.dot(bE);if(h<=i)o=0,s=_t(-g/f,0,1);else{const x=If.dot(Nf),y=f*h-x*x;y!==0?s=_t((x*m-g*h)/y,0,1):s=0,o=(x*s+m)/h,o<0?(o=0,s=_t(-g/f,0,1)):o>1&&(o=1,s=_t((x-g)/f,0,1))}}return n.copy(a).add(If.multiplyScalar(s)),r.copy(l).add(Nf.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Yk=new j;class Qle extends Gt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Et,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new rt(i,3));const s=new yi({fog:!1,toneMapped:!1});this.cone=new Qo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Yk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Yk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ul=new j,oy=new St,ME=new St;class eue extends Qo{constructor(e){const n=iW(e),r=new Et,i=[],s=[];for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new rt(i,3)),r.setAttribute("color",new rt(s,3));const o=new yi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Je(255),l=new Je(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");ME.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(oy.multiplyMatrices(ME,a.matrixWorld),ul.setFromMatrixPosition(oy),i.setXYZ(o,ul.x,ul.y,ul.z),oy.multiplyMatrices(ME,a.parent.matrixWorld),ul.setFromMatrixPosition(oy),i.setXYZ(o+1,ul.x,ul.y,ul.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function iW(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...iW(t.children[n]));return e}class tue extends ir{constructor(e,n,r){const i=new kg(n,4,2),s=new tu({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nue=new j,Kk=new Je,Zk=new Je;class rue extends Gt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Dg(n);i.rotateY(Math.PI*.5),this.material=new tu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new an(o,3)),this.add(new ir(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Kk.copy(this.light.color),Zk.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?Kk:Zk;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iue extends Qo{constructor(e=10,n=10,r=4473924,i=8947848){r=new Je(r),i=new Je(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let h=0,m=0,g=-a;h<=n;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const x=h===s?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const c=new Et;c.setAttribute("position",new rt(l,3)),c.setAttribute("color",new rt(u,3));const f=new yi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sue extends Qo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Je(s),o=new Je(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const h=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),y=Math.sin(x)*m,v=Math.cos(x)*m;a.push(y,0,v),l.push(h.r,h.g,h.b),x=(g+1)/i*(Math.PI*2),y=Math.sin(x)*m,v=Math.cos(x)*m,a.push(y,0,v),l.push(h.r,h.g,h.b)}}const u=new Et;u.setAttribute("position",new rt(a,3)),u.setAttribute("color",new rt(l,3));const c=new yi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Jk=new j,ay=new j,Qk=new j;class oue extends Gt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Et;i.setAttribute("position",new rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new yi({fog:!1,toneMapped:!1});this.lightPlane=new Gl(i,s),this.add(this.lightPlane),i=new Et,i.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new Gl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Jk.setFromMatrixPosition(this.light.matrixWorld),ay.setFromMatrixPosition(this.light.target.matrixWorld),Qk.subVectors(ay,Jk),this.lightPlane.lookAt(ay),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ay),this.targetLine.scale.z=Qk.length()}}const ly=new j,Fn=new Ig;class aue extends Qo{constructor(e){const n=new Et,r=new yi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,x){l(g),l(x)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new rt(i,3)),n.setAttribute("color",new rt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Je(16755200),c=new Je(16711680),f=new Je(43775),h=new Je(16777215),m=new Je(3355443);this.setColors(u,c,f,h,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(Fn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===Ki)s=-1,o=1;else if(this.camera.coordinateSystem===zd)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Xn("c",n,e,Fn,0,0,s),Xn("t",n,e,Fn,0,0,o),Xn("n1",n,e,Fn,-r,-i,s),Xn("n2",n,e,Fn,r,-i,s),Xn("n3",n,e,Fn,-r,i,s),Xn("n4",n,e,Fn,r,i,s),Xn("f1",n,e,Fn,-r,-i,o),Xn("f2",n,e,Fn,r,-i,o),Xn("f3",n,e,Fn,-r,i,o),Xn("f4",n,e,Fn,r,i,o),Xn("u1",n,e,Fn,r*.7,i*1.1,s),Xn("u2",n,e,Fn,-r*.7,i*1.1,s),Xn("u3",n,e,Fn,0,i*2,s),Xn("cf1",n,e,Fn,-r,0,o),Xn("cf2",n,e,Fn,r,0,o),Xn("cf3",n,e,Fn,0,-i,o),Xn("cf4",n,e,Fn,0,i,o),Xn("cn1",n,e,Fn,-r,0,s),Xn("cn2",n,e,Fn,r,0,s),Xn("cn3",n,e,Fn,0,-i,s),Xn("cn4",n,e,Fn,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xn(t,e,n,r,i,s,o){ly.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],ly.x,ly.y,ly.z)}}const uy=new Jr;class lue extends Qo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Et;s.setIndex(new an(r,1)),s.setAttribute("position",new an(i,3)),super(s,new yi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&uy.setFromObject(this.object),uy.isEmpty())return;const e=uy.min,n=uy.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uue extends Qo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Et;s.setIndex(new an(r,1)),s.setAttribute("position",new rt(i,3)),super(s,new yi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cue extends Gl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Et;o.setAttribute("position",new rt(s,3)),o.computeBoundingSphere(),super(o,new yi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Et;l.setAttribute("position",new rt(a,3)),l.computeBoundingSphere(),this.add(new ir(l,new tu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const eF=new j;let cy,EE;class fue extends Gt{constructor(e=new j(0,0,1),n=new j(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",cy===void 0&&(cy=new Et,cy.setAttribute("position",new rt([0,0,0,0,1,0],3)),EE=new Lg(.5,1,5,1),EE.translate(0,-.5,0)),this.position.copy(n),this.line=new Gl(cy,new yi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ir(EE,new tu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eF.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(eF,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class due extends Qo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Et;i.setAttribute("position",new rt(n,3)),i.setAttribute("color",new rt(r,3));const s=new yi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Je,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hue{constructor(){this.type="ShapePath",this.color=new Je,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new U_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const S=[];for(let w=0,M=v.length;w<M;w++){const E=v[w],T=new mc;T.curves=E.curves,S.push(T)}return S}function r(v,S){const w=S.length;let M=!1;for(let E=w-1,T=0;T<w;E=T++){let I=S[E],L=S[T],P=L.x-I.x,R=L.y-I.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(I=S[T],P=-P,L=S[E],R=-R),v.y<I.y||v.y>L.y)continue;if(v.y===I.y){if(v.x===I.x)return!0}else{const k=R*(v.x-I.x)-P*(v.y-I.y);if(k===0)return!0;if(k<0)continue;M=!M}}else{if(v.y!==I.y)continue;if(L.x<=v.x&&v.x<=I.x||I.x<=v.x&&v.x<=L.x)return!0}}return M}const i=ro.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new mc,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],h=[];let m=[],g=0,x;h[g]=void 0,m[g]=[];for(let v=0,S=s.length;v<S;v++)a=s[v],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new mc,p:x},h[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:x[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,S=0;for(let w=0,M=h.length;w<M;w++)f[w]=[];for(let w=0,M=h.length;w<M;w++){const E=m[w];for(let T=0;T<E.length;T++){const I=E[T];let L=!0;for(let P=0;P<h.length;P++)r(I.p,h[P].p)&&(w!==P&&S++,L?(L=!1,f[P].push(I)):v=!0);L&&f[w].push(I)}}S>0&&v===!1&&(m=f)}let y;for(let v=0,S=h.length;v<S;v++){l=h[v].s,u.push(l),y=m[v];for(let w=0,M=y.length;w<M;w++)l.holes.push(y[w].h)}return u}}class pue extends Jo{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ve("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function mue(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function gue(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function vue(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function QT(t,e,n,r){const i=yue(r);switch(n){case B2:return t*e;case uS:return t*e/i.components*i.byteLength;case Rg:return t*e/i.components*i.byteLength;case Pc:return t*e*2/i.components*i.byteLength;case cS:return t*e*2/i.components*i.byteLength;case V2:return t*e*3/i.components*i.byteLength;case Kr:return t*e*4/i.components*i.byteLength;case fS:return t*e*4/i.components*i.byteLength;case Qp:case em:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case tm:case nm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case n_:case i_:return Math.max(t,16)*Math.max(e,8)/4;case t_:case r_:return Math.max(t,8)*Math.max(e,8)/2;case s_:case o_:case l_:case u_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case a_:case c_:case f_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case d_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case h_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case p_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case m_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case g_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case v_:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case y_:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case x_:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case __:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case S_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case w_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case b_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case M_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case E_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case A_:case T_:case C_:return Math.ceil(t/4)*Math.ceil(e/4)*16;case P_:case R_:return Math.ceil(t/4)*Math.ceil(e/4)*8;case I_:case N_:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function yue(t){switch(t){case oi:case k2:return{byteLength:1,components:1};case Fd:case F2:case qo:return{byteLength:2,components:1};case aS:case lS:return{byteLength:2,components:4};case Rs:case oS:case ci:return{byteLength:4,components:1};case U2:case z2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class xue{static contain(e,n){return mue(e,n)}static cover(e,n){return gue(e,n)}static fill(e){return vue(e)}static getByteLength(e,n,r,i){return QT(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cg}}));typeof window<"u"&&(window.__THREE__?Ve("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cg);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function sW(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function _ue(t){const e=new WeakMap;function n(a,l){const u=a.array,c=a.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,u,c),a.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=t.HALF_FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:f}}function r(a,l,u){const c=l.array,f=l.updateRanges;if(t.bindBuffer(u,a),f.length===0)t.bufferSubData(u,0,c);else{f.sort((m,g)=>m.start-g.start);let h=0;for(let m=1;m<f.length;m++){const g=f[h],x=f[m];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++h,f[h]=x)}f.length=h+1;for(let m=0,g=f.length;m<g;m++){const x=f[m];t.bufferSubData(u,x.start*c.BYTES_PER_ELEMENT,c,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const c=e.get(a);(!c||c.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}var Sue=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wue=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bue=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mue=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Eue=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Aue=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Tue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cue=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Pue=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Rue=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Iue=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Nue=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Oue=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Lue=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Due=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kue=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Fue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Uue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zue=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Bue=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Hue=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Wue=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Gue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$ue=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Xue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,que=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Yue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Zue="gl_FragColor = linearToOutputTexel( gl_FragColor );",Jue=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Que=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ece=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,tce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ice=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,sce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,oce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ace=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,lce=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,uce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,fce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,pce=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,mce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,gce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,yce=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xce=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_ce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Sce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,wce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,bce=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Mce=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ece=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ace=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Tce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Cce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Pce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ice=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Nce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Oce=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Lce=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Dce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,kce=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Fce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Uce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Bce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Hce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Wce=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Gce=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,$ce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Xce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Yce=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Kce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Zce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Jce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Qce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,efe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tfe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nfe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,rfe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ife=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sfe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ofe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,afe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lfe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ufe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cfe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ffe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dfe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hfe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pfe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mfe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,gfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xfe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _fe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Sfe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bfe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Efe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Afe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Tfe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Cfe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Pfe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Rfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ife=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nfe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ofe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dfe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kfe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ffe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ufe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zfe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Vfe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,jfe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Gfe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$fe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xfe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qfe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Yfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Jfe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nt={alphahash_fragment:Sue,alphahash_pars_fragment:wue,alphamap_fragment:bue,alphamap_pars_fragment:Mue,alphatest_fragment:Eue,alphatest_pars_fragment:Aue,aomap_fragment:Tue,aomap_pars_fragment:Cue,batching_pars_vertex:Pue,batching_vertex:Rue,begin_vertex:Iue,beginnormal_vertex:Nue,bsdfs:Oue,iridescence_fragment:Lue,bumpmap_pars_fragment:Due,clipping_planes_fragment:kue,clipping_planes_pars_fragment:Fue,clipping_planes_pars_vertex:Uue,clipping_planes_vertex:zue,color_fragment:Bue,color_pars_fragment:Vue,color_pars_vertex:jue,color_vertex:Hue,common:Wue,cube_uv_reflection_fragment:Gue,defaultnormal_vertex:$ue,displacementmap_pars_vertex:Xue,displacementmap_vertex:que,emissivemap_fragment:Yue,emissivemap_pars_fragment:Kue,colorspace_fragment:Zue,colorspace_pars_fragment:Jue,envmap_fragment:Que,envmap_common_pars_fragment:ece,envmap_pars_fragment:tce,envmap_pars_vertex:nce,envmap_physical_pars_fragment:hce,envmap_vertex:rce,fog_vertex:ice,fog_pars_vertex:sce,fog_fragment:oce,fog_pars_fragment:ace,gradientmap_pars_fragment:lce,lightmap_pars_fragment:uce,lights_lambert_fragment:cce,lights_lambert_pars_fragment:fce,lights_pars_begin:dce,lights_toon_fragment:pce,lights_toon_pars_fragment:mce,lights_phong_fragment:gce,lights_phong_pars_fragment:vce,lights_physical_fragment:yce,lights_physical_pars_fragment:xce,lights_fragment_begin:_ce,lights_fragment_maps:Sce,lights_fragment_end:wce,logdepthbuf_fragment:bce,logdepthbuf_pars_fragment:Mce,logdepthbuf_pars_vertex:Ece,logdepthbuf_vertex:Ace,map_fragment:Tce,map_pars_fragment:Cce,map_particle_fragment:Pce,map_particle_pars_fragment:Rce,metalnessmap_fragment:Ice,metalnessmap_pars_fragment:Nce,morphinstance_vertex:Oce,morphcolor_vertex:Lce,morphnormal_vertex:Dce,morphtarget_pars_vertex:kce,morphtarget_vertex:Fce,normal_fragment_begin:Uce,normal_fragment_maps:zce,normal_pars_fragment:Bce,normal_pars_vertex:Vce,normal_vertex:jce,normalmap_pars_fragment:Hce,clearcoat_normal_fragment_begin:Wce,clearcoat_normal_fragment_maps:Gce,clearcoat_pars_fragment:$ce,iridescence_pars_fragment:Xce,opaque_fragment:qce,packing:Yce,premultiplied_alpha_fragment:Kce,project_vertex:Zce,dithering_fragment:Jce,dithering_pars_fragment:Qce,roughnessmap_fragment:efe,roughnessmap_pars_fragment:tfe,shadowmap_pars_fragment:nfe,shadowmap_pars_vertex:rfe,shadowmap_vertex:ife,shadowmask_pars_fragment:sfe,skinbase_vertex:ofe,skinning_pars_vertex:afe,skinning_vertex:lfe,skinnormal_vertex:ufe,specularmap_fragment:cfe,specularmap_pars_fragment:ffe,tonemapping_fragment:dfe,tonemapping_pars_fragment:hfe,transmission_fragment:pfe,transmission_pars_fragment:mfe,uv_pars_fragment:gfe,uv_pars_vertex:vfe,uv_vertex:yfe,worldpos_vertex:xfe,background_vert:_fe,background_frag:Sfe,backgroundCube_vert:wfe,backgroundCube_frag:bfe,cube_vert:Mfe,cube_frag:Efe,depth_vert:Afe,depth_frag:Tfe,distance_vert:Cfe,distance_frag:Pfe,equirect_vert:Rfe,equirect_frag:Ife,linedashed_vert:Nfe,linedashed_frag:Ofe,meshbasic_vert:Lfe,meshbasic_frag:Dfe,meshlambert_vert:kfe,meshlambert_frag:Ffe,meshmatcap_vert:Ufe,meshmatcap_frag:zfe,meshnormal_vert:Bfe,meshnormal_frag:Vfe,meshphong_vert:jfe,meshphong_frag:Hfe,meshphysical_vert:Wfe,meshphysical_frag:Gfe,meshtoon_vert:$fe,meshtoon_frag:Xfe,points_vert:qfe,points_frag:Yfe,shadow_vert:Kfe,shadow_frag:Zfe,sprite_vert:Jfe,sprite_frag:Qfe},He={common:{diffuse:{value:new Je(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},envMapRotation:{value:new Ct},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new Me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new Je(16777215)},opacity:{value:1},center:{value:new Me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}}},Zs={basic:{uniforms:ii([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.fog]),vertexShader:Nt.meshbasic_vert,fragmentShader:Nt.meshbasic_frag},lambert:{uniforms:ii([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new Je(0)}}]),vertexShader:Nt.meshlambert_vert,fragmentShader:Nt.meshlambert_frag},phong:{uniforms:ii([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:Nt.meshphong_vert,fragmentShader:Nt.meshphong_frag},standard:{uniforms:ii([He.common,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.roughnessmap,He.metalnessmap,He.fog,He.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag},toon:{uniforms:ii([He.common,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.gradientmap,He.fog,He.lights,{emissive:{value:new Je(0)}}]),vertexShader:Nt.meshtoon_vert,fragmentShader:Nt.meshtoon_frag},matcap:{uniforms:ii([He.common,He.bumpmap,He.normalmap,He.displacementmap,He.fog,{matcap:{value:null}}]),vertexShader:Nt.meshmatcap_vert,fragmentShader:Nt.meshmatcap_frag},points:{uniforms:ii([He.points,He.fog]),vertexShader:Nt.points_vert,fragmentShader:Nt.points_frag},dashed:{uniforms:ii([He.common,He.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nt.linedashed_vert,fragmentShader:Nt.linedashed_frag},depth:{uniforms:ii([He.common,He.displacementmap]),vertexShader:Nt.depth_vert,fragmentShader:Nt.depth_frag},normal:{uniforms:ii([He.common,He.bumpmap,He.normalmap,He.displacementmap,{opacity:{value:1}}]),vertexShader:Nt.meshnormal_vert,fragmentShader:Nt.meshnormal_frag},sprite:{uniforms:ii([He.sprite,He.fog]),vertexShader:Nt.sprite_vert,fragmentShader:Nt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Nt.background_vert,fragmentShader:Nt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ct}},vertexShader:Nt.backgroundCube_vert,fragmentShader:Nt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Nt.cube_vert,fragmentShader:Nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nt.equirect_vert,fragmentShader:Nt.equirect_frag},distance:{uniforms:ii([He.common,He.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nt.distance_vert,fragmentShader:Nt.distance_frag},shadow:{uniforms:ii([He.lights,He.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:Nt.shadow_vert,fragmentShader:Nt.shadow_frag}};Zs.physical={uniforms:ii([Zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new Me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new Je(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new Me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new Je(0)},specularColor:{value:new Je(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct},anisotropyVector:{value:new Me},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ct}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag};const fy={r:0,b:0,g:0},ku=new is,ede=new St;function tde(t,e,n,r,i,s,o){const a=new Je(0);let l=s===!0?0:1,u,c,f=null,h=0,m=null;function g(w){let M=w.isScene===!0?w.background:null;return M&&M.isTexture&&(M=(w.backgroundBlurriness>0?n:e).get(M)),M}function x(w){let M=!1;const E=g(w);E===null?v(a,l):E&&E.isColor&&(v(E,1),M=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(w,M){const E=g(M);E&&(E.isCubeTexture||E.mapping===uh)?(c===void 0&&(c=new ir(new jc(1,1,1),new Is({name:"BackgroundCubeMaterial",uniforms:jd(Zs.backgroundCube.uniforms),vertexShader:Zs.backgroundCube.vertexShader,fragmentShader:Zs.backgroundCube.fragmentShader,side:hi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,I,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),ku.copy(M.backgroundRotation),ku.x*=-1,ku.y*=-1,ku.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(ku.y*=-1,ku.z*=-1),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(ede.makeRotationFromEuler(ku)),c.material.toneMapped=Vt.getTransfer(E.colorSpace)!==en,(f!==E||h!==E.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=E,h=E.version,m=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new ir(new dh(2,2),new Is({name:"BackgroundMaterial",uniforms:jd(Zs.background.uniforms),vertexShader:Zs.background.vertexShader,fragmentShader:Zs.background.fragmentShader,side:Ia,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=Vt.getTransfer(E.colorSpace)!==en,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||h!==E.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=E,h=E.version,m=t.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null))}function v(w,M){w.getRGB(fy,aH(t)),r.buffers.color.setClear(fy.r,fy.g,fy.b,M,o)}function S(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(w,M=1){a.set(w),l=M,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,v(a,l)},render:x,addToRenderList:y,dispose:S}}function nde(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,o=!1;function a(R,k,U,V,X){let Y=!1;const K=f(V,U,k);s!==K&&(s=K,u(s.object)),Y=m(R,V,U,X),Y&&g(R,V,U,X),X!==null&&e.update(X,t.ELEMENT_ARRAY_BUFFER),(Y||o)&&(o=!1,M(R,k,U,V),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return t.createVertexArray()}function u(R){return t.bindVertexArray(R)}function c(R){return t.deleteVertexArray(R)}function f(R,k,U){const V=U.wireframe===!0;let X=r[R.id];X===void 0&&(X={},r[R.id]=X);let Y=X[k.id];Y===void 0&&(Y={},X[k.id]=Y);let K=Y[V];return K===void 0&&(K=h(l()),Y[V]=K),K}function h(R){const k=[],U=[],V=[];for(let X=0;X<n;X++)k[X]=0,U[X]=0,V[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:U,attributeDivisors:V,object:R,attributes:{},index:null}}function m(R,k,U,V){const X=s.attributes,Y=k.attributes;let K=0;const q=U.getAttributes();for(const F in q)if(q[F].location>=0){const G=X[F];let Z=Y[F];if(Z===void 0&&(F==="instanceMatrix"&&R.instanceMatrix&&(Z=R.instanceMatrix),F==="instanceColor"&&R.instanceColor&&(Z=R.instanceColor)),G===void 0||G.attribute!==Z||Z&&G.data!==Z.data)return!0;K++}return s.attributesNum!==K||s.index!==V}function g(R,k,U,V){const X={},Y=k.attributes;let K=0;const q=U.getAttributes();for(const F in q)if(q[F].location>=0){let G=Y[F];G===void 0&&(F==="instanceMatrix"&&R.instanceMatrix&&(G=R.instanceMatrix),F==="instanceColor"&&R.instanceColor&&(G=R.instanceColor));const Z={};Z.attribute=G,G&&G.data&&(Z.data=G.data),X[F]=Z,K++}s.attributes=X,s.attributesNum=K,s.index=V}function x(){const R=s.newAttributes;for(let k=0,U=R.length;k<U;k++)R[k]=0}function y(R){v(R,0)}function v(R,k){const U=s.newAttributes,V=s.enabledAttributes,X=s.attributeDivisors;U[R]=1,V[R]===0&&(t.enableVertexAttribArray(R),V[R]=1),X[R]!==k&&(t.vertexAttribDivisor(R,k),X[R]=k)}function S(){const R=s.newAttributes,k=s.enabledAttributes;for(let U=0,V=k.length;U<V;U++)k[U]!==R[U]&&(t.disableVertexAttribArray(U),k[U]=0)}function w(R,k,U,V,X,Y,K){K===!0?t.vertexAttribIPointer(R,k,U,X,Y):t.vertexAttribPointer(R,k,U,V,X,Y)}function M(R,k,U,V){x();const X=V.attributes,Y=U.getAttributes(),K=k.defaultAttributeValues;for(const q in Y){const F=Y[q];if(F.location>=0){let $=X[q];if($===void 0&&(q==="instanceMatrix"&&R.instanceMatrix&&($=R.instanceMatrix),q==="instanceColor"&&R.instanceColor&&($=R.instanceColor)),$!==void 0){const G=$.normalized,Z=$.itemSize,fe=e.get($);if(fe===void 0)continue;const Ee=fe.buffer,Ge=fe.type,ct=fe.bytesPerElement,ae=Ge===t.INT||Ge===t.UNSIGNED_INT||$.gpuType===oS;if($.isInterleavedBufferAttribute){const ye=$.data,qe=ye.stride,ie=$.offset;if(ye.isInstancedInterleavedBuffer){for(let be=0;be<F.locationSize;be++)v(F.location+be,ye.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let be=0;be<F.locationSize;be++)y(F.location+be);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let be=0;be<F.locationSize;be++)w(F.location+be,Z/F.locationSize,Ge,G,qe*ct,(ie+Z/F.locationSize*be)*ct,ae)}else{if($.isInstancedBufferAttribute){for(let ye=0;ye<F.locationSize;ye++)v(F.location+ye,$.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let ye=0;ye<F.locationSize;ye++)y(F.location+ye);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let ye=0;ye<F.locationSize;ye++)w(F.location+ye,Z/F.locationSize,Ge,G,Z*ct,Z/F.locationSize*ye*ct,ae)}}else if(K!==void 0){const G=K[q];if(G!==void 0)switch(G.length){case 2:t.vertexAttrib2fv(F.location,G);break;case 3:t.vertexAttrib3fv(F.location,G);break;case 4:t.vertexAttrib4fv(F.location,G);break;default:t.vertexAttrib1fv(F.location,G)}}}}S()}function E(){L();for(const R in r){const k=r[R];for(const U in k){const V=k[U];for(const X in V)c(V[X].object),delete V[X];delete k[U]}delete r[R]}}function T(R){if(r[R.id]===void 0)return;const k=r[R.id];for(const U in k){const V=k[U];for(const X in V)c(V[X].object),delete V[X];delete k[U]}delete r[R.id]}function I(R){for(const k in r){const U=r[k];if(U[R.id]===void 0)continue;const V=U[R.id];for(const X in V)c(V[X].object),delete V[X];delete U[R.id]}}function L(){P(),o=!0,s!==i&&(s=i,u(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:L,resetDefaultState:P,dispose:E,releaseStatesOfGeometry:T,releaseStatesOfProgram:I,initAttributes:x,enableAttribute:y,disableUnusedAttributes:S}}function rde(t,e,n){let r;function i(u){r=u}function s(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function a(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let m=0;for(let g=0;g<f;g++)m+=c[g];n.update(m,r,1)}function l(u,c,f,h){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<u.length;g++)o(u[g],c[g],h[g]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,f);let g=0;for(let x=0;x<f;x++)g+=c[x]*h[x];n.update(g,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function ide(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(I){return!(I!==Kr&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(I){const L=I===qo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==oi&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==ci&&!L)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(Ve("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=t.getParameter(t.MAX_SAMPLES),T=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:m,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:S,maxVaryings:w,maxFragmentUniforms:M,maxSamples:E,samples:T}}function sde(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new pl,a=new Ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,m){const g=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const S=s?0:r,w=S*4;let M=v.clippingState||null;l.value=M,M=c(g,h,w,m);for(let E=0;E!==w;++E)M[E]=n[E];v.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,m,g){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,g!==!0||y===null){const v=m+x*4,S=h.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<v)&&(y=new Float32Array(v));for(let w=0,M=m;w!==x;++w,M+=4)o.copy(f[w]).applyMatrix4(S,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function ode(t){let e=new WeakMap;function n(o,a){return a===Nm?o.mapping=Xo:a===Om&&(o.mapping=Hl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Nm||a===Om)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new X2(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Al=4,tF=[.125,.215,.35,.446,.526,.582],Xu=20,ade=256,pp=new hh,nF=new Je;let AE=null,TE=0,CE=0,PE=!1;const lde=new j;class eC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=lde}=s;AE=this._renderer.getRenderTarget(),TE=this._renderer.getActiveCubeFace(),CE=this._renderer.getActiveMipmapLevel(),PE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(AE,TE,CE),this._renderer.xr.enabled=PE,e.scissorTest=!1,Of(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xo||e.mapping===Hl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),AE=this._renderer.getRenderTarget(),TE=this._renderer.getActiveCubeFace(),CE=this._renderer.getActiveMipmapLevel(),PE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:wn,minFilter:wn,generateMipmaps:!1,type:qo,format:Kr,colorSpace:Rc,depthBuffer:!1},i=rF(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rF(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=ude(s)),this._blurMaterial=fde(s,e,n),this._ggxMaterial=cde(s,e,n)}return i}_compileMaterial(e){const n=new ir(new Et,e);this._renderer.compile(n,pp)}_sceneToCubeUV(e,n,r,i,s){const l=new Sr(90,1,n,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,m=f.toneMapping;f.getClearColor(nF),f.toneMapping=Ts,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ir(new jc,new tu({name:"PMREM.Background",side:hi,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,y=x.material;let v=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,v=!0):(y.color.copy(nF),v=!0);for(let w=0;w<6;w++){const M=w%3;M===0?(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+c[w],s.y,s.z)):M===1?(l.up.set(0,0,u[w]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+c[w],s.z)):(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+c[w]));const E=this._cubeSize;Of(i,M*E,w>2?E:0,E,E),f.setRenderTarget(i),v&&f.render(x,l),f.render(e,l)}f.toneMapping=m,f.autoClear=h,e.background=S}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Xo||e.mapping===Hl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iF());const s=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Of(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,pp)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,o=this._ggxMaterial,a=this._lodMeshes[r];a.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),c=n/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),h=0+u*1.25,m=f*h,{_lodMax:g}=this,x=this._sizeLods[r],y=3*x*(r>g-Al?r-g+Al:0),v=4*(this._cubeSize-x);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=g-n,Of(s,y,v,3*x,2*x),i.setRenderTarget(s),i.render(a,pp),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=g-r,Of(e,y,v,3*x,2*x),i.setRenderTarget(e),i.render(a,pp)}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&ht("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[i];f.material=u;const h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Xu-1),x=s/g,y=isFinite(s)?1+Math.floor(c*x):Xu;y>Xu&&Ve(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xu}`);const v=[];let S=0;for(let I=0;I<Xu;++I){const L=I/x,P=Math.exp(-L*L/2);v.push(P),I===0?S+=P:I<y&&(S+=2*P)}for(let I=0;I<v.length;I++)v[I]=v[I]/S;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:w}=this;h.dTheta.value=g,h.mipInt.value=w-r;const M=this._sizeLods[i],E=3*M*(i>w-Al?i-w+Al:0),T=4*(this._cubeSize-M);Of(n,E,T,3*M,2*M),l.setRenderTarget(n),l.render(f,pp)}}function ude(t){const e=[],n=[],r=[];let i=t;const s=t-Al+1+tF.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>t-Al?l=tF[o-t+Al-1]:o===0&&(l=0),n.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,x=3,y=2,v=1,S=new Float32Array(x*g*m),w=new Float32Array(y*g*m),M=new Float32Array(v*g*m);for(let T=0;T<m;T++){const I=T%3*2/3-1,L=T>2?0:-1,P=[I,L,0,I+2/3,L,0,I+2/3,L+1,0,I,L,0,I+2/3,L+1,0,I,L+1,0];S.set(P,x*g*T),w.set(h,y*g*T);const R=[T,T,T,T,T,T];M.set(R,v*g*T)}const E=new Et;E.setAttribute("position",new an(S,x)),E.setAttribute("uv",new an(w,y)),E.setAttribute("faceIndex",new an(M,v)),r.push(new ir(E,null)),i>Al&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function rF(t,e,n){const r=new es(t,e,n);return r.texture.mapping=uh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Of(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function cde(t,e,n){return new Is({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:ade,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:US(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function fde(t,e,n){const r=new Float32Array(Xu),i=new j(0,1,0);return new Is({name:"SphericalGaussianBlur",defines:{n:Xu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:US(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function iF(){return new Is({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:US(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function sF(){return new Is({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:US(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function US(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function dde(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Nm||l===Om,c=l===Xo||l===Hl;if(u||c){let f=e.get(a);const h=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new eC(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const m=a.image;return u&&m&&m.height>0||c&&m&&i(m)?(n===null&&(n=new eC(t)),f=u?n.fromEquirectangular(a):n.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function hde(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Bd("WebGLRenderer: "+r+" extension not supported."),i}}}function pde(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER)}function u(f){const h=[],m=f.index,g=f.attributes.position;let x=0;if(m!==null){const S=m.array;x=m.version;for(let w=0,M=S.length;w<M;w+=3){const E=S[w+0],T=S[w+1],I=S[w+2];h.push(E,T,T,I,I,E)}}else if(g!==void 0){const S=g.array;x=g.version;for(let w=0,M=S.length/3-1;w<M;w+=3){const E=w+0,T=w+1,I=w+2;h.push(E,T,T,I,I,E)}}else return;const y=new(nH(h)?$2:G2)(h,1);y.version=x;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function c(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function mde(t,e,n){let r;function i(h){r=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,m){t.drawElements(r,m,s,h*o),n.update(m,r,1)}function u(h,m,g){g!==0&&(t.drawElementsInstanced(r,m,s,h*o,g),n.update(m,r,g))}function c(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,h,0,g);let y=0;for(let v=0;v<g;v++)y+=m[v];n.update(y,r,1)}function f(h,m,g,x){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<h.length;v++)u(h[v]/o,m[v],x[v]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,h,0,x,0,g);let v=0;for(let S=0;S<g;S++)v+=m[S]*x[S];n.update(v,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function gde(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:ht("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function vde(t,e,n){const r=new WeakMap,i=new cn;function s(o,a,l){const u=o.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=c!==void 0?c.length:0;let h=r.get(a);if(h===void 0||h.count!==f){let R=function(){L.dispose(),r.delete(a),a.removeEventListener("dispose",R)};var m=R;h!==void 0&&h.texture.dispose();const g=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,v=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let M=0;g===!0&&(M=1),x===!0&&(M=2),y===!0&&(M=3);let E=a.attributes.position.count*M,T=1;E>e.maxTextureSize&&(T=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const I=new Float32Array(E*T*4*f),L=new mS(I,E,T,f);L.type=ci,L.needsUpdate=!0;const P=M*4;for(let k=0;k<f;k++){const U=v[k],V=S[k],X=w[k],Y=E*T*4*k;for(let K=0;K<U.count;K++){const q=K*P;g===!0&&(i.fromBufferAttribute(U,K),I[Y+q+0]=i.x,I[Y+q+1]=i.y,I[Y+q+2]=i.z,I[Y+q+3]=0),x===!0&&(i.fromBufferAttribute(V,K),I[Y+q+4]=i.x,I[Y+q+5]=i.y,I[Y+q+6]=i.z,I[Y+q+7]=0),y===!0&&(i.fromBufferAttribute(X,K),I[Y+q+8]=i.x,I[Y+q+9]=i.y,I[Y+q+10]=i.z,I[Y+q+11]=X.itemSize===4?i.w:1)}}h={count:f,texture:L,size:new Me(E,T)},r.set(a,h),a.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<u.length;y++)g+=u[y];const x=a.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function yde(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const xde={[P2]:"LINEAR_TONE_MAPPING",[R2]:"REINHARD_TONE_MAPPING",[I2]:"CINEON_TONE_MAPPING",[iS]:"ACES_FILMIC_TONE_MAPPING",[O2]:"AGX_TONE_MAPPING",[L2]:"NEUTRAL_TONE_MAPPING",[N2]:"CUSTOM_TONE_MAPPING"};function _de(t,e,n,r,i){const s=new es(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),o=new es(e,n,{type:qo,depthBuffer:!1,stencilBuffer:!1}),a=new Et;a.setAttribute("position",new rt([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new rt([0,2,0,0,2,0],2));const l=new rR({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new ir(a,l),c=new hh(-1,1,1,-1,0,1);let f=null,h=null,m=!1,g,x=null,y=[],v=!1;this.setSize=function(S,w){s.setSize(S,w),o.setSize(S,w);for(let M=0;M<y.length;M++){const E=y[M];E.setSize&&E.setSize(S,w)}},this.setEffects=function(S){y=S,v=y.length>0&&y[0].isRenderPass===!0;const w=s.width,M=s.height;for(let E=0;E<y.length;E++){const T=y[E];T.setSize&&T.setSize(w,M)}},this.begin=function(S,w){if(m||S.toneMapping===Ts&&y.length===0)return!1;if(x=w,w!==null){const M=w.width,E=w.height;(s.width!==M||s.height!==E)&&this.setSize(M,E)}return v===!1&&S.setRenderTarget(s),g=S.toneMapping,S.toneMapping=Ts,!0},this.hasRenderPass=function(){return v},this.end=function(S,w){S.toneMapping=g,m=!0;let M=s,E=o;for(let T=0;T<y.length;T++){const I=y[T];if(I.enabled!==!1&&(I.render(S,E,M,w),I.needsSwap!==!1)){const L=M;M=E,E=L}}if(f!==S.outputColorSpace||h!==S.toneMapping){f=S.outputColorSpace,h=S.toneMapping,l.defines={},Vt.getTransfer(f)===en&&(l.defines.SRGB_TRANSFER="");const T=xde[h];T&&(l.defines[T]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=M.texture,S.setRenderTarget(x),S.render(u,c),x=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){s.dispose(),o.dispose(),a.dispose(),l.dispose()}}const oW=new On,tC=new Wd(1,1),aW=new mS,lW=new gS,uW=new Ng,oF=[],aF=[],lF=new Float32Array(16),uF=new Float32Array(9),cF=new Float32Array(4);function ph(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=oF[i];if(s===void 0&&(s=new Float32Array(i),oF[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function fr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function dr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function zS(t,e){let n=aF[e];n===void 0&&(n=new Int32Array(e),aF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Sde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function wde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2fv(this.addr,e),dr(n,e)}}function bde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(fr(n,e))return;t.uniform3fv(this.addr,e),dr(n,e)}}function Mde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4fv(this.addr,e),dr(n,e)}}function Ede(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),dr(n,e)}else{if(fr(n,r))return;cF.set(r),t.uniformMatrix2fv(this.addr,!1,cF),dr(n,r)}}function Ade(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),dr(n,e)}else{if(fr(n,r))return;uF.set(r),t.uniformMatrix3fv(this.addr,!1,uF),dr(n,r)}}function Tde(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),dr(n,e)}else{if(fr(n,r))return;lF.set(r),t.uniformMatrix4fv(this.addr,!1,lF),dr(n,r)}}function Cde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Pde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2iv(this.addr,e),dr(n,e)}}function Rde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fr(n,e))return;t.uniform3iv(this.addr,e),dr(n,e)}}function Ide(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4iv(this.addr,e),dr(n,e)}}function Nde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ode(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2uiv(this.addr,e),dr(n,e)}}function Lde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fr(n,e))return;t.uniform3uiv(this.addr,e),dr(n,e)}}function Dde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4uiv(this.addr,e),dr(n,e)}}function kde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(tC.compareFunction=n.isReversedDepthBuffer()?pS:hS,s=tC):s=oW,n.setTexture2D(e||s,i)}function Fde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||lW,i)}function Ude(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||uW,i)}function zde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||aW,i)}function Bde(t){switch(t){case 5126:return Sde;case 35664:return wde;case 35665:return bde;case 35666:return Mde;case 35674:return Ede;case 35675:return Ade;case 35676:return Tde;case 5124:case 35670:return Cde;case 35667:case 35671:return Pde;case 35668:case 35672:return Rde;case 35669:case 35673:return Ide;case 5125:return Nde;case 36294:return Ode;case 36295:return Lde;case 36296:return Dde;case 35678:case 36198:case 36298:case 36306:case 35682:return kde;case 35679:case 36299:case 36307:return Fde;case 35680:case 36300:case 36308:case 36293:return Ude;case 36289:case 36303:case 36311:case 36292:return zde}}function Vde(t,e){t.uniform1fv(this.addr,e)}function jde(t,e){const n=ph(e,this.size,2);t.uniform2fv(this.addr,n)}function Hde(t,e){const n=ph(e,this.size,3);t.uniform3fv(this.addr,n)}function Wde(t,e){const n=ph(e,this.size,4);t.uniform4fv(this.addr,n)}function Gde(t,e){const n=ph(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function $de(t,e){const n=ph(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Xde(t,e){const n=ph(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function qde(t,e){t.uniform1iv(this.addr,e)}function Yde(t,e){t.uniform2iv(this.addr,e)}function Kde(t,e){t.uniform3iv(this.addr,e)}function Zde(t,e){t.uniform4iv(this.addr,e)}function Jde(t,e){t.uniform1uiv(this.addr,e)}function Qde(t,e){t.uniform2uiv(this.addr,e)}function ehe(t,e){t.uniform3uiv(this.addr,e)}function the(t,e){t.uniform4uiv(this.addr,e)}function nhe(t,e,n){const r=this.cache,i=e.length,s=zS(n,i);fr(r,s)||(t.uniform1iv(this.addr,s),dr(r,s));let o;this.type===t.SAMPLER_2D_SHADOW?o=tC:o=oW;for(let a=0;a!==i;++a)n.setTexture2D(e[a]||o,s[a])}function rhe(t,e,n){const r=this.cache,i=e.length,s=zS(n,i);fr(r,s)||(t.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||lW,s[o])}function ihe(t,e,n){const r=this.cache,i=e.length,s=zS(n,i);fr(r,s)||(t.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||uW,s[o])}function she(t,e,n){const r=this.cache,i=e.length,s=zS(n,i);fr(r,s)||(t.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||aW,s[o])}function ohe(t){switch(t){case 5126:return Vde;case 35664:return jde;case 35665:return Hde;case 35666:return Wde;case 35674:return Gde;case 35675:return $de;case 35676:return Xde;case 5124:case 35670:return qde;case 35667:case 35671:return Yde;case 35668:case 35672:return Kde;case 35669:case 35673:return Zde;case 5125:return Jde;case 36294:return Qde;case 36295:return ehe;case 36296:return the;case 35678:case 36198:case 36298:case 36306:case 35682:return nhe;case 35679:case 36299:case 36307:return rhe;case 35680:case 36300:case 36308:case 36293:return ihe;case 36289:case 36303:case 36311:case 36292:return she}}class ahe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Bde(n.type)}}class lhe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=ohe(n.type)}}class uhe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const RE=/(\w+)(\])?(\[|\.)?/g;function fF(t,e){t.seq.push(e),t.map[e.id]=e}function che(t,e,n){const r=t.name,i=r.length;for(RE.lastIndex=0;;){const s=RE.exec(r),o=RE.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){fF(n,u===void 0?new ahe(a,t,e):new lhe(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new uhe(a),fF(n,f)),n=f}}}class Qy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const a=e.getActiveUniform(n,o),l=e.getUniformLocation(n,a.name);che(a,l,this)}const i=[],s=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(o):s.push(o);i.length>0&&(this.seq=i.concat(s))}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function dF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const fhe=37297;let dhe=0;function hhe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const hF=new Ct;function phe(t){Vt._getMatrix(hF,Vt.workingColorSpace,t);const e=`mat3( ${hF.elements.map(n=>n.toFixed(4))} )`;switch(Vt.getTransfer(t)){case Um:return[e,"LinearTransferOETF"];case en:return[e,"sRGBTransferOETF"];default:return Ve("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function pF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+hhe(t.getShaderSource(e),a)}else return s}function mhe(t,e){const n=phe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const ghe={[P2]:"Linear",[R2]:"Reinhard",[I2]:"Cineon",[iS]:"ACESFilmic",[O2]:"AgX",[L2]:"Neutral",[N2]:"Custom"};function vhe(t,e){const n=ghe[e];return n===void 0?(Ve("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const dy=new j;function yhe(){Vt.getLuminanceCoefficients(dy);const t=dy.x.toFixed(4),e=dy.y.toFixed(4),n=dy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xhe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Op).join(`
`)}function _he(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function She(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Op(t){return t!==""}function mF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const whe=/^[ \t]*#include +<([\w\d./]+)>/gm;function nC(t){return t.replace(whe,Mhe)}const bhe=new Map;function Mhe(t,e){let n=Nt[e];if(n===void 0){const r=bhe.get(e);if(r!==void 0)n=Nt[r],Ve('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return nC(n)}const Ehe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vF(t){return t.replace(Ehe,Ahe)}function Ahe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function yF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const The={[bd]:"SHADOWMAP_TYPE_PCF",[ec]:"SHADOWMAP_TYPE_VSM"};function Che(t){return The[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Phe={[Xo]:"ENVMAP_TYPE_CUBE",[Hl]:"ENVMAP_TYPE_CUBE",[uh]:"ENVMAP_TYPE_CUBE_UV"};function Rhe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Phe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const Ihe={[Hl]:"ENVMAP_MODE_REFRACTION"};function Nhe(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":Ihe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Ohe={[Pg]:"ENVMAP_BLENDING_MULTIPLY",[j6]:"ENVMAP_BLENDING_MIX",[H6]:"ENVMAP_BLENDING_ADD"};function Lhe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Ohe[t.combine]||"ENVMAP_BLENDING_NONE"}function Dhe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function khe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Che(n),u=Rhe(n),c=Nhe(n),f=Lhe(n),h=Dhe(n),m=xhe(n),g=_he(s),x=i.createProgram();let y,v,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Op).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Op).join(`
`),v.length>0&&(v+=`
`)):(y=[yF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Op).join(`
`),v=[yF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ts?"#define TONE_MAPPING":"",n.toneMapping!==Ts?Nt.tonemapping_pars_fragment:"",n.toneMapping!==Ts?vhe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Nt.colorspace_pars_fragment,mhe("linearToOutputTexel",n.outputColorSpace),yhe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Op).join(`
`)),o=nC(o),o=mF(o,n),o=gF(o,n),a=nC(a),a=mF(a,n),a=gF(a,n),o=vF(o),a=vF(a),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===$T?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===$T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=S+y+o,M=S+v+a,E=dF(i,i.VERTEX_SHADER,w),T=dF(i,i.FRAGMENT_SHADER,M);i.attachShader(x,E),i.attachShader(x,T),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function I(k){if(t.debug.checkShaderErrors){const U=i.getProgramInfoLog(x)||"",V=i.getShaderInfoLog(E)||"",X=i.getShaderInfoLog(T)||"",Y=U.trim(),K=V.trim(),q=X.trim();let F=!0,$=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(F=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,E,T);else{const G=pF(i,E,"vertex"),Z=pF(i,T,"fragment");ht("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+Y+`
`+G+`
`+Z)}else Y!==""?Ve("WebGLProgram: Program Info Log:",Y):(K===""||q==="")&&($=!1);$&&(k.diagnostics={runnable:F,programLog:Y,vertexShader:{log:K,prefix:y},fragmentShader:{log:q,prefix:v}})}i.deleteShader(E),i.deleteShader(T),L=new Qy(i,x),P=She(i,x)}let L;this.getUniforms=function(){return L===void 0&&I(this),L};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(x,fhe)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=dhe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=E,this.fragmentShader=T,this}let Fhe=0;class Uhe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new zhe(e),n.set(e,r)),r}}class zhe{constructor(e){this.id=Fhe++,this.code=e,this.usedTimes=0}}function Bhe(t,e,n,r,i,s,o){const a=new pc,l=new Uhe,u=new Set,c=[],f=new Map,h=i.logarithmicDepthBuffer;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return u.add(P),P===0?"uv":`uv${P}`}function y(P,R,k,U,V){const X=U.fog,Y=V.geometry,K=P.isMeshStandardMaterial?U.environment:null,q=(P.isMeshStandardMaterial?n:e).get(P.envMap||K),F=q&&q.mapping===uh?q.image.height:null,$=g[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&Ve("WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const G=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,Z=G!==void 0?G.length:0;let fe=0;Y.morphAttributes.position!==void 0&&(fe=1),Y.morphAttributes.normal!==void 0&&(fe=2),Y.morphAttributes.color!==void 0&&(fe=3);let Ee,Ge,ct,ae;if($){const $t=Zs[$];Ee=$t.vertexShader,Ge=$t.fragmentShader}else Ee=P.vertexShader,Ge=P.fragmentShader,l.update(P),ct=l.getVertexShaderID(P),ae=l.getFragmentShaderID(P);const ye=t.getRenderTarget(),qe=t.state.buffers.depth.getReversed(),ie=V.isInstancedMesh===!0,be=V.isBatchedMesh===!0,ze=!!P.map,ve=!!P.matcap,Ye=!!q,de=!!P.aoMap,we=!!P.lightMap,xe=!!P.bumpMap,Le=!!P.normalMap,H=!!P.displacementMap,mt=!!P.emissiveMap,je=!!P.metalnessMap,vt=!!P.roughnessMap,Oe=P.anisotropy>0,B=P.clearcoat>0,D=P.dispersion>0,Q=P.iridescence>0,pe=P.sheen>0,Se=P.transmission>0,me=Oe&&!!P.anisotropyMap,ut=B&&!!P.clearcoatMap,ke=B&&!!P.clearcoatNormalMap,ot=B&&!!P.clearcoatRoughnessMap,yt=Q&&!!P.iridescenceMap,Te=Q&&!!P.iridescenceThicknessMap,Be=pe&&!!P.sheenColorMap,at=pe&&!!P.sheenRoughnessMap,ft=!!P.specularMap,Ue=!!P.specularColorMap,It=!!P.specularIntensityMap,J=Se&&!!P.transmissionMap,$e=Se&&!!P.thicknessMap,Ie=!!P.gradientMap,Ze=!!P.alphaMap,Ce=P.alphaTest>0,_e=!!P.alphaHash,Fe=!!P.extensions;let wt=Ts;P.toneMapped&&(ye===null||ye.isXRRenderTarget===!0)&&(wt=t.toneMapping);const tn={shaderID:$,shaderType:P.type,shaderName:P.name,vertexShader:Ee,fragmentShader:Ge,defines:P.defines,customVertexShaderID:ct,customFragmentShaderID:ae,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:be,batchingColor:be&&V._colorsTexture!==null,instancing:ie,instancingColor:ie&&V.instanceColor!==null,instancingMorph:ie&&V.morphTexture!==null,outputColorSpace:ye===null?t.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:Rc,alphaToCoverage:!!P.alphaToCoverage,map:ze,matcap:ve,envMap:Ye,envMapMode:Ye&&q.mapping,envMapCubeUVHeight:F,aoMap:de,lightMap:we,bumpMap:xe,normalMap:Le,displacementMap:H,emissiveMap:mt,normalMapObjectSpace:Le&&P.normalMapType===Y6,normalMapTangentSpace:Le&&P.normalMapType===eu,metalnessMap:je,roughnessMap:vt,anisotropy:Oe,anisotropyMap:me,clearcoat:B,clearcoatMap:ut,clearcoatNormalMap:ke,clearcoatRoughnessMap:ot,dispersion:D,iridescence:Q,iridescenceMap:yt,iridescenceThicknessMap:Te,sheen:pe,sheenColorMap:Be,sheenRoughnessMap:at,specularMap:ft,specularColorMap:Ue,specularIntensityMap:It,transmission:Se,transmissionMap:J,thicknessMap:$e,gradientMap:Ie,opaque:P.transparent===!1&&P.blending===fc&&P.alphaToCoverage===!1,alphaMap:Ze,alphaTest:Ce,alphaHash:_e,combine:P.combine,mapUv:ze&&x(P.map.channel),aoMapUv:de&&x(P.aoMap.channel),lightMapUv:we&&x(P.lightMap.channel),bumpMapUv:xe&&x(P.bumpMap.channel),normalMapUv:Le&&x(P.normalMap.channel),displacementMapUv:H&&x(P.displacementMap.channel),emissiveMapUv:mt&&x(P.emissiveMap.channel),metalnessMapUv:je&&x(P.metalnessMap.channel),roughnessMapUv:vt&&x(P.roughnessMap.channel),anisotropyMapUv:me&&x(P.anisotropyMap.channel),clearcoatMapUv:ut&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:ke&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:yt&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:Te&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:Be&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:at&&x(P.sheenRoughnessMap.channel),specularMapUv:ft&&x(P.specularMap.channel),specularColorMapUv:Ue&&x(P.specularColorMap.channel),specularIntensityMapUv:It&&x(P.specularIntensityMap.channel),transmissionMapUv:J&&x(P.transmissionMap.channel),thicknessMapUv:$e&&x(P.thicknessMap.channel),alphaMapUv:Ze&&x(P.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(Le||Oe),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!Y.attributes.uv&&(ze||Ze),fog:!!X,useFog:P.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:qe,skinning:V.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:fe,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:wt,decodeVideoTexture:ze&&P.map.isVideoTexture===!0&&Vt.getTransfer(P.map.colorSpace)===en,decodeVideoTextureEmissive:mt&&P.emissiveMap.isVideoTexture===!0&&Vt.getTransfer(P.emissiveMap.colorSpace)===en,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Oo,flipSided:P.side===hi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Fe&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Fe&&P.extensions.multiDraw===!0||be)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return tn.vertexUv1s=u.has(1),tn.vertexUv2s=u.has(2),tn.vertexUv3s=u.has(3),u.clear(),tn}function v(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)R.push(k),R.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(S(R,P),w(R,P),R.push(t.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function S(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function w(P,R){a.disableAll(),R.instancing&&a.enable(0),R.instancingColor&&a.enable(1),R.instancingMorph&&a.enable(2),R.matcap&&a.enable(3),R.envMap&&a.enable(4),R.normalMapObjectSpace&&a.enable(5),R.normalMapTangentSpace&&a.enable(6),R.clearcoat&&a.enable(7),R.iridescence&&a.enable(8),R.alphaTest&&a.enable(9),R.vertexColors&&a.enable(10),R.vertexAlphas&&a.enable(11),R.vertexUv1s&&a.enable(12),R.vertexUv2s&&a.enable(13),R.vertexUv3s&&a.enable(14),R.vertexTangents&&a.enable(15),R.anisotropy&&a.enable(16),R.alphaHash&&a.enable(17),R.batching&&a.enable(18),R.dispersion&&a.enable(19),R.batchingColor&&a.enable(20),R.gradientMap&&a.enable(21),P.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.reversedDepthBuffer&&a.enable(4),R.skinning&&a.enable(5),R.morphTargets&&a.enable(6),R.morphNormals&&a.enable(7),R.morphColors&&a.enable(8),R.premultipliedAlpha&&a.enable(9),R.shadowMapEnabled&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.transmission&&a.enable(15),R.sheen&&a.enable(16),R.opaque&&a.enable(17),R.pointsUvs&&a.enable(18),R.decodeVideoTexture&&a.enable(19),R.decodeVideoTextureEmissive&&a.enable(20),R.alphaToCoverage&&a.enable(21),P.push(a.mask)}function M(P){const R=g[P.type];let k;if(R){const U=Zs[R];k=lH.clone(U.uniforms)}else k=P.uniforms;return k}function E(P,R){let k=f.get(R);return k!==void 0?++k.usedTimes:(k=new khe(t,R,P,s),c.push(k),f.set(R,k)),k}function T(P){if(--P.usedTimes===0){const R=c.indexOf(P);c[R]=c[c.length-1],c.pop(),f.delete(P.cacheKey),P.destroy()}}function I(P){l.remove(P)}function L(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:M,acquireProgram:E,releaseProgram:T,releaseShaderCache:I,programs:c,dispose:L}}function Vhe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function jhe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function xF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function _F(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,m,g,x,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:m,groupOrder:g,renderOrder:f.renderOrder,z:x,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=m,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=x,v.group=y),e++,v}function a(f,h,m,g,x,y){const v=o(f,h,m,g,x,y);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):n.push(v)}function l(f,h,m,g,x,y){const v=o(f,h,m,g,x,y);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,h){n.length>1&&n.sort(f||jhe),r.length>1&&r.sort(h||xF),i.length>1&&i.sort(h||xF)}function c(){for(let f=e,h=t.length;f<h;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Hhe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new _F,t.set(r,[o])):i>=s.length?(o=new _F,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Whe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new j,color:new Je};break;case"SpotLight":n={position:new j,direction:new j,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new j,color:new Je,distance:0,decay:0};break;case"HemisphereLight":n={direction:new j,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":n={color:new Je,position:new j,halfWidth:new j,halfHeight:new j};break}return t[e.id]=n,n}}}function Ghe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let $he=0;function Xhe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function qhe(t){const e=new Whe,n=Ghe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new j);const i=new j,s=new St,o=new St;function a(u){let c=0,f=0,h=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let m=0,g=0,x=0,y=0,v=0,S=0,w=0,M=0,E=0,T=0,I=0;u.sort(Xhe);for(let P=0,R=u.length;P<R;P++){const k=u[P],U=k.color,V=k.intensity,X=k.distance;let Y=null;if(k.shadow&&k.shadow.map&&(k.shadow.map.texture.format===Pc?Y=k.shadow.map.texture:Y=k.shadow.map.depthTexture||k.shadow.map.texture),k.isAmbientLight)c+=U.r*V,f+=U.g*V,h+=U.b*V;else if(k.isLightProbe){for(let K=0;K<9;K++)r.probe[K].addScaledVector(k.sh.coefficients[K],V);I++}else if(k.isDirectionalLight){const K=e.get(k);if(K.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const q=k.shadow,F=n.get(k);F.shadowIntensity=q.intensity,F.shadowBias=q.bias,F.shadowNormalBias=q.normalBias,F.shadowRadius=q.radius,F.shadowMapSize=q.mapSize,r.directionalShadow[m]=F,r.directionalShadowMap[m]=Y,r.directionalShadowMatrix[m]=k.shadow.matrix,S++}r.directional[m]=K,m++}else if(k.isSpotLight){const K=e.get(k);K.position.setFromMatrixPosition(k.matrixWorld),K.color.copy(U).multiplyScalar(V),K.distance=X,K.coneCos=Math.cos(k.angle),K.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),K.decay=k.decay,r.spot[x]=K;const q=k.shadow;if(k.map&&(r.spotLightMap[E]=k.map,E++,q.updateMatrices(k),k.castShadow&&T++),r.spotLightMatrix[x]=q.matrix,k.castShadow){const F=n.get(k);F.shadowIntensity=q.intensity,F.shadowBias=q.bias,F.shadowNormalBias=q.normalBias,F.shadowRadius=q.radius,F.shadowMapSize=q.mapSize,r.spotShadow[x]=F,r.spotShadowMap[x]=Y,M++}x++}else if(k.isRectAreaLight){const K=e.get(k);K.color.copy(U).multiplyScalar(V),K.halfWidth.set(k.width*.5,0,0),K.halfHeight.set(0,k.height*.5,0),r.rectArea[y]=K,y++}else if(k.isPointLight){const K=e.get(k);if(K.color.copy(k.color).multiplyScalar(k.intensity),K.distance=k.distance,K.decay=k.decay,k.castShadow){const q=k.shadow,F=n.get(k);F.shadowIntensity=q.intensity,F.shadowBias=q.bias,F.shadowNormalBias=q.normalBias,F.shadowRadius=q.radius,F.shadowMapSize=q.mapSize,F.shadowCameraNear=q.camera.near,F.shadowCameraFar=q.camera.far,r.pointShadow[g]=F,r.pointShadowMap[g]=Y,r.pointShadowMatrix[g]=k.shadow.matrix,w++}r.point[g]=K,g++}else if(k.isHemisphereLight){const K=e.get(k);K.skyColor.copy(k.color).multiplyScalar(V),K.groundColor.copy(k.groundColor).multiplyScalar(V),r.hemi[v]=K,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=He.LTC_FLOAT_1,r.rectAreaLTC2=He.LTC_FLOAT_2):(r.rectAreaLTC1=He.LTC_HALF_1,r.rectAreaLTC2=He.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=h;const L=r.hash;(L.directionalLength!==m||L.pointLength!==g||L.spotLength!==x||L.rectAreaLength!==y||L.hemiLength!==v||L.numDirectionalShadows!==S||L.numPointShadows!==w||L.numSpotShadows!==M||L.numSpotMaps!==E||L.numLightProbes!==I)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=y,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=M+E-T,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=I,L.directionalLength=m,L.pointLength=g,L.spotLength=x,L.rectAreaLength=y,L.hemiLength=v,L.numDirectionalShadows=S,L.numPointShadows=w,L.numSpotShadows=M,L.numSpotMaps=E,L.numLightProbes=I,r.version=$he++)}function l(u,c){let f=0,h=0,m=0,g=0,x=0;const y=c.matrixWorldInverse;for(let v=0,S=u.length;v<S;v++){const w=u[v];if(w.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),f++}else if(w.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(w.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(y),o.identity(),s.copy(w.matrixWorld),s.premultiply(y),o.extractRotation(s),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),g++}else if(w.isPointLight){const M=r.point[h];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(y),h++}else if(w.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:r}}function SF(t){const e=new qhe(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function s(c){n.push(c)}function o(c){r.push(c)}function a(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Yhe(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new SF(t),e.set(i,[a])):s>=o.length?(a=new SF(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Khe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Zhe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Jhe=[new j(1,0,0),new j(-1,0,0),new j(0,1,0),new j(0,-1,0),new j(0,0,1),new j(0,0,-1)],Qhe=[new j(0,-1,0),new j(0,-1,0),new j(0,0,1),new j(0,0,-1),new j(0,-1,0),new j(0,-1,0)],wF=new St,mp=new j,IE=new j;function epe(t,e,n){let r=new fh;const i=new Me,s=new Me,o=new cn,a=new sR,l=new oR,u={},c=n.maxTextureSize,f={[Ia]:hi,[hi]:Ia,[Oo]:Oo},h=new Is({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Me},radius:{value:4}},vertexShader:Khe,fragmentShader:Zhe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Et;g.setAttribute("position",new an(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ir(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bd;let v=this.type;this.render=function(T,I,L){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;T.type===Zp&&(Ve("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),T.type=bd);const P=t.getRenderTarget(),R=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Wo),U.buffers.depth.getReversed()===!0?U.buffers.color.setClear(0,0,0,0):U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const V=v!==this.type;V&&I.traverse(function(X){X.material&&(Array.isArray(X.material)?X.material.forEach(Y=>Y.needsUpdate=!0):X.material.needsUpdate=!0)});for(let X=0,Y=T.length;X<Y;X++){const K=T[X],q=K.shadow;if(q===void 0){Ve("WebGLShadowMap:",K,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const F=q.getFrameExtents();if(i.multiply(F),s.copy(q.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/F.x),i.x=s.x*F.x,q.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/F.y),i.y=s.y*F.y,q.mapSize.y=s.y)),q.map===null||V===!0){if(q.map!==null&&(q.map.depthTexture!==null&&(q.map.depthTexture.dispose(),q.map.depthTexture=null),q.map.dispose()),this.type===ec){if(K.isPointLight){Ve("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}q.map=new es(i.x,i.y,{format:Pc,type:qo,minFilter:wn,magFilter:wn,generateMipmaps:!1}),q.map.texture.name=K.name+".shadowMap",q.map.depthTexture=new Wd(i.x,i.y,ci),q.map.depthTexture.name=K.name+".shadowMapDepth",q.map.depthTexture.format=Yo,q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=Yn,q.map.depthTexture.magFilter=Yn}else{K.isPointLight?(q.map=new X2(i.x),q.map.depthTexture=new xH(i.x,Rs)):(q.map=new es(i.x,i.y),q.map.depthTexture=new Wd(i.x,i.y,Rs)),q.map.depthTexture.name=K.name+".shadowMap",q.map.depthTexture.format=Yo;const G=t.state.buffers.depth.getReversed();this.type===bd?(q.map.depthTexture.compareFunction=G?pS:hS,q.map.depthTexture.minFilter=wn,q.map.depthTexture.magFilter=wn):(q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=Yn,q.map.depthTexture.magFilter=Yn)}q.camera.updateProjectionMatrix()}const $=q.map.isWebGLCubeRenderTarget?6:1;for(let G=0;G<$;G++){if(q.map.isWebGLCubeRenderTarget)t.setRenderTarget(q.map,G),t.clear();else{G===0&&(t.setRenderTarget(q.map),t.clear());const Z=q.getViewport(G);o.set(s.x*Z.x,s.y*Z.y,s.x*Z.z,s.y*Z.w),U.viewport(o)}if(K.isPointLight){const Z=q.camera,fe=q.matrix,Ee=K.distance||Z.far;Ee!==Z.far&&(Z.far=Ee,Z.updateProjectionMatrix()),mp.setFromMatrixPosition(K.matrixWorld),Z.position.copy(mp),IE.copy(Z.position),IE.add(Jhe[G]),Z.up.copy(Qhe[G]),Z.lookAt(IE),Z.updateMatrixWorld(),fe.makeTranslation(-mp.x,-mp.y,-mp.z),wF.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),q._frustum.setFromProjectionMatrix(wF,Z.coordinateSystem,Z.reversedDepth)}else q.updateMatrices(K);r=q.getFrustum(),M(I,L,q.camera,K,this.type)}q.isPointLightShadow!==!0&&this.type===ec&&S(q,L),q.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(P,R,k)};function S(T,I){const L=e.update(x);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new es(i.x,i.y,{format:Pc,type:qo})),h.uniforms.shadow_pass.value=T.map.depthTexture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(I,null,L,h,x,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(I,null,L,m,x,null)}function w(T,I,L,P){let R=null;const k=L.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(k!==void 0)R=k;else if(R=L.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const U=R.uuid,V=I.uuid;let X=u[U];X===void 0&&(X={},u[U]=X);let Y=X[V];Y===void 0&&(Y=R.clone(),X[V]=Y,I.addEventListener("dispose",E)),R=Y}if(R.visible=I.visible,R.wireframe=I.wireframe,P===ec?R.side=I.shadowSide!==null?I.shadowSide:I.side:R.side=I.shadowSide!==null?I.shadowSide:f[I.side],R.alphaMap=I.alphaMap,R.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,R.map=I.map,R.clipShadows=I.clipShadows,R.clippingPlanes=I.clippingPlanes,R.clipIntersection=I.clipIntersection,R.displacementMap=I.displacementMap,R.displacementScale=I.displacementScale,R.displacementBias=I.displacementBias,R.wireframeLinewidth=I.wireframeLinewidth,R.linewidth=I.linewidth,L.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const U=t.properties.get(R);U.light=L}return R}function M(T,I,L,P,R){if(T.visible===!1)return;if(T.layers.test(I.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===ec)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,T.matrixWorld);const V=e.update(T),X=T.material;if(Array.isArray(X)){const Y=V.groups;for(let K=0,q=Y.length;K<q;K++){const F=Y[K],$=X[F.materialIndex];if($&&$.visible){const G=w(T,$,P,R);T.onBeforeShadow(t,T,I,L,V,G,F),t.renderBufferDirect(L,null,V,G,T,F),T.onAfterShadow(t,T,I,L,V,G,F)}}}else if(X.visible){const Y=w(T,X,P,R);T.onBeforeShadow(t,T,I,L,V,Y,null),t.renderBufferDirect(L,null,V,Y,T,null),T.onAfterShadow(t,T,I,L,V,Y,null)}}const U=T.children;for(let V=0,X=U.length;V<X;V++)M(U[V],I,L,P,R)}function E(T){T.target.removeEventListener("dispose",E);for(const L in u){const P=u[L],R=T.target.uuid;R in P&&(P[R].dispose(),delete P[R])}}}const tpe={[qx]:Yx,[Kx]:Qx,[Zx]:e_,[Cc]:Jx,[Yx]:qx,[Qx]:Kx,[e_]:Zx,[Jx]:Cc};function npe(t,e){function n(){let J=!1;const $e=new cn;let Ie=null;const Ze=new cn(0,0,0,0);return{setMask:function(Ce){Ie!==Ce&&!J&&(t.colorMask(Ce,Ce,Ce,Ce),Ie=Ce)},setLocked:function(Ce){J=Ce},setClear:function(Ce,_e,Fe,wt,tn){tn===!0&&(Ce*=wt,_e*=wt,Fe*=wt),$e.set(Ce,_e,Fe,wt),Ze.equals($e)===!1&&(t.clearColor(Ce,_e,Fe,wt),Ze.copy($e))},reset:function(){J=!1,Ie=null,Ze.set(-1,0,0,0)}}}function r(){let J=!1,$e=!1,Ie=null,Ze=null,Ce=null;return{setReversed:function(_e){if($e!==_e){const Fe=e.get("EXT_clip_control");_e?Fe.clipControlEXT(Fe.LOWER_LEFT_EXT,Fe.ZERO_TO_ONE_EXT):Fe.clipControlEXT(Fe.LOWER_LEFT_EXT,Fe.NEGATIVE_ONE_TO_ONE_EXT),$e=_e;const wt=Ce;Ce=null,this.setClear(wt)}},getReversed:function(){return $e},setTest:function(_e){_e?ye(t.DEPTH_TEST):qe(t.DEPTH_TEST)},setMask:function(_e){Ie!==_e&&!J&&(t.depthMask(_e),Ie=_e)},setFunc:function(_e){if($e&&(_e=tpe[_e]),Ze!==_e){switch(_e){case qx:t.depthFunc(t.NEVER);break;case Yx:t.depthFunc(t.ALWAYS);break;case Kx:t.depthFunc(t.LESS);break;case Cc:t.depthFunc(t.LEQUAL);break;case Zx:t.depthFunc(t.EQUAL);break;case Jx:t.depthFunc(t.GEQUAL);break;case Qx:t.depthFunc(t.GREATER);break;case e_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ze=_e}},setLocked:function(_e){J=_e},setClear:function(_e){Ce!==_e&&($e&&(_e=1-_e),t.clearDepth(_e),Ce=_e)},reset:function(){J=!1,Ie=null,Ze=null,Ce=null,$e=!1}}}function i(){let J=!1,$e=null,Ie=null,Ze=null,Ce=null,_e=null,Fe=null,wt=null,tn=null;return{setTest:function($t){J||($t?ye(t.STENCIL_TEST):qe(t.STENCIL_TEST))},setMask:function($t){$e!==$t&&!J&&(t.stencilMask($t),$e=$t)},setFunc:function($t,Bi,Us){(Ie!==$t||Ze!==Bi||Ce!==Us)&&(t.stencilFunc($t,Bi,Us),Ie=$t,Ze=Bi,Ce=Us)},setOp:function($t,Bi,Us){(_e!==$t||Fe!==Bi||wt!==Us)&&(t.stencilOp($t,Bi,Us),_e=$t,Fe=Bi,wt=Us)},setLocked:function($t){J=$t},setClear:function($t){tn!==$t&&(t.clearStencil($t),tn=$t)},reset:function(){J=!1,$e=null,Ie=null,Ze=null,Ce=null,_e=null,Fe=null,wt=null,tn=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,m=[],g=null,x=!1,y=null,v=null,S=null,w=null,M=null,E=null,T=null,I=new Je(0,0,0),L=0,P=!1,R=null,k=null,U=null,V=null,X=null;const Y=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,q=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(F)[1]),K=q>=1):F.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),K=q>=2);let $=null,G={};const Z=t.getParameter(t.SCISSOR_BOX),fe=t.getParameter(t.VIEWPORT),Ee=new cn().fromArray(Z),Ge=new cn().fromArray(fe);function ct(J,$e,Ie,Ze){const Ce=new Uint8Array(4),_e=t.createTexture();t.bindTexture(J,_e),t.texParameteri(J,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(J,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Fe=0;Fe<Ie;Fe++)J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY?t.texImage3D($e,0,t.RGBA,1,1,Ze,0,t.RGBA,t.UNSIGNED_BYTE,Ce):t.texImage2D($e+Fe,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ce);return _e}const ae={};ae[t.TEXTURE_2D]=ct(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=ct(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=ct(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=ct(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),ye(t.DEPTH_TEST),o.setFunc(Cc),xe(!1),Le(VT),ye(t.CULL_FACE),de(Wo);function ye(J){c[J]!==!0&&(t.enable(J),c[J]=!0)}function qe(J){c[J]!==!1&&(t.disable(J),c[J]=!1)}function ie(J,$e){return f[J]!==$e?(t.bindFramebuffer(J,$e),f[J]=$e,J===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=$e),J===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=$e),!0):!1}function be(J,$e){let Ie=m,Ze=!1;if(J){Ie=h.get($e),Ie===void 0&&(Ie=[],h.set($e,Ie));const Ce=J.textures;if(Ie.length!==Ce.length||Ie[0]!==t.COLOR_ATTACHMENT0){for(let _e=0,Fe=Ce.length;_e<Fe;_e++)Ie[_e]=t.COLOR_ATTACHMENT0+_e;Ie.length=Ce.length,Ze=!0}}else Ie[0]!==t.BACK&&(Ie[0]=t.BACK,Ze=!0);Ze&&t.drawBuffers(Ie)}function ze(J){return g!==J?(t.useProgram(J),g=J,!0):!1}const ve={[yl]:t.FUNC_ADD,[E6]:t.FUNC_SUBTRACT,[A6]:t.FUNC_REVERSE_SUBTRACT};ve[T6]=t.MIN,ve[C6]=t.MAX;const Ye={[P6]:t.ZERO,[R6]:t.ONE,[I6]:t.SRC_COLOR,[$x]:t.SRC_ALPHA,[F6]:t.SRC_ALPHA_SATURATE,[D6]:t.DST_COLOR,[O6]:t.DST_ALPHA,[N6]:t.ONE_MINUS_SRC_COLOR,[Xx]:t.ONE_MINUS_SRC_ALPHA,[k6]:t.ONE_MINUS_DST_COLOR,[L6]:t.ONE_MINUS_DST_ALPHA,[U6]:t.CONSTANT_COLOR,[z6]:t.ONE_MINUS_CONSTANT_COLOR,[B6]:t.CONSTANT_ALPHA,[V6]:t.ONE_MINUS_CONSTANT_ALPHA};function de(J,$e,Ie,Ze,Ce,_e,Fe,wt,tn,$t){if(J===Wo){x===!0&&(qe(t.BLEND),x=!1);return}if(x===!1&&(ye(t.BLEND),x=!0),J!==M6){if(J!==y||$t!==P){if((v!==yl||M!==yl)&&(t.blendEquation(t.FUNC_ADD),v=yl,M=yl),$t)switch(J){case fc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Im:t.blendFunc(t.ONE,t.ONE);break;case jT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case HT:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:ht("WebGLState: Invalid blending: ",J);break}else switch(J){case fc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Im:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case jT:ht("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case HT:ht("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:ht("WebGLState: Invalid blending: ",J);break}S=null,w=null,E=null,T=null,I.set(0,0,0),L=0,y=J,P=$t}return}Ce=Ce||$e,_e=_e||Ie,Fe=Fe||Ze,($e!==v||Ce!==M)&&(t.blendEquationSeparate(ve[$e],ve[Ce]),v=$e,M=Ce),(Ie!==S||Ze!==w||_e!==E||Fe!==T)&&(t.blendFuncSeparate(Ye[Ie],Ye[Ze],Ye[_e],Ye[Fe]),S=Ie,w=Ze,E=_e,T=Fe),(wt.equals(I)===!1||tn!==L)&&(t.blendColor(wt.r,wt.g,wt.b,tn),I.copy(wt),L=tn),y=J,P=!1}function we(J,$e){J.side===Oo?qe(t.CULL_FACE):ye(t.CULL_FACE);let Ie=J.side===hi;$e&&(Ie=!Ie),xe(Ie),J.blending===fc&&J.transparent===!1?de(Wo):de(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.blendColor,J.blendAlpha,J.premultipliedAlpha),o.setFunc(J.depthFunc),o.setTest(J.depthTest),o.setMask(J.depthWrite),s.setMask(J.colorWrite);const Ze=J.stencilWrite;a.setTest(Ze),Ze&&(a.setMask(J.stencilWriteMask),a.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),a.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),mt(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?ye(t.SAMPLE_ALPHA_TO_COVERAGE):qe(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(J){R!==J&&(J?t.frontFace(t.CW):t.frontFace(t.CCW),R=J)}function Le(J){J!==S6?(ye(t.CULL_FACE),J!==k&&(J===VT?t.cullFace(t.BACK):J===w6?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):qe(t.CULL_FACE),k=J}function H(J){J!==U&&(K&&t.lineWidth(J),U=J)}function mt(J,$e,Ie){J?(ye(t.POLYGON_OFFSET_FILL),(V!==$e||X!==Ie)&&(t.polygonOffset($e,Ie),V=$e,X=Ie)):qe(t.POLYGON_OFFSET_FILL)}function je(J){J?ye(t.SCISSOR_TEST):qe(t.SCISSOR_TEST)}function vt(J){J===void 0&&(J=t.TEXTURE0+Y-1),$!==J&&(t.activeTexture(J),$=J)}function Oe(J,$e,Ie){Ie===void 0&&($===null?Ie=t.TEXTURE0+Y-1:Ie=$);let Ze=G[Ie];Ze===void 0&&(Ze={type:void 0,texture:void 0},G[Ie]=Ze),(Ze.type!==J||Ze.texture!==$e)&&($!==Ie&&(t.activeTexture(Ie),$=Ie),t.bindTexture(J,$e||ae[J]),Ze.type=J,Ze.texture=$e)}function B(){const J=G[$];J!==void 0&&J.type!==void 0&&(t.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function D(){try{t.compressedTexImage2D(...arguments)}catch(J){ht("WebGLState:",J)}}function Q(){try{t.compressedTexImage3D(...arguments)}catch(J){ht("WebGLState:",J)}}function pe(){try{t.texSubImage2D(...arguments)}catch(J){ht("WebGLState:",J)}}function Se(){try{t.texSubImage3D(...arguments)}catch(J){ht("WebGLState:",J)}}function me(){try{t.compressedTexSubImage2D(...arguments)}catch(J){ht("WebGLState:",J)}}function ut(){try{t.compressedTexSubImage3D(...arguments)}catch(J){ht("WebGLState:",J)}}function ke(){try{t.texStorage2D(...arguments)}catch(J){ht("WebGLState:",J)}}function ot(){try{t.texStorage3D(...arguments)}catch(J){ht("WebGLState:",J)}}function yt(){try{t.texImage2D(...arguments)}catch(J){ht("WebGLState:",J)}}function Te(){try{t.texImage3D(...arguments)}catch(J){ht("WebGLState:",J)}}function Be(J){Ee.equals(J)===!1&&(t.scissor(J.x,J.y,J.z,J.w),Ee.copy(J))}function at(J){Ge.equals(J)===!1&&(t.viewport(J.x,J.y,J.z,J.w),Ge.copy(J))}function ft(J,$e){let Ie=u.get($e);Ie===void 0&&(Ie=new WeakMap,u.set($e,Ie));let Ze=Ie.get(J);Ze===void 0&&(Ze=t.getUniformBlockIndex($e,J.name),Ie.set(J,Ze))}function Ue(J,$e){const Ze=u.get($e).get(J);l.get($e)!==Ze&&(t.uniformBlockBinding($e,Ze,J.__bindingPointIndex),l.set($e,Ze))}function It(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},$=null,G={},f={},h=new WeakMap,m=[],g=null,x=!1,y=null,v=null,S=null,w=null,M=null,E=null,T=null,I=new Je(0,0,0),L=0,P=!1,R=null,k=null,U=null,V=null,X=null,Ee.set(0,0,t.canvas.width,t.canvas.height),Ge.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:ye,disable:qe,bindFramebuffer:ie,drawBuffers:be,useProgram:ze,setBlending:de,setMaterial:we,setFlipSided:xe,setCullFace:Le,setLineWidth:H,setPolygonOffset:mt,setScissorTest:je,activeTexture:vt,bindTexture:Oe,unbindTexture:B,compressedTexImage2D:D,compressedTexImage3D:Q,texImage2D:yt,texImage3D:Te,updateUBOMapping:ft,uniformBlockBinding:Ue,texStorage2D:ke,texStorage3D:ot,texSubImage2D:pe,texSubImage3D:Se,compressedTexSubImage2D:me,compressedTexSubImage3D:ut,scissor:Be,viewport:at,reset:It}}function rpe(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Me,c=new WeakMap;let f;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(B,D){return m?new OffscreenCanvas(B,D):Bm("canvas")}function x(B,D,Q){let pe=1;const Se=Oe(B);if((Se.width>Q||Se.height>Q)&&(pe=Q/Math.max(Se.width,Se.height)),pe<1)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap||typeof VideoFrame<"u"&&B instanceof VideoFrame){const me=Math.floor(pe*Se.width),ut=Math.floor(pe*Se.height);f===void 0&&(f=g(me,ut));const ke=D?g(me,ut):f;return ke.width=me,ke.height=ut,ke.getContext("2d").drawImage(B,0,0,me,ut),Ve("WebGLRenderer: Texture has been resized from ("+Se.width+"x"+Se.height+") to ("+me+"x"+ut+")."),ke}else return"data"in B&&Ve("WebGLRenderer: Image in DataTexture is too big ("+Se.width+"x"+Se.height+")."),B;return B}function y(B){return B.generateMipmaps}function v(B){t.generateMipmap(B)}function S(B){return B.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:B.isWebGL3DRenderTarget?t.TEXTURE_3D:B.isWebGLArrayRenderTarget||B.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(B,D,Q,pe,Se=!1){if(B!==null){if(t[B]!==void 0)return t[B];Ve("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let me=D;if(D===t.RED&&(Q===t.FLOAT&&(me=t.R32F),Q===t.HALF_FLOAT&&(me=t.R16F),Q===t.UNSIGNED_BYTE&&(me=t.R8)),D===t.RED_INTEGER&&(Q===t.UNSIGNED_BYTE&&(me=t.R8UI),Q===t.UNSIGNED_SHORT&&(me=t.R16UI),Q===t.UNSIGNED_INT&&(me=t.R32UI),Q===t.BYTE&&(me=t.R8I),Q===t.SHORT&&(me=t.R16I),Q===t.INT&&(me=t.R32I)),D===t.RG&&(Q===t.FLOAT&&(me=t.RG32F),Q===t.HALF_FLOAT&&(me=t.RG16F),Q===t.UNSIGNED_BYTE&&(me=t.RG8)),D===t.RG_INTEGER&&(Q===t.UNSIGNED_BYTE&&(me=t.RG8UI),Q===t.UNSIGNED_SHORT&&(me=t.RG16UI),Q===t.UNSIGNED_INT&&(me=t.RG32UI),Q===t.BYTE&&(me=t.RG8I),Q===t.SHORT&&(me=t.RG16I),Q===t.INT&&(me=t.RG32I)),D===t.RGB_INTEGER&&(Q===t.UNSIGNED_BYTE&&(me=t.RGB8UI),Q===t.UNSIGNED_SHORT&&(me=t.RGB16UI),Q===t.UNSIGNED_INT&&(me=t.RGB32UI),Q===t.BYTE&&(me=t.RGB8I),Q===t.SHORT&&(me=t.RGB16I),Q===t.INT&&(me=t.RGB32I)),D===t.RGBA_INTEGER&&(Q===t.UNSIGNED_BYTE&&(me=t.RGBA8UI),Q===t.UNSIGNED_SHORT&&(me=t.RGBA16UI),Q===t.UNSIGNED_INT&&(me=t.RGBA32UI),Q===t.BYTE&&(me=t.RGBA8I),Q===t.SHORT&&(me=t.RGBA16I),Q===t.INT&&(me=t.RGBA32I)),D===t.RGB&&(Q===t.UNSIGNED_INT_5_9_9_9_REV&&(me=t.RGB9_E5),Q===t.UNSIGNED_INT_10F_11F_11F_REV&&(me=t.R11F_G11F_B10F)),D===t.RGBA){const ut=Se?Um:Vt.getTransfer(pe);Q===t.FLOAT&&(me=t.RGBA32F),Q===t.HALF_FLOAT&&(me=t.RGBA16F),Q===t.UNSIGNED_BYTE&&(me=ut===en?t.SRGB8_ALPHA8:t.RGBA8),Q===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),Q===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function M(B,D){let Q;return B?D===null||D===Rs||D===Ud?Q=t.DEPTH24_STENCIL8:D===ci?Q=t.DEPTH32F_STENCIL8:D===Fd&&(Q=t.DEPTH24_STENCIL8,Ve("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===Rs||D===Ud?Q=t.DEPTH_COMPONENT24:D===ci?Q=t.DEPTH_COMPONENT32F:D===Fd&&(Q=t.DEPTH_COMPONENT16),Q}function E(B,D){return y(B)===!0||B.isFramebufferTexture&&B.minFilter!==Yn&&B.minFilter!==wn?Math.log2(Math.max(D.width,D.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?D.mipmaps.length:1}function T(B){const D=B.target;D.removeEventListener("dispose",T),L(D),D.isVideoTexture&&c.delete(D)}function I(B){const D=B.target;D.removeEventListener("dispose",I),R(D)}function L(B){const D=r.get(B);if(D.__webglInit===void 0)return;const Q=B.source,pe=h.get(Q);if(pe){const Se=pe[D.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&P(B),Object.keys(pe).length===0&&h.delete(Q)}r.remove(B)}function P(B){const D=r.get(B);t.deleteTexture(D.__webglTexture);const Q=B.source,pe=h.get(Q);delete pe[D.__cacheKey],o.memory.textures--}function R(B){const D=r.get(B);if(B.depthTexture&&(B.depthTexture.dispose(),r.remove(B.depthTexture)),B.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(D.__webglFramebuffer[pe]))for(let Se=0;Se<D.__webglFramebuffer[pe].length;Se++)t.deleteFramebuffer(D.__webglFramebuffer[pe][Se]);else t.deleteFramebuffer(D.__webglFramebuffer[pe]);D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer[pe])}else{if(Array.isArray(D.__webglFramebuffer))for(let pe=0;pe<D.__webglFramebuffer.length;pe++)t.deleteFramebuffer(D.__webglFramebuffer[pe]);else t.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&t.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let pe=0;pe<D.__webglColorRenderbuffer.length;pe++)D.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer(D.__webglColorRenderbuffer[pe]);D.__webglDepthRenderbuffer&&t.deleteRenderbuffer(D.__webglDepthRenderbuffer)}const Q=B.textures;for(let pe=0,Se=Q.length;pe<Se;pe++){const me=r.get(Q[pe]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),o.memory.textures--),r.remove(Q[pe])}r.remove(B)}let k=0;function U(){k=0}function V(){const B=k;return B>=i.maxTextures&&Ve("WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+i.maxTextures),k+=1,B}function X(B){const D=[];return D.push(B.wrapS),D.push(B.wrapT),D.push(B.wrapR||0),D.push(B.magFilter),D.push(B.minFilter),D.push(B.anisotropy),D.push(B.internalFormat),D.push(B.format),D.push(B.type),D.push(B.generateMipmaps),D.push(B.premultiplyAlpha),D.push(B.flipY),D.push(B.unpackAlignment),D.push(B.colorSpace),D.join()}function Y(B,D){const Q=r.get(B);if(B.isVideoTexture&&je(B),B.isRenderTargetTexture===!1&&B.isExternalTexture!==!0&&B.version>0&&Q.__version!==B.version){const pe=B.image;if(pe===null)Ve("WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)Ve("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(Q,B,D);return}}else B.isExternalTexture&&(Q.__webglTexture=B.sourceTexture?B.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Q.__webglTexture,t.TEXTURE0+D)}function K(B,D){const Q=r.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&Q.__version!==B.version){ae(Q,B,D);return}else B.isExternalTexture&&(Q.__webglTexture=B.sourceTexture?B.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Q.__webglTexture,t.TEXTURE0+D)}function q(B,D){const Q=r.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&Q.__version!==B.version){ae(Q,B,D);return}n.bindTexture(t.TEXTURE_3D,Q.__webglTexture,t.TEXTURE0+D)}function F(B,D){const Q=r.get(B);if(B.isCubeDepthTexture!==!0&&B.version>0&&Q.__version!==B.version){ye(Q,B,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+D)}const $={[Lm]:t.REPEAT,[Pi]:t.CLAMP_TO_EDGE,[Dm]:t.MIRRORED_REPEAT},G={[Yn]:t.NEAREST,[D2]:t.NEAREST_MIPMAP_NEAREST,[cd]:t.NEAREST_MIPMAP_LINEAR,[wn]:t.LINEAR,[Jp]:t.LINEAR_MIPMAP_NEAREST,[Do]:t.LINEAR_MIPMAP_LINEAR},Z={[K6]:t.NEVER,[tH]:t.ALWAYS,[Z6]:t.LESS,[hS]:t.LEQUAL,[J6]:t.EQUAL,[pS]:t.GEQUAL,[Q6]:t.GREATER,[eH]:t.NOTEQUAL};function fe(B,D){if(D.type===ci&&e.has("OES_texture_float_linear")===!1&&(D.magFilter===wn||D.magFilter===Jp||D.magFilter===cd||D.magFilter===Do||D.minFilter===wn||D.minFilter===Jp||D.minFilter===cd||D.minFilter===Do)&&Ve("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(B,t.TEXTURE_WRAP_S,$[D.wrapS]),t.texParameteri(B,t.TEXTURE_WRAP_T,$[D.wrapT]),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,$[D.wrapR]),t.texParameteri(B,t.TEXTURE_MAG_FILTER,G[D.magFilter]),t.texParameteri(B,t.TEXTURE_MIN_FILTER,G[D.minFilter]),D.compareFunction&&(t.texParameteri(B,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(B,t.TEXTURE_COMPARE_FUNC,Z[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===Yn||D.minFilter!==cd&&D.minFilter!==Do||D.type===ci&&e.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||r.get(D).__currentAnisotropy){const Q=e.get("EXT_texture_filter_anisotropic");t.texParameterf(B,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy}}}function Ee(B,D){let Q=!1;B.__webglInit===void 0&&(B.__webglInit=!0,D.addEventListener("dispose",T));const pe=D.source;let Se=h.get(pe);Se===void 0&&(Se={},h.set(pe,Se));const me=X(D);if(me!==B.__cacheKey){Se[me]===void 0&&(Se[me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Se[me].usedTimes++;const ut=Se[B.__cacheKey];ut!==void 0&&(Se[B.__cacheKey].usedTimes--,ut.usedTimes===0&&P(D)),B.__cacheKey=me,B.__webglTexture=Se[me].texture}return Q}function Ge(B,D,Q){return Math.floor(Math.floor(B/Q)/D)}function ct(B,D,Q,pe){const me=B.updateRanges;if(me.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,D.width,D.height,Q,pe,D.data);else{me.sort((Te,Be)=>Te.start-Be.start);let ut=0;for(let Te=1;Te<me.length;Te++){const Be=me[ut],at=me[Te],ft=Be.start+Be.count,Ue=Ge(at.start,D.width,4),It=Ge(Be.start,D.width,4);at.start<=ft+1&&Ue===It&&Ge(at.start+at.count-1,D.width,4)===Ue?Be.count=Math.max(Be.count,at.start+at.count-Be.start):(++ut,me[ut]=at)}me.length=ut+1;const ke=t.getParameter(t.UNPACK_ROW_LENGTH),ot=t.getParameter(t.UNPACK_SKIP_PIXELS),yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,D.width);for(let Te=0,Be=me.length;Te<Be;Te++){const at=me[Te],ft=Math.floor(at.start/4),Ue=Math.ceil(at.count/4),It=ft%D.width,J=Math.floor(ft/D.width),$e=Ue,Ie=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,It),t.pixelStorei(t.UNPACK_SKIP_ROWS,J),n.texSubImage2D(t.TEXTURE_2D,0,It,J,$e,Ie,Q,pe,D.data)}B.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,ke),t.pixelStorei(t.UNPACK_SKIP_PIXELS,ot),t.pixelStorei(t.UNPACK_SKIP_ROWS,yt)}}function ae(B,D,Q){let pe=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(pe=t.TEXTURE_3D);const Se=Ee(B,D),me=D.source;n.bindTexture(pe,B.__webglTexture,t.TEXTURE0+Q);const ut=r.get(me);if(me.version!==ut.__version||Se===!0){n.activeTexture(t.TEXTURE0+Q);const ke=Vt.getPrimaries(Vt.workingColorSpace),ot=D.colorSpace===ga?null:Vt.getPrimaries(D.colorSpace),yt=D.colorSpace===ga||ke===ot?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Te=x(D.image,!1,i.maxTextureSize);Te=vt(D,Te);const Be=s.convert(D.format,D.colorSpace),at=s.convert(D.type);let ft=w(D.internalFormat,Be,at,D.colorSpace,D.isVideoTexture);fe(pe,D);let Ue;const It=D.mipmaps,J=D.isVideoTexture!==!0,$e=ut.__version===void 0||Se===!0,Ie=me.dataReady,Ze=E(D,Te);if(D.isDepthTexture)ft=M(D.format===Ml,D.type),$e&&(J?n.texStorage2D(t.TEXTURE_2D,1,ft,Te.width,Te.height):n.texImage2D(t.TEXTURE_2D,0,ft,Te.width,Te.height,0,Be,at,null));else if(D.isDataTexture)if(It.length>0){J&&$e&&n.texStorage2D(t.TEXTURE_2D,Ze,ft,It[0].width,It[0].height);for(let Ce=0,_e=It.length;Ce<_e;Ce++)Ue=It[Ce],J?Ie&&n.texSubImage2D(t.TEXTURE_2D,Ce,0,0,Ue.width,Ue.height,Be,at,Ue.data):n.texImage2D(t.TEXTURE_2D,Ce,ft,Ue.width,Ue.height,0,Be,at,Ue.data);D.generateMipmaps=!1}else J?($e&&n.texStorage2D(t.TEXTURE_2D,Ze,ft,Te.width,Te.height),Ie&&ct(D,Te,Be,at)):n.texImage2D(t.TEXTURE_2D,0,ft,Te.width,Te.height,0,Be,at,Te.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){J&&$e&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,ft,It[0].width,It[0].height,Te.depth);for(let Ce=0,_e=It.length;Ce<_e;Ce++)if(Ue=It[Ce],D.format!==Kr)if(Be!==null)if(J){if(Ie)if(D.layerUpdates.size>0){const Fe=QT(Ue.width,Ue.height,D.format,D.type);for(const wt of D.layerUpdates){const tn=Ue.data.subarray(wt*Fe/Ue.data.BYTES_PER_ELEMENT,(wt+1)*Fe/Ue.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ce,0,0,wt,Ue.width,Ue.height,1,Be,tn)}D.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ce,0,0,0,Ue.width,Ue.height,Te.depth,Be,Ue.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ce,ft,Ue.width,Ue.height,Te.depth,0,Ue.data,0,0);else Ve("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else J?Ie&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ce,0,0,0,Ue.width,Ue.height,Te.depth,Be,at,Ue.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ce,ft,Ue.width,Ue.height,Te.depth,0,Be,at,Ue.data)}else{J&&$e&&n.texStorage2D(t.TEXTURE_2D,Ze,ft,It[0].width,It[0].height);for(let Ce=0,_e=It.length;Ce<_e;Ce++)Ue=It[Ce],D.format!==Kr?Be!==null?J?Ie&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ce,0,0,Ue.width,Ue.height,Be,Ue.data):n.compressedTexImage2D(t.TEXTURE_2D,Ce,ft,Ue.width,Ue.height,0,Ue.data):Ve("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):J?Ie&&n.texSubImage2D(t.TEXTURE_2D,Ce,0,0,Ue.width,Ue.height,Be,at,Ue.data):n.texImage2D(t.TEXTURE_2D,Ce,ft,Ue.width,Ue.height,0,Be,at,Ue.data)}else if(D.isDataArrayTexture)if(J){if($e&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,ft,Te.width,Te.height,Te.depth),Ie)if(D.layerUpdates.size>0){const Ce=QT(Te.width,Te.height,D.format,D.type);for(const _e of D.layerUpdates){const Fe=Te.data.subarray(_e*Ce/Te.data.BYTES_PER_ELEMENT,(_e+1)*Ce/Te.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,_e,Te.width,Te.height,1,Be,at,Fe)}D.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,Be,at,Te.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ft,Te.width,Te.height,Te.depth,0,Be,at,Te.data);else if(D.isData3DTexture)J?($e&&n.texStorage3D(t.TEXTURE_3D,Ze,ft,Te.width,Te.height,Te.depth),Ie&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,Be,at,Te.data)):n.texImage3D(t.TEXTURE_3D,0,ft,Te.width,Te.height,Te.depth,0,Be,at,Te.data);else if(D.isFramebufferTexture){if($e)if(J)n.texStorage2D(t.TEXTURE_2D,Ze,ft,Te.width,Te.height);else{let Ce=Te.width,_e=Te.height;for(let Fe=0;Fe<Ze;Fe++)n.texImage2D(t.TEXTURE_2D,Fe,ft,Ce,_e,0,Be,at,null),Ce>>=1,_e>>=1}}else if(It.length>0){if(J&&$e){const Ce=Oe(It[0]);n.texStorage2D(t.TEXTURE_2D,Ze,ft,Ce.width,Ce.height)}for(let Ce=0,_e=It.length;Ce<_e;Ce++)Ue=It[Ce],J?Ie&&n.texSubImage2D(t.TEXTURE_2D,Ce,0,0,Be,at,Ue):n.texImage2D(t.TEXTURE_2D,Ce,ft,Be,at,Ue);D.generateMipmaps=!1}else if(J){if($e){const Ce=Oe(Te);n.texStorage2D(t.TEXTURE_2D,Ze,ft,Ce.width,Ce.height)}Ie&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Be,at,Te)}else n.texImage2D(t.TEXTURE_2D,0,ft,Be,at,Te);y(D)&&v(pe),ut.__version=me.version,D.onUpdate&&D.onUpdate(D)}B.__version=D.version}function ye(B,D,Q){if(D.image.length!==6)return;const pe=Ee(B,D),Se=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+Q);const me=r.get(Se);if(Se.version!==me.__version||pe===!0){n.activeTexture(t.TEXTURE0+Q);const ut=Vt.getPrimaries(Vt.workingColorSpace),ke=D.colorSpace===ga?null:Vt.getPrimaries(D.colorSpace),ot=D.colorSpace===ga||ut===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);const yt=D.isCompressedTexture||D.image[0].isCompressedTexture,Te=D.image[0]&&D.image[0].isDataTexture,Be=[];for(let _e=0;_e<6;_e++)!yt&&!Te?Be[_e]=x(D.image[_e],!0,i.maxCubemapSize):Be[_e]=Te?D.image[_e].image:D.image[_e],Be[_e]=vt(D,Be[_e]);const at=Be[0],ft=s.convert(D.format,D.colorSpace),Ue=s.convert(D.type),It=w(D.internalFormat,ft,Ue,D.colorSpace),J=D.isVideoTexture!==!0,$e=me.__version===void 0||pe===!0,Ie=Se.dataReady;let Ze=E(D,at);fe(t.TEXTURE_CUBE_MAP,D);let Ce;if(yt){J&&$e&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,It,at.width,at.height);for(let _e=0;_e<6;_e++){Ce=Be[_e].mipmaps;for(let Fe=0;Fe<Ce.length;Fe++){const wt=Ce[Fe];D.format!==Kr?ft!==null?J?Ie&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,0,0,wt.width,wt.height,ft,wt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,It,wt.width,wt.height,0,wt.data):Ve("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):J?Ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,0,0,wt.width,wt.height,ft,Ue,wt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,It,wt.width,wt.height,0,ft,Ue,wt.data)}}}else{if(Ce=D.mipmaps,J&&$e){Ce.length>0&&Ze++;const _e=Oe(Be[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,It,_e.width,_e.height)}for(let _e=0;_e<6;_e++)if(Te){J?Ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,Be[_e].width,Be[_e].height,ft,Ue,Be[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,It,Be[_e].width,Be[_e].height,0,ft,Ue,Be[_e].data);for(let Fe=0;Fe<Ce.length;Fe++){const tn=Ce[Fe].image[_e].image;J?Ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,0,0,tn.width,tn.height,ft,Ue,tn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,It,tn.width,tn.height,0,ft,Ue,tn.data)}}else{J?Ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,ft,Ue,Be[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,It,ft,Ue,Be[_e]);for(let Fe=0;Fe<Ce.length;Fe++){const wt=Ce[Fe];J?Ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,0,0,ft,Ue,wt.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,It,ft,Ue,wt.image[_e])}}}y(D)&&v(t.TEXTURE_CUBE_MAP),me.__version=Se.version,D.onUpdate&&D.onUpdate(D)}B.__version=D.version}function qe(B,D,Q,pe,Se,me){const ut=s.convert(Q.format,Q.colorSpace),ke=s.convert(Q.type),ot=w(Q.internalFormat,ut,ke,Q.colorSpace),yt=r.get(D),Te=r.get(Q);if(Te.__renderTarget=D,!yt.__hasExternalTextures){const Be=Math.max(1,D.width>>me),at=Math.max(1,D.height>>me);Se===t.TEXTURE_3D||Se===t.TEXTURE_2D_ARRAY?n.texImage3D(Se,me,ot,Be,at,D.depth,0,ut,ke,null):n.texImage2D(Se,me,ot,Be,at,0,ut,ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,B),mt(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,Se,Te.__webglTexture,0,H(D)):(Se===t.TEXTURE_2D||Se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,Se,Te.__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ie(B,D,Q){if(t.bindRenderbuffer(t.RENDERBUFFER,B),D.depthBuffer){const pe=D.depthTexture,Se=pe&&pe.isDepthTexture?pe.type:null,me=M(D.stencilBuffer,Se),ut=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;mt(D)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,H(D),me,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,H(D),me,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,me,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ut,t.RENDERBUFFER,B)}else{const pe=D.textures;for(let Se=0;Se<pe.length;Se++){const me=pe[Se],ut=s.convert(me.format,me.colorSpace),ke=s.convert(me.type),ot=w(me.internalFormat,ut,ke,me.colorSpace);mt(D)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,H(D),ot,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,H(D),ot,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ot,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(B,D,Q){const pe=D.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,B),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(D.depthTexture);if(Se.__renderTarget=D,(!Se.__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),pe){if(Se.__webglInit===void 0&&(Se.__webglInit=!0,D.depthTexture.addEventListener("dispose",T)),Se.__webglTexture===void 0){Se.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),fe(t.TEXTURE_CUBE_MAP,D.depthTexture);const yt=s.convert(D.depthTexture.format),Te=s.convert(D.depthTexture.type);let Be;D.depthTexture.format===Yo?Be=t.DEPTH_COMPONENT24:D.depthTexture.format===Ml&&(Be=t.DEPTH24_STENCIL8);for(let at=0;at<6;at++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,Be,D.width,D.height,0,yt,Te,null)}}else Y(D.depthTexture,0);const me=Se.__webglTexture,ut=H(D),ke=pe?t.TEXTURE_CUBE_MAP_POSITIVE_X+Q:t.TEXTURE_2D,ot=D.depthTexture.format===Ml?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(D.depthTexture.format===Yo)mt(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ot,ke,me,0,ut):t.framebufferTexture2D(t.FRAMEBUFFER,ot,ke,me,0);else if(D.depthTexture.format===Ml)mt(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ot,ke,me,0,ut):t.framebufferTexture2D(t.FRAMEBUFFER,ot,ke,me,0);else throw new Error("Unknown depthTexture format")}function ze(B){const D=r.get(B),Q=B.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==B.depthTexture){const pe=B.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),pe){const Se=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,pe.removeEventListener("dispose",Se)};pe.addEventListener("dispose",Se),D.__depthDisposeCallback=Se}D.__boundDepthTexture=pe}if(B.depthTexture&&!D.__autoAllocateDepthBuffer)if(Q)for(let pe=0;pe<6;pe++)be(D.__webglFramebuffer[pe],B,pe);else{const pe=B.texture.mipmaps;pe&&pe.length>0?be(D.__webglFramebuffer[0],B,0):be(D.__webglFramebuffer,B,0)}else if(Q){D.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)if(n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[pe]),D.__webglDepthbuffer[pe]===void 0)D.__webglDepthbuffer[pe]=t.createRenderbuffer(),ie(D.__webglDepthbuffer[pe],B,!1);else{const Se=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=D.__webglDepthbuffer[pe];t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,me)}}else{const pe=B.texture.mipmaps;if(pe&&pe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=t.createRenderbuffer(),ie(D.__webglDepthbuffer,B,!1);else{const Se=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=D.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,me)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(B,D,Q){const pe=r.get(B);D!==void 0&&qe(pe.__webglFramebuffer,B,B.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Q!==void 0&&ze(B)}function Ye(B){const D=B.texture,Q=r.get(B),pe=r.get(D);B.addEventListener("dispose",I);const Se=B.textures,me=B.isWebGLCubeRenderTarget===!0,ut=Se.length>1;if(ut||(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=D.version,o.memory.textures++),me){Q.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer[ke]=[];for(let ot=0;ot<D.mipmaps.length;ot++)Q.__webglFramebuffer[ke][ot]=t.createFramebuffer()}else Q.__webglFramebuffer[ke]=t.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer=[];for(let ke=0;ke<D.mipmaps.length;ke++)Q.__webglFramebuffer[ke]=t.createFramebuffer()}else Q.__webglFramebuffer=t.createFramebuffer();if(ut)for(let ke=0,ot=Se.length;ke<ot;ke++){const yt=r.get(Se[ke]);yt.__webglTexture===void 0&&(yt.__webglTexture=t.createTexture(),o.memory.textures++)}if(B.samples>0&&mt(B)===!1){Q.__webglMultisampledFramebuffer=t.createFramebuffer(),Q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let ke=0;ke<Se.length;ke++){const ot=Se[ke];Q.__webglColorRenderbuffer[ke]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Q.__webglColorRenderbuffer[ke]);const yt=s.convert(ot.format,ot.colorSpace),Te=s.convert(ot.type),Be=w(ot.internalFormat,yt,Te,ot.colorSpace,B.isXRRenderTarget===!0),at=H(B);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,Be,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,Q.__webglColorRenderbuffer[ke])}t.bindRenderbuffer(t.RENDERBUFFER,null),B.depthBuffer&&(Q.__webglDepthRenderbuffer=t.createRenderbuffer(),ie(Q.__webglDepthRenderbuffer,B,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(me){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),fe(t.TEXTURE_CUBE_MAP,D);for(let ke=0;ke<6;ke++)if(D.mipmaps&&D.mipmaps.length>0)for(let ot=0;ot<D.mipmaps.length;ot++)qe(Q.__webglFramebuffer[ke][ot],B,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,ot);else qe(Q.__webglFramebuffer[ke],B,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);y(D)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ut){for(let ke=0,ot=Se.length;ke<ot;ke++){const yt=Se[ke],Te=r.get(yt);let Be=t.TEXTURE_2D;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(Be=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,Te.__webglTexture),fe(Be,yt),qe(Q.__webglFramebuffer,B,yt,t.COLOR_ATTACHMENT0+ke,Be,0),y(yt)&&v(Be)}n.unbindTexture()}else{let ke=t.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(ke=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ke,pe.__webglTexture),fe(ke,D),D.mipmaps&&D.mipmaps.length>0)for(let ot=0;ot<D.mipmaps.length;ot++)qe(Q.__webglFramebuffer[ot],B,D,t.COLOR_ATTACHMENT0,ke,ot);else qe(Q.__webglFramebuffer,B,D,t.COLOR_ATTACHMENT0,ke,0);y(D)&&v(ke),n.unbindTexture()}B.depthBuffer&&ze(B)}function de(B){const D=B.textures;for(let Q=0,pe=D.length;Q<pe;Q++){const Se=D[Q];if(y(Se)){const me=S(B),ut=r.get(Se).__webglTexture;n.bindTexture(me,ut),v(me),n.unbindTexture()}}}const we=[],xe=[];function Le(B){if(B.samples>0){if(mt(B)===!1){const D=B.textures,Q=B.width,pe=B.height;let Se=t.COLOR_BUFFER_BIT;const me=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ut=r.get(B),ke=D.length>1;if(ke)for(let yt=0;yt<D.length;yt++)n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ut.__webglMultisampledFramebuffer);const ot=B.texture.mipmaps;ot&&ot.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglFramebuffer);for(let yt=0;yt<D.length;yt++){if(B.resolveDepthBuffer&&(B.depthBuffer&&(Se|=t.DEPTH_BUFFER_BIT),B.stencilBuffer&&B.resolveStencilBuffer&&(Se|=t.STENCIL_BUFFER_BIT)),ke){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ut.__webglColorRenderbuffer[yt]);const Te=r.get(D[yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Te,0)}t.blitFramebuffer(0,0,Q,pe,0,0,Q,pe,Se,t.NEAREST),l===!0&&(we.length=0,xe.length=0,we.push(t.COLOR_ATTACHMENT0+yt),B.depthBuffer&&B.resolveDepthBuffer===!1&&(we.push(me),xe.push(me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,xe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,we))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ke)for(let yt=0;yt<D.length;yt++){n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,ut.__webglColorRenderbuffer[yt]);const Te=r.get(D[yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,Te,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglMultisampledFramebuffer)}else if(B.depthBuffer&&B.resolveDepthBuffer===!1&&l){const D=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[D])}}}function H(B){return Math.min(i.maxSamples,B.samples)}function mt(B){const D=r.get(B);return B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function je(B){const D=o.render.frame;c.get(B)!==D&&(c.set(B,D),B.update())}function vt(B,D){const Q=B.colorSpace,pe=B.format,Se=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||Q!==Rc&&Q!==ga&&(Vt.getTransfer(Q)===en?(pe!==Kr||Se!==oi)&&Ve("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):ht("WebGLTextures: Unsupported texture color space:",Q)),D}function Oe(B){return typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement?(u.width=B.naturalWidth||B.width,u.height=B.naturalHeight||B.height):typeof VideoFrame<"u"&&B instanceof VideoFrame?(u.width=B.displayWidth,u.height=B.displayHeight):(u.width=B.width,u.height=B.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=U,this.setTexture2D=Y,this.setTexture2DArray=K,this.setTexture3D=q,this.setTextureCube=F,this.rebindTextures=ve,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=de,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=ze,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=mt,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function cW(t,e){function n(r,i=ga){let s;const o=Vt.getTransfer(i);if(r===oi)return t.UNSIGNED_BYTE;if(r===aS)return t.UNSIGNED_SHORT_4_4_4_4;if(r===lS)return t.UNSIGNED_SHORT_5_5_5_1;if(r===U2)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===z2)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===k2)return t.BYTE;if(r===F2)return t.SHORT;if(r===Fd)return t.UNSIGNED_SHORT;if(r===oS)return t.INT;if(r===Rs)return t.UNSIGNED_INT;if(r===ci)return t.FLOAT;if(r===qo)return t.HALF_FLOAT;if(r===B2)return t.ALPHA;if(r===V2)return t.RGB;if(r===Kr)return t.RGBA;if(r===Yo)return t.DEPTH_COMPONENT;if(r===Ml)return t.DEPTH_STENCIL;if(r===uS)return t.RED;if(r===Rg)return t.RED_INTEGER;if(r===Pc)return t.RG;if(r===cS)return t.RG_INTEGER;if(r===fS)return t.RGBA_INTEGER;if(r===Qp||r===em||r===tm||r===nm)if(o===en)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Qp)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===em)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===tm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===nm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Qp)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===em)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===tm)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===nm)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===t_||r===n_||r===r_||r===i_)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===t_)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===n_)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===r_)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===i_)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===s_||r===o_||r===a_||r===l_||r===u_||r===c_||r===f_)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===s_||r===o_)return o===en?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===a_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(r===l_)return s.COMPRESSED_R11_EAC;if(r===u_)return s.COMPRESSED_SIGNED_R11_EAC;if(r===c_)return s.COMPRESSED_RG11_EAC;if(r===f_)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===d_||r===h_||r===p_||r===m_||r===g_||r===v_||r===y_||r===x_||r===__||r===S_||r===w_||r===b_||r===M_||r===E_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===d_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===h_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===p_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===m_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===g_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===v_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===y_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===x_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===__)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===S_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===w_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===b_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===M_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===E_)return o===en?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===A_||r===T_||r===C_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===A_)return o===en?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===T_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===C_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===P_||r===R_||r===I_||r===N_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===P_)return s.COMPRESSED_RED_RGTC1_EXT;if(r===R_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===I_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===N_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Ud?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const ipe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,spe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ope{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new K2(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Is({vertexShader:ipe,fragmentShader:spe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ir(new dh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ape extends Jo{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,h=null,m=null,g=null;const x=typeof XRWebGLBinding<"u",y=new ope,v={},S=n.getContextAttributes();let w=null,M=null;const E=[],T=[],I=new Me;let L=null;const P=new Sr;P.viewport=new cn;const R=new Sr;R.viewport=new cn;const k=[P,R],U=new QH;let V=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let ye=E[ae];return ye===void 0&&(ye=new Jy,E[ae]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(ae){let ye=E[ae];return ye===void 0&&(ye=new Jy,E[ae]=ye),ye.getGripSpace()},this.getHand=function(ae){let ye=E[ae];return ye===void 0&&(ye=new Jy,E[ae]=ye),ye.getHandSpace()};function Y(ae){const ye=T.indexOf(ae.inputSource);if(ye===-1)return;const qe=E[ye];qe!==void 0&&(qe.update(ae.inputSource,ae.frame,u||o),qe.dispatchEvent({type:ae.type,data:ae.inputSource}))}function K(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",K),i.removeEventListener("inputsourceschange",q);for(let ae=0;ae<E.length;ae++){const ye=T[ae];ye!==null&&(T[ae]=null,E[ae].disconnect(ye))}V=null,X=null,y.reset();for(const ae in v)delete v[ae];e.setRenderTarget(w),m=null,h=null,f=null,i=null,M=null,ct.stop(),r.isPresenting=!1,e.setPixelRatio(L),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&Ve("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,r.isPresenting===!0&&Ve("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f===null&&x&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",K),i.addEventListener("inputsourceschange",q),S.xrCompatible!==!0&&await n.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(I),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let qe=null,ie=null,be=null;S.depth&&(be=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,qe=S.stencil?Ml:Yo,ie=S.stencil?Ud:Rs);const ze={colorFormat:n.RGBA8,depthFormat:be,scaleFactor:s};f=this.getBinding(),h=f.createProjectionLayer(ze),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),M=new es(h.textureWidth,h.textureHeight,{format:Kr,type:oi,depthTexture:new Wd(h.textureWidth,h.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,qe),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const qe={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,qe),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new es(m.framebufferWidth,m.framebufferHeight,{format:Kr,type:oi,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ct.setContext(i),ct.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function q(ae){for(let ye=0;ye<ae.removed.length;ye++){const qe=ae.removed[ye],ie=T.indexOf(qe);ie>=0&&(T[ie]=null,E[ie].disconnect(qe))}for(let ye=0;ye<ae.added.length;ye++){const qe=ae.added[ye];let ie=T.indexOf(qe);if(ie===-1){for(let ze=0;ze<E.length;ze++)if(ze>=T.length){T.push(qe),ie=ze;break}else if(T[ze]===null){T[ze]=qe,ie=ze;break}if(ie===-1)break}const be=E[ie];be&&be.connect(qe)}}const F=new j,$=new j;function G(ae,ye,qe){F.setFromMatrixPosition(ye.matrixWorld),$.setFromMatrixPosition(qe.matrixWorld);const ie=F.distanceTo($),be=ye.projectionMatrix.elements,ze=qe.projectionMatrix.elements,ve=be[14]/(be[10]-1),Ye=be[14]/(be[10]+1),de=(be[9]+1)/be[5],we=(be[9]-1)/be[5],xe=(be[8]-1)/be[0],Le=(ze[8]+1)/ze[0],H=ve*xe,mt=ve*Le,je=ie/(-xe+Le),vt=je*-xe;if(ye.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(vt),ae.translateZ(je),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),be[10]===-1)ae.projectionMatrix.copy(ye.projectionMatrix),ae.projectionMatrixInverse.copy(ye.projectionMatrixInverse);else{const Oe=ve+je,B=Ye+je,D=H-vt,Q=mt+(ie-vt),pe=de*Ye/B*Oe,Se=we*Ye/B*Oe;ae.projectionMatrix.makePerspective(D,Q,pe,Se,Oe,B),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function Z(ae,ye){ye===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(ye.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let ye=ae.near,qe=ae.far;y.texture!==null&&(y.depthNear>0&&(ye=y.depthNear),y.depthFar>0&&(qe=y.depthFar)),U.near=R.near=P.near=ye,U.far=R.far=P.far=qe,(V!==U.near||X!==U.far)&&(i.updateRenderState({depthNear:U.near,depthFar:U.far}),V=U.near,X=U.far),U.layers.mask=ae.layers.mask|6,P.layers.mask=U.layers.mask&3,R.layers.mask=U.layers.mask&5;const ie=ae.parent,be=U.cameras;Z(U,ie);for(let ze=0;ze<be.length;ze++)Z(be[ze],ie);be.length===2?G(U,P,R):U.projectionMatrix.copy(P.projectionMatrix),fe(ae,U,ie)};function fe(ae,ye,qe){qe===null?ae.matrix.copy(ye.matrixWorld):(ae.matrix.copy(qe.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(ye.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(ye.projectionMatrix),ae.projectionMatrixInverse.copy(ye.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Vd*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(ae){l=ae,h!==null&&(h.fixedFoveation=ae),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ae)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(U)},this.getCameraTexture=function(ae){return v[ae]};let Ee=null;function Ge(ae,ye){if(c=ye.getViewerPose(u||o),g=ye,c!==null){const qe=c.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let ie=!1;qe.length!==U.cameras.length&&(U.cameras.length=0,ie=!0);for(let Ye=0;Ye<qe.length;Ye++){const de=qe[Ye];let we=null;if(m!==null)we=m.getViewport(de);else{const Le=f.getViewSubImage(h,de);we=Le.viewport,Ye===0&&(e.setRenderTargetTextures(M,Le.colorTexture,Le.depthStencilTexture),e.setRenderTarget(M))}let xe=k[Ye];xe===void 0&&(xe=new Sr,xe.layers.enable(Ye),xe.viewport=new cn,k[Ye]=xe),xe.matrix.fromArray(de.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(de.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(we.x,we.y,we.width,we.height),Ye===0&&(U.matrix.copy(xe.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),ie===!0&&U.cameras.push(xe)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){f=r.getBinding();const Ye=f.getDepthInformation(qe[0]);Ye&&Ye.isValid&&Ye.texture&&y.init(Ye,i.renderState)}if(be&&be.includes("camera-access")&&x){e.state.unbindTexture(),f=r.getBinding();for(let Ye=0;Ye<qe.length;Ye++){const de=qe[Ye].camera;if(de){let we=v[de];we||(we=new K2,v[de]=we);const xe=f.getCameraImage(de);we.sourceTexture=xe}}}}for(let qe=0;qe<E.length;qe++){const ie=T[qe],be=E[qe];ie!==null&&be!==void 0&&be.update(ie,ye,u||o)}Ee&&Ee(ae,ye),ye.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ye}),g=null}const ct=new sW;ct.setAnimationLoop(Ge),this.setAnimationLoop=function(ae){Ee=ae},this.dispose=function(){}}}const Fu=new is,lpe=new St;function upe(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,aH(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,S,w,M){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),c(y,v)):v.isMeshStandardMaterial?(s(y,v),h(y,v),v.isMeshPhysicalMaterial&&m(y,v,M)):v.isMeshMatcapMaterial?(s(y,v),g(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),x(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,S,w):v.isSpriteMaterial?u(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===hi&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===hi&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const S=e.get(v),w=S.envMap,M=S.envMapRotation;w&&(y.envMap.value=w,Fu.copy(M),Fu.x*=-1,Fu.y*=-1,Fu.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Fu.y*=-1,Fu.z*=-1),y.envMapRotation.value.setFromMatrix4(lpe.makeRotationFromEuler(Fu)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,S,w){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*S,y.scale.value=w*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function m(y,v,S){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===hi&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function x(y,v){const S=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function cpe(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,w){const M=w.program;r.uniformBlockBinding(S,M)}function u(S,w){let M=i[S.id];M===void 0&&(g(S),M=c(S),i[S.id]=M,S.addEventListener("dispose",y));const E=w.program;r.updateUBOMapping(S,E);const T=e.render.frame;s[S.id]!==T&&(h(S),s[S.id]=T)}function c(S){const w=f();S.__bindingPointIndex=w;const M=t.createBuffer(),E=S.__size,T=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,E,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,M),M}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return ht("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const w=i[S.id],M=S.uniforms,E=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let T=0,I=M.length;T<I;T++){const L=Array.isArray(M[T])?M[T]:[M[T]];for(let P=0,R=L.length;P<R;P++){const k=L[P];if(m(k,T,P,E)===!0){const U=k.__offset,V=Array.isArray(k.value)?k.value:[k.value];let X=0;for(let Y=0;Y<V.length;Y++){const K=V[Y],q=x(K);typeof K=="number"||typeof K=="boolean"?(k.__data[0]=K,t.bufferSubData(t.UNIFORM_BUFFER,U+X,k.__data)):K.isMatrix3?(k.__data[0]=K.elements[0],k.__data[1]=K.elements[1],k.__data[2]=K.elements[2],k.__data[3]=0,k.__data[4]=K.elements[3],k.__data[5]=K.elements[4],k.__data[6]=K.elements[5],k.__data[7]=0,k.__data[8]=K.elements[6],k.__data[9]=K.elements[7],k.__data[10]=K.elements[8],k.__data[11]=0):(K.toArray(k.__data,X),X+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,w,M,E){const T=S.value,I=w+"_"+M;if(E[I]===void 0)return typeof T=="number"||typeof T=="boolean"?E[I]=T:E[I]=T.clone(),!0;{const L=E[I];if(typeof T=="number"||typeof T=="boolean"){if(L!==T)return E[I]=T,!0}else if(L.equals(T)===!1)return L.copy(T),!0}return!1}function g(S){const w=S.uniforms;let M=0;const E=16;for(let I=0,L=w.length;I<L;I++){const P=Array.isArray(w[I])?w[I]:[w[I]];for(let R=0,k=P.length;R<k;R++){const U=P[R],V=Array.isArray(U.value)?U.value:[U.value];for(let X=0,Y=V.length;X<Y;X++){const K=V[X],q=x(K),F=M%E,$=F%q.boundary,G=F+$;M+=$,G!==0&&E-G<q.storage&&(M+=E-G),U.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=M,M+=q.storage}}}const T=M%E;return T>0&&(M+=E-T),S.__size=M,S.__cache={},this}function x(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?Ve("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ve("WebGLRenderer: Unsupported uniform value type.",S),w}function y(S){const w=S.target;w.removeEventListener("dispose",y);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function v(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:v}}const fpe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Ao=null;function dpe(){return Ao===null&&(Ao=new oo(fpe,16,16,Pc,qo),Ao.name="DFG_LUT",Ao.minFilter=wn,Ao.magFilter=wn,Ao.wrapS=Pi,Ao.wrapT=Pi,Ao.generateMipmaps=!1,Ao.needsUpdate=!0),Ao}class fW{constructor(e={}){const{canvas:n=iH(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1,outputBufferType:m=oi}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const x=m,y=new Set([fS,cS,Rg]),v=new Set([oi,Rs,Fd,Ud,aS,lS]),S=new Uint32Array(4),w=new Int32Array(4);let M=null,E=null;const T=[],I=[];let L=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ts,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let R=!1;this._outputColorSpace=Ei;let k=0,U=0,V=null,X=-1,Y=null;const K=new cn,q=new cn;let F=null;const $=new Je(0);let G=0,Z=n.width,fe=n.height,Ee=1,Ge=null,ct=null;const ae=new cn(0,0,Z,fe),ye=new cn(0,0,Z,fe);let qe=!1;const ie=new fh;let be=!1,ze=!1;const ve=new St,Ye=new j,de=new cn,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let xe=!1;function Le(){return V===null?Ee:1}let H=r;function mt(z,te){return n.getContext(z,te)}try{const z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Cg}`),n.addEventListener("webglcontextlost",wt,!1),n.addEventListener("webglcontextrestored",tn,!1),n.addEventListener("webglcontextcreationerror",$t,!1),H===null){const te="webgl2";if(H=mt(te,z),H===null)throw mt(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw ht("WebGLRenderer: "+z.message),z}let je,vt,Oe,B,D,Q,pe,Se,me,ut,ke,ot,yt,Te,Be,at,ft,Ue,It,J,$e,Ie,Ze,Ce;function _e(){je=new hde(H),je.init(),Ie=new cW(H,je),vt=new ide(H,je,e,Ie),Oe=new npe(H,je),vt.reversedDepthBuffer&&h&&Oe.buffers.depth.setReversed(!0),B=new gde(H),D=new Vhe,Q=new rpe(H,je,Oe,D,vt,Ie,B),pe=new ode(P),Se=new dde(P),me=new _ue(H),Ze=new nde(H,me),ut=new pde(H,me,B,Ze),ke=new yde(H,ut,me,B),It=new vde(H,vt,Q),at=new sde(D),ot=new Bhe(P,pe,Se,je,vt,Ze,at),yt=new upe(P,D),Te=new Hhe,Be=new Yhe(je),Ue=new tde(P,pe,Se,Oe,ke,g,l),ft=new epe(P,ke,vt),Ce=new cpe(H,B,vt,Oe),J=new rde(H,je,B),$e=new mde(H,je,B),B.programs=ot.programs,P.capabilities=vt,P.extensions=je,P.properties=D,P.renderLists=Te,P.shadowMap=ft,P.state=Oe,P.info=B}_e(),x!==oi&&(L=new _de(x,n.width,n.height,i,s));const Fe=new ape(P,H);this.xr=Fe,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const z=je.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=je.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return Ee},this.setPixelRatio=function(z){z!==void 0&&(Ee=z,this.setSize(Z,fe,!1))},this.getSize=function(z){return z.set(Z,fe)},this.setSize=function(z,te,ue=!0){if(Fe.isPresenting){Ve("WebGLRenderer: Can't change size while VR device is presenting.");return}Z=z,fe=te,n.width=Math.floor(z*Ee),n.height=Math.floor(te*Ee),ue===!0&&(n.style.width=z+"px",n.style.height=te+"px"),L!==null&&L.setSize(n.width,n.height),this.setViewport(0,0,z,te)},this.getDrawingBufferSize=function(z){return z.set(Z*Ee,fe*Ee).floor()},this.setDrawingBufferSize=function(z,te,ue){Z=z,fe=te,Ee=ue,n.width=Math.floor(z*ue),n.height=Math.floor(te*ue),this.setViewport(0,0,z,te)},this.setEffects=function(z){if(x===oi){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(z){for(let te=0;te<z.length;te++)if(z[te].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}L.setEffects(z||[])},this.getCurrentViewport=function(z){return z.copy(K)},this.getViewport=function(z){return z.copy(ae)},this.setViewport=function(z,te,ue,le){z.isVector4?ae.set(z.x,z.y,z.z,z.w):ae.set(z,te,ue,le),Oe.viewport(K.copy(ae).multiplyScalar(Ee).round())},this.getScissor=function(z){return z.copy(ye)},this.setScissor=function(z,te,ue,le){z.isVector4?ye.set(z.x,z.y,z.z,z.w):ye.set(z,te,ue,le),Oe.scissor(q.copy(ye).multiplyScalar(Ee).round())},this.getScissorTest=function(){return qe},this.setScissorTest=function(z){Oe.setScissorTest(qe=z)},this.setOpaqueSort=function(z){Ge=z},this.setTransparentSort=function(z){ct=z},this.getClearColor=function(z){return z.copy(Ue.getClearColor())},this.setClearColor=function(){Ue.setClearColor(...arguments)},this.getClearAlpha=function(){return Ue.getClearAlpha()},this.setClearAlpha=function(){Ue.setClearAlpha(...arguments)},this.clear=function(z=!0,te=!0,ue=!0){let le=0;if(z){let re=!1;if(V!==null){const De=V.texture.format;re=y.has(De)}if(re){const De=V.texture.type,We=v.has(De),Ae=Ue.getClearColor(),Re=Ue.getClearAlpha(),et=Ae.r,it=Ae.g,Qe=Ae.b;We?(S[0]=et,S[1]=it,S[2]=Qe,S[3]=Re,H.clearBufferuiv(H.COLOR,0,S)):(w[0]=et,w[1]=it,w[2]=Qe,w[3]=Re,H.clearBufferiv(H.COLOR,0,w))}else le|=H.COLOR_BUFFER_BIT}te&&(le|=H.DEPTH_BUFFER_BIT),ue&&(le|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",wt,!1),n.removeEventListener("webglcontextrestored",tn,!1),n.removeEventListener("webglcontextcreationerror",$t,!1),Ue.dispose(),Te.dispose(),Be.dispose(),D.dispose(),pe.dispose(),Se.dispose(),ke.dispose(),Ze.dispose(),Ce.dispose(),ot.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",a0),Fe.removeEventListener("sessionend",$a),ea.stop()};function wt(z){z.preventDefault(),Vm("WebGLRenderer: Context Lost."),R=!0}function tn(){Vm("WebGLRenderer: Context Restored."),R=!1;const z=B.autoReset,te=ft.enabled,ue=ft.autoUpdate,le=ft.needsUpdate,re=ft.type;_e(),B.autoReset=z,ft.enabled=te,ft.autoUpdate=ue,ft.needsUpdate=le,ft.type=re}function $t(z){ht("WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Bi(z){const te=z.target;te.removeEventListener("dispose",Bi),Us(te)}function Us(z){kw(z),D.remove(z)}function kw(z){const te=D.get(z).programs;te!==void 0&&(te.forEach(function(ue){ot.releaseProgram(ue)}),z.isShaderMaterial&&ot.releaseShaderCache(z))}this.renderBufferDirect=function(z,te,ue,le,re,De){te===null&&(te=we);const We=re.isMesh&&re.matrixWorld.determinant()<0,Ae=Fw(z,te,ue,le,re);Oe.setMaterial(le,We);let Re=ue.index,et=1;if(le.wireframe===!0){if(Re=ut.getWireframeAttribute(ue),Re===void 0)return;et=2}const it=ue.drawRange,Qe=ue.attributes.position;let bt=it.start*et,zt=(it.start+it.count)*et;De!==null&&(bt=Math.max(bt,De.start*et),zt=Math.min(zt,(De.start+De.count)*et)),Re!==null?(bt=Math.max(bt,0),zt=Math.min(zt,Re.count)):Qe!=null&&(bt=Math.max(bt,0),zt=Math.min(zt,Qe.count));const Dt=zt-bt;if(Dt<0||Dt===1/0)return;Ze.setup(re,le,Ae,ue,Re);let ln,Qt=J;if(Re!==null&&(ln=me.get(Re),Qt=$e,Qt.setIndex(ln)),re.isMesh)le.wireframe===!0?(Oe.setLineWidth(le.wireframeLinewidth*Le()),Qt.setMode(H.LINES)):Qt.setMode(H.TRIANGLES);else if(re.isLine){let gt=le.linewidth;gt===void 0&&(gt=1),Oe.setLineWidth(gt*Le()),re.isLineSegments?Qt.setMode(H.LINES):re.isLineLoop?Qt.setMode(H.LINE_LOOP):Qt.setMode(H.LINE_STRIP)}else re.isPoints?Qt.setMode(H.POINTS):re.isSprite&&Qt.setMode(H.TRIANGLES);if(re.isBatchedMesh)if(re._multiDrawInstances!==null)Bd("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Qt.renderMultiDrawInstances(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount,re._multiDrawInstances);else if(je.get("WEBGL_multi_draw"))Qt.renderMultiDraw(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount);else{const gt=re._multiDrawStarts,jt=re._multiDrawCounts,Bt=re._multiDrawCount,vn=Re?me.get(Re).bytesPerElement:1,Xa=D.get(le).currentProgram.getUniforms();for(let ei=0;ei<Bt;ei++)Xa.setValue(H,"_gl_DrawID",ei),Qt.render(gt[ei]/vn,jt[ei])}else if(re.isInstancedMesh)Qt.renderInstances(bt,Dt,re.count);else if(ue.isInstancedBufferGeometry){const gt=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,jt=Math.min(ue.instanceCount,gt);Qt.renderInstances(bt,Dt,jt)}else Qt.render(bt,Dt)};function o0(z,te,ue){z.transparent===!0&&z.side===Oo&&z.forceSinglePass===!1?(z.side=hi,z.needsUpdate=!0,Zc(z,te,ue),z.side=Ia,z.needsUpdate=!0,Zc(z,te,ue),z.side=Oo):Zc(z,te,ue)}this.compile=function(z,te,ue=null){ue===null&&(ue=z),E=Be.get(ue),E.init(te),I.push(E),ue.traverseVisible(function(re){re.isLight&&re.layers.test(te.layers)&&(E.pushLight(re),re.castShadow&&E.pushShadow(re))}),z!==ue&&z.traverseVisible(function(re){re.isLight&&re.layers.test(te.layers)&&(E.pushLight(re),re.castShadow&&E.pushShadow(re))}),E.setupLights();const le=new Set;return z.traverse(function(re){if(!(re.isMesh||re.isPoints||re.isLine||re.isSprite))return;const De=re.material;if(De)if(Array.isArray(De))for(let We=0;We<De.length;We++){const Ae=De[We];o0(Ae,ue,re),le.add(Ae)}else o0(De,ue,re),le.add(De)}),E=I.pop(),le},this.compileAsync=function(z,te,ue=null){const le=this.compile(z,te,ue);return new Promise(re=>{function De(){if(le.forEach(function(We){D.get(We).currentProgram.isReady()&&le.delete(We)}),le.size===0){re(z);return}setTimeout(De,10)}je.get("KHR_parallel_shader_compile")!==null?De():setTimeout(De,10)})};let Yc=null;function bh(z){Yc&&Yc(z)}function a0(){ea.stop()}function $a(){ea.start()}const ea=new sW;ea.setAnimationLoop(bh),typeof self<"u"&&ea.setContext(self),this.setAnimationLoop=function(z){Yc=z,Fe.setAnimationLoop(z),z===null?ea.stop():ea.start()},Fe.addEventListener("sessionstart",a0),Fe.addEventListener("sessionend",$a),this.render=function(z,te){if(te!==void 0&&te.isCamera!==!0){ht("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;const ue=Fe.enabled===!0&&Fe.isPresenting===!0,le=L!==null&&(V===null||ue)&&L.begin(P,V);if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(L===null||L.isCompositing()===!1)&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(te),te=Fe.getCamera()),z.isScene===!0&&z.onBeforeRender(P,z,te,V),E=Be.get(z,I.length),E.init(te),I.push(E),ve.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),ie.setFromProjectionMatrix(ve,Ki,te.reversedDepth),ze=this.localClippingEnabled,be=at.init(this.clippingPlanes,ze),M=Te.get(z,T.length),M.init(),T.push(M),Fe.enabled===!0&&Fe.isPresenting===!0){const We=P.xr.getDepthSensingMesh();We!==null&&Mh(We,te,-1/0,P.sortObjects)}Mh(z,te,0,P.sortObjects),M.finish(),P.sortObjects===!0&&M.sort(Ge,ct),xe=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,xe&&Ue.addToRenderList(M,z),this.info.render.frame++,be===!0&&at.beginShadows();const re=E.state.shadowsArray;if(ft.render(re,z,te),be===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset(),(le&&L.hasRenderPass())===!1){const We=M.opaque,Ae=M.transmissive;if(E.setupLights(),te.isArrayCamera){const Re=te.cameras;if(Ae.length>0)for(let et=0,it=Re.length;et<it;et++){const Qe=Re[et];u0(We,Ae,z,Qe)}xe&&Ue.render(z);for(let et=0,it=Re.length;et<it;et++){const Qe=Re[et];l0(M,z,Qe,Qe.viewport)}}else Ae.length>0&&u0(We,Ae,z,te),xe&&Ue.render(z),l0(M,z,te)}V!==null&&U===0&&(Q.updateMultisampleRenderTarget(V),Q.updateRenderTargetMipmap(V)),le&&L.end(P),z.isScene===!0&&z.onAfterRender(P,z,te),Ze.resetDefaultState(),X=-1,Y=null,I.pop(),I.length>0?(E=I[I.length-1],be===!0&&at.setGlobalState(P.clippingPlanes,E.state.camera)):E=null,T.pop(),T.length>0?M=T[T.length-1]:M=null};function Mh(z,te,ue,le){if(z.visible===!1)return;if(z.layers.test(te.layers)){if(z.isGroup)ue=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(te);else if(z.isLight)E.pushLight(z),z.castShadow&&E.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||ie.intersectsSprite(z)){le&&de.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ve);const We=ke.update(z),Ae=z.material;Ae.visible&&M.push(z,We,Ae,ue,de.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||ie.intersectsObject(z))){const We=ke.update(z),Ae=z.material;if(le&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),de.copy(z.boundingSphere.center)):(We.boundingSphere===null&&We.computeBoundingSphere(),de.copy(We.boundingSphere.center)),de.applyMatrix4(z.matrixWorld).applyMatrix4(ve)),Array.isArray(Ae)){const Re=We.groups;for(let et=0,it=Re.length;et<it;et++){const Qe=Re[et],bt=Ae[Qe.materialIndex];bt&&bt.visible&&M.push(z,We,bt,ue,de.z,Qe)}}else Ae.visible&&M.push(z,We,Ae,ue,de.z,null)}}const De=z.children;for(let We=0,Ae=De.length;We<Ae;We++)Mh(De[We],te,ue,le)}function l0(z,te,ue,le){const{opaque:re,transmissive:De,transparent:We}=z;E.setupLightsView(ue),be===!0&&at.setGlobalState(P.clippingPlanes,ue),le&&Oe.viewport(K.copy(le)),re.length>0&&Kc(re,te,ue),De.length>0&&Kc(De,te,ue),We.length>0&&Kc(We,te,ue),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function u0(z,te,ue,le){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;if(E.state.transmissionRenderTarget[le.id]===void 0){const bt=je.has("EXT_color_buffer_half_float")||je.has("EXT_color_buffer_float");E.state.transmissionRenderTarget[le.id]=new es(1,1,{generateMipmaps:!0,type:bt?qo:oi,minFilter:Do,samples:vt.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Vt.workingColorSpace})}const De=E.state.transmissionRenderTarget[le.id],We=le.viewport||K;De.setSize(We.z*P.transmissionResolutionScale,We.w*P.transmissionResolutionScale);const Ae=P.getRenderTarget(),Re=P.getActiveCubeFace(),et=P.getActiveMipmapLevel();P.setRenderTarget(De),P.getClearColor($),G=P.getClearAlpha(),G<1&&P.setClearColor(16777215,.5),P.clear(),xe&&Ue.render(ue);const it=P.toneMapping;P.toneMapping=Ts;const Qe=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),E.setupLightsView(le),be===!0&&at.setGlobalState(P.clippingPlanes,le),Kc(z,ue,le),Q.updateMultisampleRenderTarget(De),Q.updateRenderTargetMipmap(De),je.has("WEBGL_multisampled_render_to_texture")===!1){let bt=!1;for(let zt=0,Dt=te.length;zt<Dt;zt++){const ln=te[zt],{object:Qt,geometry:gt,material:jt,group:Bt}=ln;if(jt.side===Oo&&Qt.layers.test(le.layers)){const vn=jt.side;jt.side=hi,jt.needsUpdate=!0,c0(Qt,ue,le,gt,jt,Bt),jt.side=vn,jt.needsUpdate=!0,bt=!0}}bt===!0&&(Q.updateMultisampleRenderTarget(De),Q.updateRenderTargetMipmap(De))}P.setRenderTarget(Ae,Re,et),P.setClearColor($,G),Qe!==void 0&&(le.viewport=Qe),P.toneMapping=it}function Kc(z,te,ue){const le=te.isScene===!0?te.overrideMaterial:null;for(let re=0,De=z.length;re<De;re++){const We=z[re],{object:Ae,geometry:Re,group:et}=We;let it=We.material;it.allowOverride===!0&&le!==null&&(it=le),Ae.layers.test(ue.layers)&&c0(Ae,te,ue,Re,it,et)}}function c0(z,te,ue,le,re,De){z.onBeforeRender(P,te,ue,le,re,De),z.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),re.onBeforeRender(P,te,ue,le,z,De),re.transparent===!0&&re.side===Oo&&re.forceSinglePass===!1?(re.side=hi,re.needsUpdate=!0,P.renderBufferDirect(ue,te,le,re,z,De),re.side=Ia,re.needsUpdate=!0,P.renderBufferDirect(ue,te,le,re,z,De),re.side=Oo):P.renderBufferDirect(ue,te,le,re,z,De),z.onAfterRender(P,te,ue,le,re,De)}function Zc(z,te,ue){te.isScene!==!0&&(te=we);const le=D.get(z),re=E.state.lights,De=E.state.shadowsArray,We=re.state.version,Ae=ot.getParameters(z,re.state,De,te,ue),Re=ot.getProgramCacheKey(Ae);let et=le.programs;le.environment=z.isMeshStandardMaterial?te.environment:null,le.fog=te.fog,le.envMap=(z.isMeshStandardMaterial?Se:pe).get(z.envMap||le.environment),le.envMapRotation=le.environment!==null&&z.envMap===null?te.environmentRotation:z.envMapRotation,et===void 0&&(z.addEventListener("dispose",Bi),et=new Map,le.programs=et);let it=et.get(Re);if(it!==void 0){if(le.currentProgram===it&&le.lightsStateVersion===We)return f0(z,Ae),it}else Ae.uniforms=ot.getUniforms(z),z.onBeforeCompile(Ae,P),it=ot.acquireProgram(Ae,Re),et.set(Re,it),le.uniforms=Ae.uniforms;const Qe=le.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(Qe.clippingPlanes=at.uniform),f0(z,Ae),le.needsLights=zw(z),le.lightsStateVersion=We,le.needsLights&&(Qe.ambientLightColor.value=re.state.ambient,Qe.lightProbe.value=re.state.probe,Qe.directionalLights.value=re.state.directional,Qe.directionalLightShadows.value=re.state.directionalShadow,Qe.spotLights.value=re.state.spot,Qe.spotLightShadows.value=re.state.spotShadow,Qe.rectAreaLights.value=re.state.rectArea,Qe.ltc_1.value=re.state.rectAreaLTC1,Qe.ltc_2.value=re.state.rectAreaLTC2,Qe.pointLights.value=re.state.point,Qe.pointLightShadows.value=re.state.pointShadow,Qe.hemisphereLights.value=re.state.hemi,Qe.directionalShadowMap.value=re.state.directionalShadowMap,Qe.directionalShadowMatrix.value=re.state.directionalShadowMatrix,Qe.spotShadowMap.value=re.state.spotShadowMap,Qe.spotLightMatrix.value=re.state.spotLightMatrix,Qe.spotLightMap.value=re.state.spotLightMap,Qe.pointShadowMap.value=re.state.pointShadowMap,Qe.pointShadowMatrix.value=re.state.pointShadowMatrix),le.currentProgram=it,le.uniformsList=null,it}function Eh(z){if(z.uniformsList===null){const te=z.currentProgram.getUniforms();z.uniformsList=Qy.seqWithValue(te.seq,z.uniforms)}return z.uniformsList}function f0(z,te){const ue=D.get(z);ue.outputColorSpace=te.outputColorSpace,ue.batching=te.batching,ue.batchingColor=te.batchingColor,ue.instancing=te.instancing,ue.instancingColor=te.instancingColor,ue.instancingMorph=te.instancingMorph,ue.skinning=te.skinning,ue.morphTargets=te.morphTargets,ue.morphNormals=te.morphNormals,ue.morphColors=te.morphColors,ue.morphTargetsCount=te.morphTargetsCount,ue.numClippingPlanes=te.numClippingPlanes,ue.numIntersection=te.numClipIntersection,ue.vertexAlphas=te.vertexAlphas,ue.vertexTangents=te.vertexTangents,ue.toneMapping=te.toneMapping}function Fw(z,te,ue,le,re){te.isScene!==!0&&(te=we),Q.resetTextureUnits();const De=te.fog,We=le.isMeshStandardMaterial?te.environment:null,Ae=V===null?P.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Rc,Re=(le.isMeshStandardMaterial?Se:pe).get(le.envMap||We),et=le.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,it=!!ue.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Qe=!!ue.morphAttributes.position,bt=!!ue.morphAttributes.normal,zt=!!ue.morphAttributes.color;let Dt=Ts;le.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Dt=P.toneMapping);const ln=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Qt=ln!==void 0?ln.length:0,gt=D.get(le),jt=E.state.lights;if(be===!0&&(ze===!0||z!==Y)){const Zn=z===Y&&le.id===X;at.setState(le,z,Zn)}let Bt=!1;le.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==jt.state.version||gt.outputColorSpace!==Ae||re.isBatchedMesh&&gt.batching===!1||!re.isBatchedMesh&&gt.batching===!0||re.isBatchedMesh&&gt.batchingColor===!0&&re.colorTexture===null||re.isBatchedMesh&&gt.batchingColor===!1&&re.colorTexture!==null||re.isInstancedMesh&&gt.instancing===!1||!re.isInstancedMesh&&gt.instancing===!0||re.isSkinnedMesh&&gt.skinning===!1||!re.isSkinnedMesh&&gt.skinning===!0||re.isInstancedMesh&&gt.instancingColor===!0&&re.instanceColor===null||re.isInstancedMesh&&gt.instancingColor===!1&&re.instanceColor!==null||re.isInstancedMesh&&gt.instancingMorph===!0&&re.morphTexture===null||re.isInstancedMesh&&gt.instancingMorph===!1&&re.morphTexture!==null||gt.envMap!==Re||le.fog===!0&&gt.fog!==De||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==at.numPlanes||gt.numIntersection!==at.numIntersection)||gt.vertexAlphas!==et||gt.vertexTangents!==it||gt.morphTargets!==Qe||gt.morphNormals!==bt||gt.morphColors!==zt||gt.toneMapping!==Dt||gt.morphTargetsCount!==Qt)&&(Bt=!0):(Bt=!0,gt.__version=le.version);let vn=gt.currentProgram;Bt===!0&&(vn=Zc(le,te,re));let Xa=!1,ei=!1,hu=!1;const Zt=vn.getUniforms(),sr=gt.uniforms;if(Oe.useProgram(vn.program)&&(Xa=!0,ei=!0,hu=!0),le.id!==X&&(X=le.id,ei=!0),Xa||Y!==z){Oe.buffers.depth.getReversed()&&z.reversedDepth!==!0&&(z._reversedDepth=!0,z.updateProjectionMatrix()),Zt.setValue(H,"projectionMatrix",z.projectionMatrix),Zt.setValue(H,"viewMatrix",z.matrixWorldInverse);const Fr=Zt.map.cameraPosition;Fr!==void 0&&Fr.setValue(H,Ye.setFromMatrixPosition(z.matrixWorld)),vt.logarithmicDepthBuffer&&Zt.setValue(H,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Zt.setValue(H,"isOrthographic",z.isOrthographicCamera===!0),Y!==z&&(Y=z,ei=!0,hu=!0)}if(gt.needsLights&&(jt.state.directionalShadowMap.length>0&&Zt.setValue(H,"directionalShadowMap",jt.state.directionalShadowMap,Q),jt.state.spotShadowMap.length>0&&Zt.setValue(H,"spotShadowMap",jt.state.spotShadowMap,Q),jt.state.pointShadowMap.length>0&&Zt.setValue(H,"pointShadowMap",jt.state.pointShadowMap,Q)),re.isSkinnedMesh){Zt.setOptional(H,re,"bindMatrix"),Zt.setOptional(H,re,"bindMatrixInverse");const Zn=re.skeleton;Zn&&(Zn.boneTexture===null&&Zn.computeBoneTexture(),Zt.setValue(H,"boneTexture",Zn.boneTexture,Q))}re.isBatchedMesh&&(Zt.setOptional(H,re,"batchingTexture"),Zt.setValue(H,"batchingTexture",re._matricesTexture,Q),Zt.setOptional(H,re,"batchingIdTexture"),Zt.setValue(H,"batchingIdTexture",re._indirectTexture,Q),Zt.setOptional(H,re,"batchingColorTexture"),re._colorsTexture!==null&&Zt.setValue(H,"batchingColorTexture",re._colorsTexture,Q));const pr=ue.morphAttributes;if((pr.position!==void 0||pr.normal!==void 0||pr.color!==void 0)&&It.update(re,ue,vn),(ei||gt.receiveShadow!==re.receiveShadow)&&(gt.receiveShadow=re.receiveShadow,Zt.setValue(H,"receiveShadow",re.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(sr.envMap.value=Re,sr.flipEnvMap.value=Re.isCubeTexture&&Re.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&te.environment!==null&&(sr.envMapIntensity.value=te.environmentIntensity),sr.dfgLUT!==void 0&&(sr.dfgLUT.value=dpe()),ei&&(Zt.setValue(H,"toneMappingExposure",P.toneMappingExposure),gt.needsLights&&Uw(sr,hu),De&&le.fog===!0&&yt.refreshFogUniforms(sr,De),yt.refreshMaterialUniforms(sr,le,Ee,fe,E.state.transmissionRenderTarget[z.id]),Qy.upload(H,Eh(gt),sr,Q)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Qy.upload(H,Eh(gt),sr,Q),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Zt.setValue(H,"center",re.center),Zt.setValue(H,"modelViewMatrix",re.modelViewMatrix),Zt.setValue(H,"normalMatrix",re.normalMatrix),Zt.setValue(H,"modelMatrix",re.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const Zn=le.uniformsGroups;for(let Fr=0,Th=Zn.length;Fr<Th;Fr++){const zs=Zn[Fr];Ce.update(zs,vn),Ce.bind(zs,vn)}}return vn}function Uw(z,te){z.ambientLightColor.needsUpdate=te,z.lightProbe.needsUpdate=te,z.directionalLights.needsUpdate=te,z.directionalLightShadows.needsUpdate=te,z.pointLights.needsUpdate=te,z.pointLightShadows.needsUpdate=te,z.spotLights.needsUpdate=te,z.spotLightShadows.needsUpdate=te,z.rectAreaLights.needsUpdate=te,z.hemisphereLights.needsUpdate=te}function zw(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(z,te,ue){const le=D.get(z);le.__autoAllocateDepthBuffer=z.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),D.get(z.texture).__webglTexture=te,D.get(z.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:ue,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(z,te){const ue=D.get(z);ue.__webglFramebuffer=te,ue.__useDefaultFramebuffer=te===void 0};const Bw=H.createFramebuffer();this.setRenderTarget=function(z,te=0,ue=0){V=z,k=te,U=ue;let le=null,re=!1,De=!1;if(z){const Ae=D.get(z);if(Ae.__useDefaultFramebuffer!==void 0){Oe.bindFramebuffer(H.FRAMEBUFFER,Ae.__webglFramebuffer),K.copy(z.viewport),q.copy(z.scissor),F=z.scissorTest,Oe.viewport(K),Oe.scissor(q),Oe.setScissorTest(F),X=-1;return}else if(Ae.__webglFramebuffer===void 0)Q.setupRenderTarget(z);else if(Ae.__hasExternalTextures)Q.rebindTextures(z,D.get(z.texture).__webglTexture,D.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const it=z.depthTexture;if(Ae.__boundDepthTexture!==it){if(it!==null&&D.has(it)&&(z.width!==it.image.width||z.height!==it.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Q.setupDepthRenderbuffer(z)}}const Re=z.texture;(Re.isData3DTexture||Re.isDataArrayTexture||Re.isCompressedArrayTexture)&&(De=!0);const et=D.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(et[te])?le=et[te][ue]:le=et[te],re=!0):z.samples>0&&Q.useMultisampledRTT(z)===!1?le=D.get(z).__webglMultisampledFramebuffer:Array.isArray(et)?le=et[ue]:le=et,K.copy(z.viewport),q.copy(z.scissor),F=z.scissorTest}else K.copy(ae).multiplyScalar(Ee).floor(),q.copy(ye).multiplyScalar(Ee).floor(),F=qe;if(ue!==0&&(le=Bw),Oe.bindFramebuffer(H.FRAMEBUFFER,le)&&Oe.drawBuffers(z,le),Oe.viewport(K),Oe.scissor(q),Oe.setScissorTest(F),re){const Ae=D.get(z.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ae.__webglTexture,ue)}else if(De){const Ae=te;for(let Re=0;Re<z.textures.length;Re++){const et=D.get(z.textures[Re]);H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0+Re,et.__webglTexture,ue,Ae)}}else if(z!==null&&ue!==0){const Ae=D.get(z.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Ae.__webglTexture,ue)}X=-1},this.readRenderTargetPixels=function(z,te,ue,le,re,De,We,Ae=0){if(!(z&&z.isWebGLRenderTarget)){ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Re=D.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&We!==void 0&&(Re=Re[We]),Re){Oe.bindFramebuffer(H.FRAMEBUFFER,Re);try{const et=z.textures[Ae],it=et.format,Qe=et.type;if(!vt.textureFormatReadable(it)){ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!vt.textureTypeReadable(Qe)){ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=z.width-le&&ue>=0&&ue<=z.height-re&&(z.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Ae),H.readPixels(te,ue,le,re,Ie.convert(it),Ie.convert(Qe),De))}finally{const et=V!==null?D.get(V).__webglFramebuffer:null;Oe.bindFramebuffer(H.FRAMEBUFFER,et)}}},this.readRenderTargetPixelsAsync=async function(z,te,ue,le,re,De,We,Ae=0){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Re=D.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&We!==void 0&&(Re=Re[We]),Re)if(te>=0&&te<=z.width-le&&ue>=0&&ue<=z.height-re){Oe.bindFramebuffer(H.FRAMEBUFFER,Re);const et=z.textures[Ae],it=et.format,Qe=et.type;if(!vt.textureFormatReadable(it))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!vt.textureTypeReadable(Qe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const bt=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,bt),H.bufferData(H.PIXEL_PACK_BUFFER,De.byteLength,H.STREAM_READ),z.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Ae),H.readPixels(te,ue,le,re,Ie.convert(it),Ie.convert(Qe),0);const zt=V!==null?D.get(V).__webglFramebuffer:null;Oe.bindFramebuffer(H.FRAMEBUFFER,zt);const Dt=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await _oe(H,Dt,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,bt),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,De),H.deleteBuffer(bt),H.deleteSync(Dt),De}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(z,te=null,ue=0){const le=Math.pow(2,-ue),re=Math.floor(z.image.width*le),De=Math.floor(z.image.height*le),We=te!==null?te.x:0,Ae=te!==null?te.y:0;Q.setTexture2D(z,0),H.copyTexSubImage2D(H.TEXTURE_2D,ue,0,0,We,Ae,re,De),Oe.unbindTexture()};const Vw=H.createFramebuffer(),Ah=H.createFramebuffer();this.copyTextureToTexture=function(z,te,ue=null,le=null,re=0,De=null){De===null&&(re!==0?(Bd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),De=re,re=0):De=0);let We,Ae,Re,et,it,Qe,bt,zt,Dt;const ln=z.isCompressedTexture?z.mipmaps[De]:z.image;if(ue!==null)We=ue.max.x-ue.min.x,Ae=ue.max.y-ue.min.y,Re=ue.isBox3?ue.max.z-ue.min.z:1,et=ue.min.x,it=ue.min.y,Qe=ue.isBox3?ue.min.z:0;else{const pr=Math.pow(2,-re);We=Math.floor(ln.width*pr),Ae=Math.floor(ln.height*pr),z.isDataArrayTexture?Re=ln.depth:z.isData3DTexture?Re=Math.floor(ln.depth*pr):Re=1,et=0,it=0,Qe=0}le!==null?(bt=le.x,zt=le.y,Dt=le.z):(bt=0,zt=0,Dt=0);const Qt=Ie.convert(te.format),gt=Ie.convert(te.type);let jt;te.isData3DTexture?(Q.setTexture3D(te,0),jt=H.TEXTURE_3D):te.isDataArrayTexture||te.isCompressedArrayTexture?(Q.setTexture2DArray(te,0),jt=H.TEXTURE_2D_ARRAY):(Q.setTexture2D(te,0),jt=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,te.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,te.unpackAlignment);const Bt=H.getParameter(H.UNPACK_ROW_LENGTH),vn=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Xa=H.getParameter(H.UNPACK_SKIP_PIXELS),ei=H.getParameter(H.UNPACK_SKIP_ROWS),hu=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,ln.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ln.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,et),H.pixelStorei(H.UNPACK_SKIP_ROWS,it),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Qe);const Zt=z.isDataArrayTexture||z.isData3DTexture,sr=te.isDataArrayTexture||te.isData3DTexture;if(z.isDepthTexture){const pr=D.get(z),Zn=D.get(te),Fr=D.get(pr.__renderTarget),Th=D.get(Zn.__renderTarget);Oe.bindFramebuffer(H.READ_FRAMEBUFFER,Fr.__webglFramebuffer),Oe.bindFramebuffer(H.DRAW_FRAMEBUFFER,Th.__webglFramebuffer);for(let zs=0;zs<Re;zs++)Zt&&(H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,D.get(z).__webglTexture,re,Qe+zs),H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,D.get(te).__webglTexture,De,Dt+zs)),H.blitFramebuffer(et,it,We,Ae,bt,zt,We,Ae,H.DEPTH_BUFFER_BIT,H.NEAREST);Oe.bindFramebuffer(H.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else if(re!==0||z.isRenderTargetTexture||D.has(z)){const pr=D.get(z),Zn=D.get(te);Oe.bindFramebuffer(H.READ_FRAMEBUFFER,Vw),Oe.bindFramebuffer(H.DRAW_FRAMEBUFFER,Ah);for(let Fr=0;Fr<Re;Fr++)Zt?H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,pr.__webglTexture,re,Qe+Fr):H.framebufferTexture2D(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,pr.__webglTexture,re),sr?H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Zn.__webglTexture,De,Dt+Fr):H.framebufferTexture2D(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Zn.__webglTexture,De),re!==0?H.blitFramebuffer(et,it,We,Ae,bt,zt,We,Ae,H.COLOR_BUFFER_BIT,H.NEAREST):sr?H.copyTexSubImage3D(jt,De,bt,zt,Dt+Fr,et,it,We,Ae):H.copyTexSubImage2D(jt,De,bt,zt,et,it,We,Ae);Oe.bindFramebuffer(H.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else sr?z.isDataTexture||z.isData3DTexture?H.texSubImage3D(jt,De,bt,zt,Dt,We,Ae,Re,Qt,gt,ln.data):te.isCompressedArrayTexture?H.compressedTexSubImage3D(jt,De,bt,zt,Dt,We,Ae,Re,Qt,ln.data):H.texSubImage3D(jt,De,bt,zt,Dt,We,Ae,Re,Qt,gt,ln):z.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,De,bt,zt,We,Ae,Qt,gt,ln.data):z.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,De,bt,zt,ln.width,ln.height,Qt,ln.data):H.texSubImage2D(H.TEXTURE_2D,De,bt,zt,We,Ae,Qt,gt,ln);H.pixelStorei(H.UNPACK_ROW_LENGTH,Bt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,vn),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Xa),H.pixelStorei(H.UNPACK_SKIP_ROWS,ei),H.pixelStorei(H.UNPACK_SKIP_IMAGES,hu),De===0&&te.generateMipmaps&&H.generateMipmap(jt),Oe.unbindTexture()},this.initRenderTarget=function(z){D.get(z).__webglFramebuffer===void 0&&Q.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?Q.setTextureCube(z,0):z.isData3DTexture?Q.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?Q.setTexture2DArray(z,0):Q.setTexture2D(z,0),Oe.unbindTexture()},this.resetState=function(){k=0,U=0,V=null,Oe.reset(),Ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ki}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Vt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Vt._getUnpackColorSpace()}}const hpe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:iS,AddEquation:yl,AddOperation:H6,AdditiveAnimationBlendMode:j2,AdditiveBlending:Im,AgXToneMapping:O2,AlphaFormat:B2,AlwaysCompare:tH,AlwaysDepth:Yx,AlwaysStencilFunc:GT,AmbientLight:qH,AnimationAction:nW,AnimationClip:Xm,AnimationLoader:cle,AnimationMixer:zle,AnimationObjectGroup:Fle,AnimationUtils:ole,ArcCurve:SH,ArrayCamera:QH,ArrowHelper:fue,AttachedBindMode:WT,Audio:eW,AudioAnalyser:Tle,AudioContext:hR,AudioListener:Mle,AudioLoader:Sle,AxesHelper:due,BackSide:hi,BasicDepthPacking:q6,BasicShadowMap:b6,BatchedMesh:mH,Bone:Y2,BooleanKeyframeTrack:Hc,Box2:Yle,Box3:Jr,Box3Helper:uue,BoxGeometry:jc,BoxHelper:lue,BufferAttribute:an,BufferGeometry:Et,BufferGeometryLoader:JH,ByteType:k2,Cache:ko,Camera:Ig,CameraHelper:aue,CanvasTexture:Pae,CapsuleGeometry:MS,CatmullRomCurve3:wH,CineonToneMapping:I2,CircleGeometry:ES,ClampToEdgeWrapping:Pi,Clock:pR,Color:Je,ColorKeyframeTrack:uR,ColorManagement:Vt,CompressedArrayTexture:Tae,CompressedCubeTexture:Cae,CompressedTexture:bS,CompressedTextureLoader:fle,ConeGeometry:Lg,ConstantAlphaFactor:B6,ConstantColorFactor:U6,Controls:pue,CubeCamera:uH,CubeDepthTexture:xH,CubeReflectionMapping:Xo,CubeRefractionMapping:Hl,CubeTexture:Ng,CubeTextureLoader:dle,CubeUVReflectionMapping:uh,CubicBezierCurve:J2,CubicBezierCurve3:bH,CubicInterpolant:BH,CullFaceBack:VT,CullFaceFront:w6,CullFaceFrontBack:Ise,CullFaceNone:S6,Curve:ho,CurvePath:EH,CustomBlending:M6,CustomToneMapping:N2,CylinderGeometry:Og,Cylindrical:qle,Data3DTexture:gS,DataArrayTexture:mS,DataTexture:oo,DataTextureLoader:hle,DataUtils:Joe,DecrementStencilOp:Yse,DecrementWrapStencilOp:Zse,DefaultLoadingManager:HH,DepthFormat:Yo,DepthStencilFormat:Ml,DepthTexture:Wd,DetachedBindMode:W6,DirectionalLight:XH,DirectionalLightHelper:oue,DiscreteInterpolant:VH,DodecahedronGeometry:AS,DoubleSide:Oo,DstAlphaFactor:O6,DstColorFactor:D6,DynamicCopyUsage:foe,DynamicDrawUsage:dc,DynamicReadUsage:loe,EdgesGeometry:_H,EllipseCurve:TS,EqualCompare:J6,EqualDepth:Zx,EqualStencilFunc:toe,EquirectangularReflectionMapping:Nm,EquirectangularRefractionMapping:Om,Euler:is,EventDispatcher:Jo,ExternalTexture:K2,ExtrudeGeometry:CS,FileLoader:Na,Float16BufferAttribute:sae,Float32BufferAttribute:rt,FloatType:ci,Fog:yS,FogExp2:vS,FramebufferTexture:Aae,FrontSide:Ia,Frustum:fh,FrustumArray:SS,GLBufferAttribute:Wle,GLSL1:hoe,GLSL3:$T,GreaterCompare:Q6,GreaterDepth:Qx,GreaterEqualCompare:pS,GreaterEqualDepth:Jx,GreaterEqualStencilFunc:soe,GreaterStencilFunc:roe,GridHelper:iue,Group:dd,HalfFloatType:qo,HemisphereLight:WH,HemisphereLightHelper:rue,IcosahedronGeometry:PS,ImageBitmapLoader:_le,ImageLoader:qm,ImageUtils:sH,IncrementStencilOp:qse,IncrementWrapStencilOp:Kse,InstancedBufferAttribute:Hd,InstancedBufferGeometry:ZH,InstancedInterleavedBuffer:Hle,InstancedMesh:pH,Int16BufferAttribute:rae,Int32BufferAttribute:iae,Int8BufferAttribute:eae,IntType:oS,InterleavedBuffer:xS,InterleavedBufferAttribute:Ic,Interpolant:Fg,InterpolateDiscrete:km,InterpolateLinear:O_,InterpolateSmooth:Zy,InterpolationSamplingMode:goe,InterpolationSamplingType:moe,InvertStencilOp:Jse,KeepStencilOp:Hu,KeyframeTrack:Ds,LOD:dH,LatheGeometry:RS,Layers:pc,LessCompare:Z6,LessDepth:Kx,LessEqualCompare:hS,LessEqualDepth:Cc,LessEqualStencilFunc:noe,LessStencilFunc:eoe,Light:ru,LightProbe:KH,Line:Gl,Line3:Jle,LineBasicMaterial:yi,LineCurve:Q2,LineCurve3:MH,LineDashedMaterial:UH,LineLoop:gH,LineSegments:Qo,LinearFilter:wn,LinearInterpolant:lR,LinearMipMapLinearFilter:Dse,LinearMipMapNearestFilter:Lse,LinearMipmapLinearFilter:Do,LinearMipmapNearestFilter:Jp,LinearSRGBColorSpace:Rc,LinearToneMapping:P2,LinearTransfer:Um,Loader:Ui,LoaderUtils:ZT,LoadingManager:cR,LoopOnce:G6,LoopPingPong:X6,LoopRepeat:$6,MOUSE:Pse,Material:Dr,MaterialLoader:FS,MathUtils:Foe,Matrix2:yR,Matrix3:Ct,Matrix4:St,MaxEquation:C6,Mesh:ir,MeshBasicMaterial:tu,MeshDepthMaterial:sR,MeshDistanceMaterial:oR,MeshLambertMaterial:kH,MeshMatcapMaterial:FH,MeshNormalMaterial:DH,MeshPhongMaterial:OH,MeshPhysicalMaterial:NH,MeshStandardMaterial:iR,MeshToonMaterial:LH,MinEquation:T6,MirroredRepeatWrapping:Dm,MixOperation:j6,MultiplyBlending:HT,MultiplyOperation:Pg,NearestFilter:Yn,NearestMipMapLinearFilter:Ose,NearestMipMapNearestFilter:Nse,NearestMipmapLinearFilter:cd,NearestMipmapNearestFilter:D2,NeutralToneMapping:L2,NeverCompare:K6,NeverDepth:qx,NeverStencilFunc:Qse,NoBlending:Wo,NoColorSpace:ga,NoNormalPacking:Hse,NoToneMapping:Ts,NormalAnimationBlendMode:dS,NormalBlending:fc,NormalGAPacking:Gse,NormalRGPacking:Wse,NotEqualCompare:eH,NotEqualDepth:e_,NotEqualStencilFunc:ioe,NumberKeyframeTrack:Gm,Object3D:Gt,ObjectLoader:yle,ObjectSpaceNormalMap:Y6,OctahedronGeometry:Dg,OneFactor:R6,OneMinusConstantAlphaFactor:V6,OneMinusConstantColorFactor:z6,OneMinusDstAlphaFactor:L6,OneMinusDstColorFactor:k6,OneMinusSrcAlphaFactor:Xx,OneMinusSrcColorFactor:N6,OrthographicCamera:hh,PCFShadowMap:bd,PCFSoftShadowMap:Zp,PMREMGenerator:eC,Path:U_,PerspectiveCamera:Sr,Plane:pl,PlaneGeometry:dh,PlaneHelper:cue,PointLight:$H,PointLightHelper:tue,Points:vH,PointsMaterial:wS,PolarGridHelper:sue,PolyhedronGeometry:nu,PositionalAudio:Ale,PropertyBinding:Ht,PropertyMixer:tW,QuadraticBezierCurve:eR,QuadraticBezierCurve3:tR,Quaternion:Fi,QuaternionKeyframeTrack:Ug,QuaternionLinearInterpolant:jH,R11_EAC_Format:l_,RED_GREEN_RGTC2_Format:I_,RED_RGTC1_Format:P_,REVISION:Cg,RG11_EAC_Format:c_,RGBADepthPacking:Bse,RGBAFormat:Kr,RGBAIntegerFormat:fS,RGBA_ASTC_10x10_Format:b_,RGBA_ASTC_10x5_Format:__,RGBA_ASTC_10x6_Format:S_,RGBA_ASTC_10x8_Format:w_,RGBA_ASTC_12x10_Format:M_,RGBA_ASTC_12x12_Format:E_,RGBA_ASTC_4x4_Format:d_,RGBA_ASTC_5x4_Format:h_,RGBA_ASTC_5x5_Format:p_,RGBA_ASTC_6x5_Format:m_,RGBA_ASTC_6x6_Format:g_,RGBA_ASTC_8x5_Format:v_,RGBA_ASTC_8x6_Format:y_,RGBA_ASTC_8x8_Format:x_,RGBA_BPTC_Format:A_,RGBA_ETC2_EAC_Format:a_,RGBA_PVRTC_2BPPV1_Format:i_,RGBA_PVRTC_4BPPV1_Format:r_,RGBA_S3TC_DXT1_Format:em,RGBA_S3TC_DXT3_Format:tm,RGBA_S3TC_DXT5_Format:nm,RGBDepthPacking:Vse,RGBFormat:V2,RGBIntegerFormat:kse,RGB_BPTC_SIGNED_Format:T_,RGB_BPTC_UNSIGNED_Format:C_,RGB_ETC1_Format:s_,RGB_ETC2_Format:o_,RGB_PVRTC_2BPPV1_Format:n_,RGB_PVRTC_4BPPV1_Format:t_,RGB_S3TC_DXT1_Format:Qp,RGDepthPacking:jse,RGFormat:Pc,RGIntegerFormat:cS,RawShaderMaterial:rR,Ray:ch,Raycaster:rW,RectAreaLight:YH,RedFormat:uS,RedIntegerFormat:Rg,ReinhardToneMapping:R2,RenderTarget:W2,RenderTarget3D:Ble,RepeatWrapping:Lm,ReplaceStencilOp:Xse,ReverseSubtractEquation:A6,RingGeometry:IS,SIGNED_R11_EAC_Format:u_,SIGNED_RED_GREEN_RGTC2_Format:N_,SIGNED_RED_RGTC1_Format:R_,SIGNED_RG11_EAC_Format:f_,SRGBColorSpace:Ei,SRGBTransfer:en,Scene:L_,ShaderChunk:Nt,ShaderLib:Zs,ShaderMaterial:Is,ShadowMaterial:IH,Shape:mc,ShapeGeometry:NS,ShapePath:hue,ShapeUtils:ro,ShortType:F2,Skeleton:_S,SkeletonHelper:eue,SkinnedMesh:hH,Source:El,Sphere:Or,SphereGeometry:kg,Spherical:Xle,SphericalHarmonics3:dR,SplineCurve:nR,SpotLight:GH,SpotLightHelper:Qle,Sprite:fH,SpriteMaterial:q2,SrcAlphaFactor:$x,SrcAlphaSaturateFactor:F6,SrcColorFactor:I6,StaticCopyUsage:coe,StaticDrawUsage:zm,StaticReadUsage:aoe,StereoCamera:wle,StreamCopyUsage:doe,StreamDrawUsage:ooe,StreamReadUsage:uoe,StringKeyframeTrack:Wc,SubtractEquation:E6,SubtractiveBlending:jT,TOUCH:Rse,TangentSpaceNormalMap:eu,TetrahedronGeometry:OS,Texture:On,TextureLoader:ple,TextureUtils:xue,Timer:Gle,TimestampQuery:poe,TorusGeometry:LS,TorusKnotGeometry:DS,Triangle:Ti,TriangleFanDrawMode:zse,TriangleStripDrawMode:Use,TrianglesDrawMode:Fse,TubeGeometry:kS,UVMapping:sS,Uint16BufferAttribute:G2,Uint32BufferAttribute:$2,Uint8BufferAttribute:tae,Uint8ClampedBufferAttribute:nae,Uniform:vR,UniformsGroup:jle,UniformsLib:He,UniformsUtils:lH,UnsignedByteType:oi,UnsignedInt101111Type:z2,UnsignedInt248Type:Ud,UnsignedInt5999Type:U2,UnsignedIntType:Rs,UnsignedShort4444Type:aS,UnsignedShort5551Type:lS,UnsignedShortType:Fd,VSMShadowMap:ec,Vector2:Me,Vector3:j,Vector4:cn,VectorKeyframeTrack:$m,VideoFrameTexture:Eae,VideoTexture:yH,WebGL3DRenderTarget:joe,WebGLArrayRenderTarget:Voe,WebGLCoordinateSystem:Ki,WebGLCubeRenderTarget:X2,WebGLRenderTarget:es,WebGLRenderer:fW,WebGLUtils:cW,WebGPUCoordinateSystem:zd,WebXRController:Jy,WireframeGeometry:RH,WrapAroundEnding:Fm,ZeroCurvatureEnding:tc,ZeroFactor:P6,ZeroSlopeEnding:nc,ZeroStencilOp:$se,createCanvasElement:iH,error:ht,getConsoleFunction:xoe,log:Vm,setConsoleFunction:yoe,warn:Ve,warnOnce:Bd},Symbol.toStringTag,{value:"Module"}));var dW={exports:{}},Gc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Gc.ConcurrentRoot=1;Gc.ContinuousEventPriority=4;Gc.DefaultEventPriority=16;Gc.DiscreteEventPriority=1;Gc.IdleEventPriority=536870912;Gc.LegacyRoot=0;dW.exports=Gc;var hd=dW.exports;function ppe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function m(){const g=c(e);if(!f(h,g)){const x=h;u(h=g,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const mpe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),bF=mpe?N.useEffect:N.useLayoutEffect;function gpe(t){const e=typeof t=="function"?ppe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(y=>y+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(r),u=N.useRef(i),c=N.useRef(!1),f=N.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),m=!i(f.current,h)),bF(()=>{m&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=N.useRef(o);bF(()=>{const y=()=>{try{const S=e.getState(),w=l.current(S);u.current(f.current,w)||(a.current=S,f.current=w,s())}catch{c.current=!0,s()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const x=m?h:f.current;return N.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var hW={exports:{}},NE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF;function vpe(){return MF||(MF=1,function(t){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var Z=G-1>>>1,fe=F[Z];if(0<i(fe,$))F[Z]=$,F[G]=fe,G=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var Z=0,fe=F.length,Ee=fe>>>1;Z<Ee;){var Ge=2*(Z+1)-1,ct=F[Ge],ae=Ge+1,ye=F[ae];if(0>i(ct,G))ae<fe&&0>i(ye,ct)?(F[Z]=ye,F[ae]=G,Z=ae):(F[Z]=ct,F[Ge]=G,Z=Ge);else if(ae<fe&&0>i(ye,G))F[Z]=ye,F[ae]=G,Z=ae;else break e}}return $}function i(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function M(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,K(E);else{var $=n(u);$!==null&&q(M,$.startTime-F)}}function E(F,$){g=!1,x&&(x=!1,v(L),L=-1),m=!0;var G=h;try{for(w($),f=n(l);f!==null&&(!(f.expirationTime>$)||F&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var fe=Z(f.expirationTime<=$);$=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),w($)}else r(l);f=n(l)}if(f!==null)var Ee=!0;else{var Ge=n(u);Ge!==null&&q(M,Ge.startTime-$),Ee=!1}return Ee}finally{f=null,h=G,m=!1}}var T=!1,I=null,L=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function U(){if(I!==null){var F=t.unstable_now();R=F;var $=!0;try{$=I(!0,F)}finally{$?V():(T=!1,I=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=U,V=function(){Y.postMessage(null)}}else V=function(){y(U,0)};function K(F){I=F,T||(T=!0,V())}function q(F,$){L=y(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return F()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(F,$,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,F){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,F={id:c++,callback:$,priorityLevel:F,startTime:G,expirationTime:fe,sortIndex:-1},G>Z?(F.sortIndex=G,e(u,F),n(l)===null&&F===n(u)&&(x?(v(L),L=-1):x=!0,q(M,G-Z))):(F.sortIndex=fe,e(l,F),g||m||(g=!0,K(E))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var $=h;return function(){var G=h;h=$;try{return F.apply(this,arguments)}finally{h=G}}}}(OE)),OE}var EF;function ype(){return EF||(EF=1,NE.exports=vpe()),NE.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xpe=function(e){var n={},r=N,i=ype(),s=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function T(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function I(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case x:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case S:return p=d.displayName||null,p!==null?p:I(d.type)||"Memo";case w:p=d._payload,d=d._init;try{return I(d(p))}catch{}}return null}function L(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function P(d){var p=d,_=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(_=p.return),d=p.return;while(d)}return p.tag===3?_:null}function R(d){if(P(d)!==d)throw Error(o(188))}function k(d){var p=d.alternate;if(!p){if(p=P(d),p===null)throw Error(o(188));return p!==d?null:d}for(var _=d,b=p;;){var A=_.return;if(A===null)break;var O=A.alternate;if(O===null){if(b=A.return,b!==null){_=b;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===_)return R(A),d;if(O===b)return R(A),p;O=O.sibling}throw Error(o(188))}if(_.return!==b.return)_=A,b=O;else{for(var W=!1,ee=A.child;ee;){if(ee===_){W=!0,_=A,b=O;break}if(ee===b){W=!0,b=A,_=O;break}ee=ee.sibling}if(!W){for(ee=O.child;ee;){if(ee===_){W=!0,_=O,b=A;break}if(ee===b){W=!0,b=O,_=A;break}ee=ee.sibling}if(!W)throw Error(o(189))}}if(_.alternate!==b)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?d:p}function U(d){return d=k(d),d!==null?V(d):null}function V(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=V(d);if(p!==null)return p;d=d.sibling}return null}function X(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=X(d);if(p!==null)return p}d=d.sibling}return null}var Y=Array.isArray,K=e.getPublicInstance,q=e.getRootHostContext,F=e.getChildHostContext,$=e.prepareForCommit,G=e.resetAfterCommit,Z=e.createInstance,fe=e.appendInitialChild,Ee=e.finalizeInitialChildren,Ge=e.prepareUpdate,ct=e.shouldSetTextContent,ae=e.createTextInstance,ye=e.scheduleTimeout,qe=e.cancelTimeout,ie=e.noTimeout,be=e.isPrimaryRenderer,ze=e.supportsMutation,ve=e.supportsPersistence,Ye=e.supportsHydration,de=e.getInstanceFromNode,we=e.preparePortalMount,xe=e.getCurrentEventPriority,Le=e.detachDeletedInstance,H=e.supportsMicrotasks,mt=e.scheduleMicrotask,je=e.supportsTestSelectors,vt=e.findFiberRoot,Oe=e.getBoundingRect,B=e.getTextContent,D=e.isHiddenSubtree,Q=e.matchAccessibilityRole,pe=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,me=e.appendChild,ut=e.appendChildToContainer,ke=e.commitTextUpdate,ot=e.commitMount,yt=e.commitUpdate,Te=e.insertBefore,Be=e.insertInContainerBefore,at=e.removeChild,ft=e.removeChildFromContainer,Ue=e.resetTextContent,It=e.hideInstance,J=e.hideTextInstance,$e=e.unhideInstance,Ie=e.unhideTextInstance,Ze=e.clearContainer,Ce=e.cloneInstance,_e=e.createContainerChildSet,Fe=e.appendChildToContainerChildSet,wt=e.finalizeContainerChildren,tn=e.replaceContainerChildren,$t=e.cloneHiddenInstance,Bi=e.cloneHiddenTextInstance,Us=e.canHydrateInstance,kw=e.canHydrateTextInstance,o0=e.canHydrateSuspenseInstance,Yc=e.isSuspenseInstancePending,bh=e.isSuspenseInstanceFallback,a0=e.registerSuspenseInstanceRetry,$a=e.getNextHydratableSibling,ea=e.getFirstHydratableChild,Mh=e.getFirstHydratableChildWithinContainer,l0=e.getFirstHydratableChildWithinSuspenseInstance,u0=e.hydrateInstance,Kc=e.hydrateTextInstance,c0=e.hydrateSuspenseInstance,Zc=e.getNextHydratableInstanceAfterSuspenseInstance,Eh=e.commitHydratedContainer,f0=e.commitHydratedSuspenseInstance,Fw=e.clearSuspenseBoundary,Uw=e.clearSuspenseBoundaryFromContainer,zw=e.shouldDeleteUnhydratedTailInstances,Bw=e.didNotMatchHydratedContainerTextInstance,Vw=e.didNotMatchHydratedTextInstance,Ah;function z(d){if(Ah===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);Ah=p&&p[1]||""}return`
`+Ah+d}var te=!1;function ue(d,p){if(!d||te)return"";te=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ne){var b=Ne}Reflect.construct(d,[],p)}else{try{p.call()}catch(Ne){b=Ne}d.call(p.prototype)}else{try{throw Error()}catch(Ne){b=Ne}d()}}catch(Ne){if(Ne&&b&&typeof Ne.stack=="string"){for(var A=Ne.stack.split(`
`),O=b.stack.split(`
`),W=A.length-1,ee=O.length-1;1<=W&&0<=ee&&A[W]!==O[ee];)ee--;for(;1<=W&&0<=ee;W--,ee--)if(A[W]!==O[ee]){if(W!==1||ee!==1)do if(W--,ee--,0>ee||A[W]!==O[ee]){var ge=`
`+A[W].replace(" at new "," at ");return d.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",d.displayName)),ge}while(1<=W&&0<=ee);break}}}finally{te=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?z(d):""}var le=Object.prototype.hasOwnProperty,re=[],De=-1;function We(d){return{current:d}}function Ae(d){0>De||(d.current=re[De],re[De]=null,De--)}function Re(d,p){De++,re[De]=d.current,d.current=p}var et={},it=We(et),Qe=We(!1),bt=et;function zt(d,p){var _=d.type.contextTypes;if(!_)return et;var b=d.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===p)return b.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in _)A[O]=p[O];return b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=A),A}function Dt(d){return d=d.childContextTypes,d!=null}function ln(){Ae(Qe),Ae(it)}function Qt(d,p,_){if(it.current!==et)throw Error(o(168));Re(it,p),Re(Qe,_)}function gt(d,p,_){var b=d.stateNode;if(p=p.childContextTypes,typeof b.getChildContext!="function")return _;b=b.getChildContext();for(var A in b)if(!(A in p))throw Error(o(108,L(d)||"Unknown",A));return s({},_,b)}function jt(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||et,bt=it.current,Re(it,d),Re(Qe,Qe.current),!0}function Bt(d,p,_){var b=d.stateNode;if(!b)throw Error(o(169));_?(d=gt(d,p,bt),b.__reactInternalMemoizedMergedChildContext=d,Ae(Qe),Ae(it),Re(it,d)):Ae(Qe),Re(Qe,_)}var vn=Math.clz32?Math.clz32:hu,Xa=Math.log,ei=Math.LN2;function hu(d){return d>>>=0,d===0?32:31-(Xa(d)/ei|0)|0}var Zt=64,sr=4194304;function pr(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Zn(d,p){var _=d.pendingLanes;if(_===0)return 0;var b=0,A=d.suspendedLanes,O=d.pingedLanes,W=_&268435455;if(W!==0){var ee=W&~A;ee!==0?b=pr(ee):(O&=W,O!==0&&(b=pr(O)))}else W=_&~A,W!==0?b=pr(W):O!==0&&(b=pr(O));if(b===0)return 0;if(p!==0&&p!==b&&!(p&A)&&(A=b&-b,O=p&-p,A>=O||A===16&&(O&4194240)!==0))return p;if(b&4&&(b|=_&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=b;0<p;)_=31-vn(p),A=1<<_,b|=d[_],p&=~A;return b}function Fr(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(d,p){for(var _=d.suspendedLanes,b=d.pingedLanes,A=d.expirationTimes,O=d.pendingLanes;0<O;){var W=31-vn(O),ee=1<<W,ge=A[W];ge===-1?(!(ee&_)||ee&b)&&(A[W]=Fr(ee,p)):ge<=p&&(d.expiredLanes|=ee),O&=~ee}}function zs(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function jw(d){for(var p=[],_=0;31>_;_++)p.push(d);return p}function Ch(d,p,_){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-vn(p),d[p]=_}function pX(d,p){var _=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var b=d.eventTimes;for(d=d.expirationTimes;0<_;){var A=31-vn(_),O=1<<A;p[A]=0,b[A]=-1,d[A]=-1,_&=~O}}function Hw(d,p){var _=d.entangledLanes|=p;for(d=d.entanglements;_;){var b=31-vn(_),A=1<<b;A&p|d[b]&p&&(d[b]|=p),_&=~A}}var Xt=0;function iN(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Ww=i.unstable_scheduleCallback,sN=i.unstable_cancelCallback,mX=i.unstable_shouldYield,gX=i.unstable_requestPaint,mr=i.unstable_now,Gw=i.unstable_ImmediatePriority,vX=i.unstable_UserBlockingPriority,$w=i.unstable_NormalPriority,yX=i.unstable_IdlePriority,d0=null,mo=null;function xX(d){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(d0,d,void 0,(d.current.flags&128)===128)}catch{}}function _X(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var go=typeof Object.is=="function"?Object.is:_X,ta=null,h0=!1,Xw=!1;function oN(d){ta===null?ta=[d]:ta.push(d)}function SX(d){h0=!0,oN(d)}function vo(){if(!Xw&&ta!==null){Xw=!0;var d=0,p=Xt;try{var _=ta;for(Xt=1;d<_.length;d++){var b=_[d];do b=b(!0);while(b!==null)}ta=null,h0=!1}catch(A){throw ta!==null&&(ta=ta.slice(d+1)),Ww(Gw,vo),A}finally{Xt=p,Xw=!1}}return null}var wX=a.ReactCurrentBatchConfig;function p0(d,p){if(go(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var _=Object.keys(d),b=Object.keys(p);if(_.length!==b.length)return!1;for(b=0;b<_.length;b++){var A=_[b];if(!le.call(p,A)||!go(d[A],p[A]))return!1}return!0}function bX(d){switch(d.tag){case 5:return z(d.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return d=ue(d.type,!1),d;case 11:return d=ue(d.type.render,!1),d;case 1:return d=ue(d.type,!0),d;default:return""}}function Bs(d,p){if(d&&d.defaultProps){p=s({},p),d=d.defaultProps;for(var _ in d)p[_]===void 0&&(p[_]=d[_]);return p}return p}var m0=We(null),g0=null,Jc=null,qw=null;function Yw(){qw=Jc=g0=null}function aN(d,p,_){be?(Re(m0,p._currentValue),p._currentValue=_):(Re(m0,p._currentValue2),p._currentValue2=_)}function Kw(d){var p=m0.current;Ae(m0),be?d._currentValue=p:d._currentValue2=p}function Zw(d,p,_){for(;d!==null;){var b=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,b!==null&&(b.childLanes|=p)):b!==null&&(b.childLanes&p)!==p&&(b.childLanes|=p),d===_)break;d=d.return}}function Qc(d,p){g0=d,qw=Jc=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(Hi=!0),d.firstContext=null)}function ls(d){var p=be?d._currentValue:d._currentValue2;if(qw!==d)if(d={context:d,memoizedValue:p,next:null},Jc===null){if(g0===null)throw Error(o(308));Jc=d,g0.dependencies={lanes:0,firstContext:d}}else Jc=Jc.next=d;return p}var yo=null,qa=!1;function Jw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function na(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Ya(d,p){var _=d.updateQueue;_!==null&&(_=_.shared,Jn!==null&&d.mode&1&&!(Lt&2)?(d=_.interleaved,d===null?(p.next=p,yo===null?yo=[_]:yo.push(_)):(p.next=d.next,d.next=p),_.interleaved=p):(d=_.pending,d===null?p.next=p:(p.next=d.next,d.next=p),_.pending=p))}function v0(d,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var b=p.lanes;b&=d.pendingLanes,_|=b,p.lanes=_,Hw(d,_)}}function uN(d,p){var _=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,_===b)){var A=null,O=null;if(_=_.firstBaseUpdate,_!==null){do{var W={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};O===null?A=O=W:O=O.next=W,_=_.next}while(_!==null);O===null?A=O=p:O=O.next=p}else A=O=p;_={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:b.shared,effects:b.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=p:d.next=p,_.lastBaseUpdate=p}function y0(d,p,_,b){var A=d.updateQueue;qa=!1;var O=A.firstBaseUpdate,W=A.lastBaseUpdate,ee=A.shared.pending;if(ee!==null){A.shared.pending=null;var ge=ee,Ne=ge.next;ge.next=null,W===null?O=Ne:W.next=Ne,W=ge;var st=d.alternate;st!==null&&(st=st.updateQueue,ee=st.lastBaseUpdate,ee!==W&&(ee===null?st.firstBaseUpdate=Ne:ee.next=Ne,st.lastBaseUpdate=ge))}if(O!==null){var At=A.baseState;W=0,st=Ne=ge=null,ee=O;do{var xt=ee.lane,un=ee.eventTime;if((b&xt)===xt){st!==null&&(st=st.next={eventTime:un,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var pt=d,Vr=ee;switch(xt=p,un=_,Vr.tag){case 1:if(pt=Vr.payload,typeof pt=="function"){At=pt.call(un,At,xt);break e}At=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Vr.payload,xt=typeof pt=="function"?pt.call(un,At,xt):pt,xt==null)break e;At=s({},At,xt);break e;case 2:qa=!0}}ee.callback!==null&&ee.lane!==0&&(d.flags|=64,xt=A.effects,xt===null?A.effects=[ee]:xt.push(ee))}else un={eventTime:un,lane:xt,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},st===null?(Ne=st=un,ge=At):st=st.next=un,W|=xt;if(ee=ee.next,ee===null){if(ee=A.shared.pending,ee===null)break;xt=ee,ee=xt.next,xt.next=null,A.lastBaseUpdate=xt,A.shared.pending=null}}while(!0);if(st===null&&(ge=At),A.baseState=ge,A.firstBaseUpdate=Ne,A.lastBaseUpdate=st,p=A.shared.interleaved,p!==null){A=p;do W|=A.lane,A=A.next;while(A!==p)}else O===null&&(A.shared.lanes=0);uf|=W,d.lanes=W,d.memoizedState=At}}function cN(d,p,_){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var b=d[p],A=b.callback;if(A!==null){if(b.callback=null,b=_,typeof A!="function")throw Error(o(191,A));A.call(b)}}}var fN=new r.Component().refs;function Qw(d,p,_,b){p=d.memoizedState,_=_(b,p),_=_==null?p:s({},p,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var x0={isMounted:function(d){return(d=d._reactInternals)?P(d)===d:!1},enqueueSetState:function(d,p,_){d=d._reactInternals;var b=ni(),A=Ja(d),O=na(b,A);O.payload=p,_!=null&&(O.callback=_),Ya(d,O),p=hs(d,A,b),p!==null&&v0(p,d,A)},enqueueReplaceState:function(d,p,_){d=d._reactInternals;var b=ni(),A=Ja(d),O=na(b,A);O.tag=1,O.payload=p,_!=null&&(O.callback=_),Ya(d,O),p=hs(d,A,b),p!==null&&v0(p,d,A)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var _=ni(),b=Ja(d),A=na(_,b);A.tag=2,p!=null&&(A.callback=p),Ya(d,A),p=hs(d,b,_),p!==null&&v0(p,d,b)}};function dN(d,p,_,b,A,O,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,O,W):p.prototype&&p.prototype.isPureReactComponent?!p0(_,b)||!p0(A,O):!0}function hN(d,p,_){var b=!1,A=et,O=p.contextType;return typeof O=="object"&&O!==null?O=ls(O):(A=Dt(p)?bt:it.current,b=p.contextTypes,O=(b=b!=null)?zt(d,A):et),p=new p(_,O),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=x0,d.stateNode=p,p._reactInternals=d,b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=A,d.__reactInternalMemoizedMaskedChildContext=O),p}function pN(d,p,_,b){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,b),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,b),p.state!==d&&x0.enqueueReplaceState(p,p.state,null)}function eb(d,p,_,b){var A=d.stateNode;A.props=_,A.state=d.memoizedState,A.refs=fN,Jw(d);var O=p.contextType;typeof O=="object"&&O!==null?A.context=ls(O):(O=Dt(p)?bt:it.current,A.context=zt(d,O)),A.state=d.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(Qw(d,p,O,_),A.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(p=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),p!==A.state&&x0.enqueueReplaceState(A,A.state,null),y0(d,_,A,b),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308)}var ef=[],tf=0,_0=null,S0=0,us=[],cs=0,pu=null,ra=1,ia="";function mu(d,p){ef[tf++]=S0,ef[tf++]=_0,_0=d,S0=p}function mN(d,p,_){us[cs++]=ra,us[cs++]=ia,us[cs++]=pu,pu=d;var b=ra;d=ia;var A=32-vn(b)-1;b&=~(1<<A),_+=1;var O=32-vn(p)+A;if(30<O){var W=A-A%5;O=(b&(1<<W)-1).toString(32),b>>=W,A-=W,ra=1<<32-vn(p)+A|_<<A|b,ia=O+d}else ra=1<<O|_<<A|b,ia=d}function tb(d){d.return!==null&&(mu(d,1),mN(d,1,0))}function nb(d){for(;d===_0;)_0=ef[--tf],ef[tf]=null,S0=ef[--tf],ef[tf]=null;for(;d===pu;)pu=us[--cs],us[cs]=null,ia=us[--cs],us[cs]=null,ra=us[--cs],us[cs]=null}var Vi=null,ji=null,bn=!1,Ph=!1,Vs=null;function gN(d,p){var _=ps(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=d,p=d.deletions,p===null?(d.deletions=[_],d.flags|=16):p.push(_)}function vN(d,p){switch(d.tag){case 5:return p=Us(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,Vi=d,ji=ea(p),!0):!1;case 6:return p=kw(p,d.pendingProps),p!==null?(d.stateNode=p,Vi=d,ji=null,!0):!1;case 13:if(p=o0(p),p!==null){var _=pu!==null?{id:ra,overflow:ia}:null;return d.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=ps(18,null,null,0),_.stateNode=p,_.return=d,d.child=_,Vi=d,ji=null,!0}return!1;default:return!1}}function rb(d){return(d.mode&1)!==0&&(d.flags&128)===0}function ib(d){if(bn){var p=ji;if(p){var _=p;if(!vN(d,p)){if(rb(d))throw Error(o(418));p=$a(_);var b=Vi;p&&vN(d,p)?gN(b,_):(d.flags=d.flags&-4097|2,bn=!1,Vi=d)}}else{if(rb(d))throw Error(o(418));d.flags=d.flags&-4097|2,bn=!1,Vi=d}}}function yN(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Vi=d}function Rh(d){if(!Ye||d!==Vi)return!1;if(!bn)return yN(d),bn=!0,!1;if(d.tag!==3&&(d.tag!==5||zw(d.type)&&!ct(d.type,d.memoizedProps))){var p=ji;if(p){if(rb(d)){for(d=ji;d;)d=$a(d);throw Error(o(418))}for(;p;)gN(d,p),p=$a(p)}}if(yN(d),d.tag===13){if(!Ye)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ji=Zc(d)}else ji=Vi?$a(d.stateNode):null;return!0}function nf(){Ye&&(ji=Vi=null,Ph=bn=!1)}function sb(d){Vs===null?Vs=[d]:Vs.push(d)}function Ih(d,p,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var b=_.stateNode}if(!b)throw Error(o(147,d));var A=b,O=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===O?p.ref:(p=function(W){var ee=A.refs;ee===fN&&(ee=A.refs={}),W===null?delete ee[O]:ee[O]=W},p._stringRef=O,p)}if(typeof d!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,d))}return d}function w0(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function xN(d){var p=d._init;return p(d._payload)}function _N(d){function p(se,ne){if(d){var he=se.deletions;he===null?(se.deletions=[ne],se.flags|=16):he.push(ne)}}function _(se,ne){if(!d)return null;for(;ne!==null;)p(se,ne),ne=ne.sibling;return null}function b(se,ne){for(se=new Map;ne!==null;)ne.key!==null?se.set(ne.key,ne):se.set(ne.index,ne),ne=ne.sibling;return se}function A(se,ne){return se=el(se,ne),se.index=0,se.sibling=null,se}function O(se,ne,he){return se.index=he,d?(he=se.alternate,he!==null?(he=he.index,he<ne?(se.flags|=2,ne):he):(se.flags|=2,ne)):(se.flags|=1048576,ne)}function W(se){return d&&se.alternate===null&&(se.flags|=2),se}function ee(se,ne,he,Ke){return ne===null||ne.tag!==6?(ne=jb(he,se.mode,Ke),ne.return=se,ne):(ne=A(ne,he),ne.return=se,ne)}function ge(se,ne,he,Ke){var dt=he.type;return dt===c?st(se,ne,he.props.children,Ke,he.key):ne!==null&&(ne.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&xN(dt)===ne.type)?(Ke=A(ne,he.props),Ke.ref=Ih(se,ne,he),Ke.return=se,Ke):(Ke=Q0(he.type,he.key,he.props,null,se.mode,Ke),Ke.ref=Ih(se,ne,he),Ke.return=se,Ke)}function Ne(se,ne,he,Ke){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=Hb(he,se.mode,Ke),ne.return=se,ne):(ne=A(ne,he.children||[]),ne.return=se,ne)}function st(se,ne,he,Ke,dt){return ne===null||ne.tag!==7?(ne=wu(he,se.mode,Ke,dt),ne.return=se,ne):(ne=A(ne,he),ne.return=se,ne)}function At(se,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=jb(""+ne,se.mode,he),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return he=Q0(ne.type,ne.key,ne.props,null,se.mode,he),he.ref=Ih(se,null,ne),he.return=se,he;case u:return ne=Hb(ne,se.mode,he),ne.return=se,ne;case w:var Ke=ne._init;return At(se,Ke(ne._payload),he)}if(Y(ne)||T(ne))return ne=wu(ne,se.mode,he,null),ne.return=se,ne;w0(se,ne)}return null}function xt(se,ne,he,Ke){var dt=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return dt!==null?null:ee(se,ne,""+he,Ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===dt?ge(se,ne,he,Ke):null;case u:return he.key===dt?Ne(se,ne,he,Ke):null;case w:return dt=he._init,xt(se,ne,dt(he._payload),Ke)}if(Y(he)||T(he))return dt!==null?null:st(se,ne,he,Ke,null);w0(se,he)}return null}function un(se,ne,he,Ke,dt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return se=se.get(he)||null,ee(ne,se,""+Ke,dt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case l:return se=se.get(Ke.key===null?he:Ke.key)||null,ge(ne,se,Ke,dt);case u:return se=se.get(Ke.key===null?he:Ke.key)||null,Ne(ne,se,Ke,dt);case w:var Ot=Ke._init;return un(se,ne,he,Ot(Ke._payload),dt)}if(Y(Ke)||T(Ke))return se=se.get(he)||null,st(ne,se,Ke,dt,null);w0(ne,Ke)}return null}function pt(se,ne,he,Ke){for(var dt=null,Ot=null,Tt=ne,qt=ne=0,vr=null;Tt!==null&&qt<he.length;qt++){Tt.index>qt?(vr=Tt,Tt=null):vr=Tt.sibling;var Yt=xt(se,Tt,he[qt],Ke);if(Yt===null){Tt===null&&(Tt=vr);break}d&&Tt&&Yt.alternate===null&&p(se,Tt),ne=O(Yt,ne,qt),Ot===null?dt=Yt:Ot.sibling=Yt,Ot=Yt,Tt=vr}if(qt===he.length)return _(se,Tt),bn&&mu(se,qt),dt;if(Tt===null){for(;qt<he.length;qt++)Tt=At(se,he[qt],Ke),Tt!==null&&(ne=O(Tt,ne,qt),Ot===null?dt=Tt:Ot.sibling=Tt,Ot=Tt);return bn&&mu(se,qt),dt}for(Tt=b(se,Tt);qt<he.length;qt++)vr=un(Tt,se,qt,he[qt],Ke),vr!==null&&(d&&vr.alternate!==null&&Tt.delete(vr.key===null?qt:vr.key),ne=O(vr,ne,qt),Ot===null?dt=vr:Ot.sibling=vr,Ot=vr);return d&&Tt.forEach(function(tl){return p(se,tl)}),bn&&mu(se,qt),dt}function Vr(se,ne,he,Ke){var dt=T(he);if(typeof dt!="function")throw Error(o(150));if(he=dt.call(he),he==null)throw Error(o(151));for(var Ot=dt=null,Tt=ne,qt=ne=0,vr=null,Yt=he.next();Tt!==null&&!Yt.done;qt++,Yt=he.next()){Tt.index>qt?(vr=Tt,Tt=null):vr=Tt.sibling;var tl=xt(se,Tt,Yt.value,Ke);if(tl===null){Tt===null&&(Tt=vr);break}d&&Tt&&tl.alternate===null&&p(se,Tt),ne=O(tl,ne,qt),Ot===null?dt=tl:Ot.sibling=tl,Ot=tl,Tt=vr}if(Yt.done)return _(se,Tt),bn&&mu(se,qt),dt;if(Tt===null){for(;!Yt.done;qt++,Yt=he.next())Yt=At(se,Yt.value,Ke),Yt!==null&&(ne=O(Yt,ne,qt),Ot===null?dt=Yt:Ot.sibling=Yt,Ot=Yt);return bn&&mu(se,qt),dt}for(Tt=b(se,Tt);!Yt.done;qt++,Yt=he.next())Yt=un(Tt,se,qt,Yt.value,Ke),Yt!==null&&(d&&Yt.alternate!==null&&Tt.delete(Yt.key===null?qt:Yt.key),ne=O(Yt,ne,qt),Ot===null?dt=Yt:Ot.sibling=Yt,Ot=Yt);return d&&Tt.forEach(function(QX){return p(se,QX)}),bn&&mu(se,qt),dt}function ms(se,ne,he,Ke){if(typeof he=="object"&&he!==null&&he.type===c&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var dt=he.key,Ot=ne;Ot!==null;){if(Ot.key===dt){if(dt=he.type,dt===c){if(Ot.tag===7){_(se,Ot.sibling),ne=A(Ot,he.props.children),ne.return=se,se=ne;break e}}else if(Ot.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&xN(dt)===Ot.type){_(se,Ot.sibling),ne=A(Ot,he.props),ne.ref=Ih(se,Ot,he),ne.return=se,se=ne;break e}_(se,Ot);break}else p(se,Ot);Ot=Ot.sibling}he.type===c?(ne=wu(he.props.children,se.mode,Ke,he.key),ne.return=se,se=ne):(Ke=Q0(he.type,he.key,he.props,null,se.mode,Ke),Ke.ref=Ih(se,ne,he),Ke.return=se,se=Ke)}return W(se);case u:e:{for(Ot=he.key;ne!==null;){if(ne.key===Ot)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){_(se,ne.sibling),ne=A(ne,he.children||[]),ne.return=se,se=ne;break e}else{_(se,ne);break}else p(se,ne);ne=ne.sibling}ne=Hb(he,se.mode,Ke),ne.return=se,se=ne}return W(se);case w:return Ot=he._init,ms(se,ne,Ot(he._payload),Ke)}if(Y(he))return pt(se,ne,he,Ke);if(T(he))return Vr(se,ne,he,Ke);w0(se,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ne!==null&&ne.tag===6?(_(se,ne.sibling),ne=A(ne,he),ne.return=se,se=ne):(_(se,ne),ne=jb(he,se.mode,Ke),ne.return=se,se=ne),W(se)):_(se,ne)}return ms}var rf=_N(!0),SN=_N(!1),Nh={},fs=We(Nh),Oh=We(Nh),sf=We(Nh);function xo(d){if(d===Nh)throw Error(o(174));return d}function ob(d,p){Re(sf,p),Re(Oh,d),Re(fs,Nh),d=q(p),Ae(fs),Re(fs,d)}function of(){Ae(fs),Ae(Oh),Ae(sf)}function wN(d){var p=xo(sf.current),_=xo(fs.current);p=F(_,d.type,p),_!==p&&(Re(Oh,d),Re(fs,p))}function ab(d){Oh.current===d&&(Ae(fs),Ae(Oh))}var Cn=We(0);function b0(d){for(var p=d;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Yc(_)||bh(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var lb=[];function ub(){for(var d=0;d<lb.length;d++){var p=lb[d];be?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}lb.length=0}var M0=a.ReactCurrentDispatcher,ds=a.ReactCurrentBatchConfig,af=0,kn=null,Ur=null,gr=null,E0=!1,Lh=!1,Dh=0,MX=0;function zr(){throw Error(o(321))}function cb(d,p){if(p===null)return!1;for(var _=0;_<p.length&&_<d.length;_++)if(!go(d[_],p[_]))return!1;return!0}function fb(d,p,_,b,A,O){if(af=O,kn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,M0.current=d===null||d.memoizedState===null?CX:PX,d=_(b,A),Lh){O=0;do{if(Lh=!1,Dh=0,25<=O)throw Error(o(301));O+=1,gr=Ur=null,p.updateQueue=null,M0.current=RX,d=_(b,A)}while(Lh)}if(M0.current=R0,p=Ur!==null&&Ur.next!==null,af=0,gr=Ur=kn=null,E0=!1,p)throw Error(o(300));return d}function db(){var d=Dh!==0;return Dh=0,d}function sa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?kn.memoizedState=gr=d:gr=gr.next=d,gr}function _o(){if(Ur===null){var d=kn.alternate;d=d!==null?d.memoizedState:null}else d=Ur.next;var p=gr===null?kn.memoizedState:gr.next;if(p!==null)gr=p,Ur=d;else{if(d===null)throw Error(o(310));Ur=d,d={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},gr===null?kn.memoizedState=gr=d:gr=gr.next=d}return gr}function gu(d,p){return typeof p=="function"?p(d):p}function A0(d){var p=_o(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var b=Ur,A=b.baseQueue,O=_.pending;if(O!==null){if(A!==null){var W=A.next;A.next=O.next,O.next=W}b.baseQueue=A=O,_.pending=null}if(A!==null){O=A.next,b=b.baseState;var ee=W=null,ge=null,Ne=O;do{var st=Ne.lane;if((af&st)===st)ge!==null&&(ge=ge.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),b=Ne.hasEagerState?Ne.eagerState:d(b,Ne.action);else{var At={lane:st,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ge===null?(ee=ge=At,W=b):ge=ge.next=At,kn.lanes|=st,uf|=st}Ne=Ne.next}while(Ne!==null&&Ne!==O);ge===null?W=b:ge.next=ee,go(b,p.memoizedState)||(Hi=!0),p.memoizedState=b,p.baseState=W,p.baseQueue=ge,_.lastRenderedState=b}if(d=_.interleaved,d!==null){A=d;do O=A.lane,kn.lanes|=O,uf|=O,A=A.next;while(A!==d)}else A===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function T0(d){var p=_o(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var b=_.dispatch,A=_.pending,O=p.memoizedState;if(A!==null){_.pending=null;var W=A=A.next;do O=d(O,W.action),W=W.next;while(W!==A);go(O,p.memoizedState)||(Hi=!0),p.memoizedState=O,p.baseQueue===null&&(p.baseState=O),_.lastRenderedState=O}return[O,b]}function bN(){}function MN(d,p){var _=kn,b=_o(),A=p(),O=!go(b.memoizedState,A);if(O&&(b.memoizedState=A,Hi=!0),b=b.queue,Fh(TN.bind(null,_,b,d),[d]),b.getSnapshot!==p||O||gr!==null&&gr.memoizedState.tag&1){if(_.flags|=2048,kh(9,AN.bind(null,_,b,A,p),void 0,null),Jn===null)throw Error(o(349));af&30||EN(_,p,A)}return A}function EN(d,p,_){d.flags|=16384,d={getSnapshot:p,value:_},p=kn.updateQueue,p===null?(p={lastEffect:null,stores:null},kn.updateQueue=p,p.stores=[d]):(_=p.stores,_===null?p.stores=[d]:_.push(d))}function AN(d,p,_,b){p.value=_,p.getSnapshot=b,CN(p)&&hs(d,1,-1)}function TN(d,p,_){return _(function(){CN(p)&&hs(d,1,-1)})}function CN(d){var p=d.getSnapshot;d=d.value;try{var _=p();return!go(d,_)}catch{return!0}}function hb(d){var p=sa();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:d},p.queue=d,d=d.dispatch=TX.bind(null,kn,d),[p.memoizedState,d]}function kh(d,p,_,b){return d={tag:d,create:p,destroy:_,deps:b,next:null},p=kn.updateQueue,p===null?(p={lastEffect:null,stores:null},kn.updateQueue=p,p.lastEffect=d.next=d):(_=p.lastEffect,_===null?p.lastEffect=d.next=d:(b=_.next,_.next=d,d.next=b,p.lastEffect=d)),d}function PN(){return _o().memoizedState}function C0(d,p,_,b){var A=sa();kn.flags|=d,A.memoizedState=kh(1|p,_,void 0,b===void 0?null:b)}function P0(d,p,_,b){var A=_o();b=b===void 0?null:b;var O=void 0;if(Ur!==null){var W=Ur.memoizedState;if(O=W.destroy,b!==null&&cb(b,W.deps)){A.memoizedState=kh(p,_,O,b);return}}kn.flags|=d,A.memoizedState=kh(1|p,_,O,b)}function pb(d,p){return C0(8390656,8,d,p)}function Fh(d,p){return P0(2048,8,d,p)}function RN(d,p){return P0(4,2,d,p)}function IN(d,p){return P0(4,4,d,p)}function NN(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function ON(d,p,_){return _=_!=null?_.concat([d]):null,P0(4,4,NN.bind(null,p,d),_)}function mb(){}function LN(d,p){var _=_o();p=p===void 0?null:p;var b=_.memoizedState;return b!==null&&p!==null&&cb(p,b[1])?b[0]:(_.memoizedState=[d,p],d)}function DN(d,p){var _=_o();p=p===void 0?null:p;var b=_.memoizedState;return b!==null&&p!==null&&cb(p,b[1])?b[0]:(d=d(),_.memoizedState=[d,p],d)}function EX(d,p){var _=Xt;Xt=_!==0&&4>_?_:4,d(!0);var b=ds.transition;ds.transition={};try{d(!1),p()}finally{Xt=_,ds.transition=b}}function kN(){return _o().memoizedState}function AX(d,p,_){var b=Ja(d);_={lane:b,action:_,hasEagerState:!1,eagerState:null,next:null},FN(d)?UN(p,_):(zN(d,p,_),_=ni(),d=hs(d,b,_),d!==null&&BN(d,p,b))}function TX(d,p,_){var b=Ja(d),A={lane:b,action:_,hasEagerState:!1,eagerState:null,next:null};if(FN(d))UN(p,A);else{zN(d,p,A);var O=d.alternate;if(d.lanes===0&&(O===null||O.lanes===0)&&(O=p.lastRenderedReducer,O!==null))try{var W=p.lastRenderedState,ee=O(W,_);if(A.hasEagerState=!0,A.eagerState=ee,go(ee,W))return}catch{}finally{}_=ni(),d=hs(d,b,_),d!==null&&BN(d,p,b)}}function FN(d){var p=d.alternate;return d===kn||p!==null&&p===kn}function UN(d,p){Lh=E0=!0;var _=d.pending;_===null?p.next=p:(p.next=_.next,_.next=p),d.pending=p}function zN(d,p,_){Jn!==null&&d.mode&1&&!(Lt&2)?(d=p.interleaved,d===null?(_.next=_,yo===null?yo=[p]:yo.push(p)):(_.next=d.next,d.next=_),p.interleaved=_):(d=p.pending,d===null?_.next=_:(_.next=d.next,d.next=_),p.pending=_)}function BN(d,p,_){if(_&4194240){var b=p.lanes;b&=d.pendingLanes,_|=b,p.lanes=_,Hw(d,_)}}var R0={readContext:ls,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},CX={readContext:ls,useCallback:function(d,p){return sa().memoizedState=[d,p===void 0?null:p],d},useContext:ls,useEffect:pb,useImperativeHandle:function(d,p,_){return _=_!=null?_.concat([d]):null,C0(4194308,4,NN.bind(null,p,d),_)},useLayoutEffect:function(d,p){return C0(4194308,4,d,p)},useInsertionEffect:function(d,p){return C0(4,2,d,p)},useMemo:function(d,p){var _=sa();return p=p===void 0?null:p,d=d(),_.memoizedState=[d,p],d},useReducer:function(d,p,_){var b=sa();return p=_!==void 0?_(p):p,b.memoizedState=b.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},b.queue=d,d=d.dispatch=AX.bind(null,kn,d),[b.memoizedState,d]},useRef:function(d){var p=sa();return d={current:d},p.memoizedState=d},useState:hb,useDebugValue:mb,useDeferredValue:function(d){var p=hb(d),_=p[0],b=p[1];return pb(function(){var A=ds.transition;ds.transition={};try{b(d)}finally{ds.transition=A}},[d]),_},useTransition:function(){var d=hb(!1),p=d[0];return d=EX.bind(null,d[1]),sa().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,_){var b=kn,A=sa();if(bn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=p(),Jn===null)throw Error(o(349));af&30||EN(b,p,_)}A.memoizedState=_;var O={value:_,getSnapshot:p};return A.queue=O,pb(TN.bind(null,b,O,d),[d]),b.flags|=2048,kh(9,AN.bind(null,b,O,_,p),void 0,null),_},useId:function(){var d=sa(),p=Jn.identifierPrefix;if(bn){var _=ia,b=ra;_=(b&~(1<<32-vn(b)-1)).toString(32)+_,p=":"+p+"R"+_,_=Dh++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=MX++,p=":"+p+"r"+_.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},PX={readContext:ls,useCallback:LN,useContext:ls,useEffect:Fh,useImperativeHandle:ON,useInsertionEffect:RN,useLayoutEffect:IN,useMemo:DN,useReducer:A0,useRef:PN,useState:function(){return A0(gu)},useDebugValue:mb,useDeferredValue:function(d){var p=A0(gu),_=p[0],b=p[1];return Fh(function(){var A=ds.transition;ds.transition={};try{b(d)}finally{ds.transition=A}},[d]),_},useTransition:function(){var d=A0(gu)[0],p=_o().memoizedState;return[d,p]},useMutableSource:bN,useSyncExternalStore:MN,useId:kN,unstable_isNewReconciler:!1},RX={readContext:ls,useCallback:LN,useContext:ls,useEffect:Fh,useImperativeHandle:ON,useInsertionEffect:RN,useLayoutEffect:IN,useMemo:DN,useReducer:T0,useRef:PN,useState:function(){return T0(gu)},useDebugValue:mb,useDeferredValue:function(d){var p=T0(gu),_=p[0],b=p[1];return Fh(function(){var A=ds.transition;ds.transition={};try{b(d)}finally{ds.transition=A}},[d]),_},useTransition:function(){var d=T0(gu)[0],p=_o().memoizedState;return[d,p]},useMutableSource:bN,useSyncExternalStore:MN,useId:kN,unstable_isNewReconciler:!1};function gb(d,p){try{var _="",b=p;do _+=bX(b),b=b.return;while(b);var A=_}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:d,source:p,stack:A}}function vb(d,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var IX=typeof WeakMap=="function"?WeakMap:Map;function VN(d,p,_){_=na(-1,_),_.tag=3,_.payload={element:null};var b=p.value;return _.callback=function(){$0||($0=!0,Db=b),vb(d,p)},_}function jN(d,p,_){_=na(-1,_),_.tag=3;var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var A=p.value;_.payload=function(){return b(A)},_.callback=function(){vb(d,p)}}var O=d.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(_.callback=function(){vb(d,p),typeof b!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})}),_}function HN(d,p,_){var b=d.pingCache;if(b===null){b=d.pingCache=new IX;var A=new Set;b.set(p,A)}else A=b.get(p),A===void 0&&(A=new Set,b.set(p,A));A.has(_)||(A.add(_),d=GX.bind(null,d,p,_),p.then(d,d))}function WN(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function GN(d,p,_,b,A){return d.mode&1?(d.flags|=65536,d.lanes=A,d):(d===p?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=na(-1,1),p.tag=2,Ya(_,p))),_.lanes|=1),d)}function So(d){d.flags|=4}function $N(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Uh,zh,I0,N0;if(ze)Uh=function(d,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)fe(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},zh=function(){},I0=function(d,p,_,b,A){if(d=d.memoizedProps,d!==b){var O=p.stateNode,W=xo(fs.current);_=Ge(O,_,d,b,A,W),(p.updateQueue=_)&&So(p)}},N0=function(d,p,_,b){_!==b&&So(p)};else if(ve){Uh=function(d,p,_,b){for(var A=p.child;A!==null;){if(A.tag===5){var O=A.stateNode;_&&b&&(O=$t(O,A.type,A.memoizedProps,A)),fe(d,O)}else if(A.tag===6)O=A.stateNode,_&&b&&(O=Bi(O,A.memoizedProps,A)),fe(d,O);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)O=A.child,O!==null&&(O.return=A),Uh(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var XN=function(d,p,_,b){for(var A=p.child;A!==null;){if(A.tag===5){var O=A.stateNode;_&&b&&(O=$t(O,A.type,A.memoizedProps,A)),Fe(d,O)}else if(A.tag===6)O=A.stateNode,_&&b&&(O=Bi(O,A.memoizedProps,A)),Fe(d,O);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)O=A.child,O!==null&&(O.return=A),XN(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};zh=function(d,p){var _=p.stateNode;if(!$N(d,p)){d=_.containerInfo;var b=_e(d);XN(b,p,!1,!1),_.pendingChildren=b,So(p),wt(d,b)}},I0=function(d,p,_,b,A){var O=d.stateNode,W=d.memoizedProps;if((d=$N(d,p))&&W===b)p.stateNode=O;else{var ee=p.stateNode,ge=xo(fs.current),Ne=null;W!==b&&(Ne=Ge(ee,_,W,b,A,ge)),d&&Ne===null?p.stateNode=O:(O=Ce(O,Ne,_,W,b,p,d,ee),Ee(O,_,b,A,ge)&&So(p),p.stateNode=O,d?So(p):Uh(O,p,!1,!1))}},N0=function(d,p,_,b){_!==b?(d=xo(sf.current),_=xo(fs.current),p.stateNode=ae(b,d,_,p),So(p)):p.stateNode=d.stateNode}}else zh=function(){},I0=function(){},N0=function(){};function Bh(d,p){if(!bn)switch(d.tailMode){case"hidden":p=d.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var b=null;_!==null;)_.alternate!==null&&(b=_),_=_.sibling;b===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function Br(d){var p=d.alternate!==null&&d.alternate.child===d.child,_=0,b=0;if(p)for(var A=d.child;A!==null;)_|=A.lanes|A.childLanes,b|=A.subtreeFlags&14680064,b|=A.flags&14680064,A.return=d,A=A.sibling;else for(A=d.child;A!==null;)_|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=d,A=A.sibling;return d.subtreeFlags|=b,d.childLanes=_,p}function NX(d,p,_){var b=p.pendingProps;switch(nb(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(p),null;case 1:return Dt(p.type)&&ln(),Br(p),null;case 3:return b=p.stateNode,of(),Ae(Qe),Ae(it),ub(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(Rh(p)?So(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Vs!==null&&(Ub(Vs),Vs=null))),zh(d,p),Br(p),null;case 5:ab(p),_=xo(sf.current);var A=p.type;if(d!==null&&p.stateNode!=null)I0(d,p,A,b,_),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!b){if(p.stateNode===null)throw Error(o(166));return Br(p),null}if(d=xo(fs.current),Rh(p)){if(!Ye)throw Error(o(175));d=u0(p.stateNode,p.type,p.memoizedProps,_,d,p,!Ph),p.updateQueue=d,d!==null&&So(p)}else{var O=Z(A,b,_,d,p);Uh(O,p,!1,!1),p.stateNode=O,Ee(O,A,b,_,d)&&So(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Br(p),null;case 6:if(d&&p.stateNode!=null)N0(d,p,d.memoizedProps,b);else{if(typeof b!="string"&&p.stateNode===null)throw Error(o(166));if(d=xo(sf.current),_=xo(fs.current),Rh(p)){if(!Ye)throw Error(o(176));if(d=p.stateNode,b=p.memoizedProps,(_=Kc(d,b,p,!Ph))&&(A=Vi,A!==null))switch(O=(A.mode&1)!==0,A.tag){case 3:Bw(A.stateNode.containerInfo,d,b,O);break;case 5:Vw(A.type,A.memoizedProps,A.stateNode,d,b,O)}_&&So(p)}else p.stateNode=ae(b,d,_,p)}return Br(p),null;case 13:if(Ae(Cn),b=p.memoizedState,bn&&ji!==null&&p.mode&1&&!(p.flags&128)){for(d=ji;d;)d=$a(d);return nf(),p.flags|=98560,p}if(b!==null&&b.dehydrated!==null){if(b=Rh(p),d===null){if(!b)throw Error(o(318));if(!Ye)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));c0(d,p)}else nf(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Br(p),null}return Vs!==null&&(Ub(Vs),Vs=null),p.flags&128?(p.lanes=_,p):(b=b!==null,_=!1,d===null?Rh(p):_=d.memoizedState!==null,b&&!_&&(p.child.flags|=8192,p.mode&1&&(d===null||Cn.current&1?or===0&&(or=3):Bb())),p.updateQueue!==null&&(p.flags|=4),Br(p),null);case 4:return of(),zh(d,p),d===null&&we(p.stateNode.containerInfo),Br(p),null;case 10:return Kw(p.type._context),Br(p),null;case 17:return Dt(p.type)&&ln(),Br(p),null;case 19:if(Ae(Cn),A=p.memoizedState,A===null)return Br(p),null;if(b=(p.flags&128)!==0,O=A.rendering,O===null)if(b)Bh(A,!1);else{if(or!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(O=b0(d),O!==null){for(p.flags|=128,Bh(A,!1),d=O.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=_,b=p.child;b!==null;)_=b,A=d,_.flags&=14680066,O=_.alternate,O===null?(_.childLanes=0,_.lanes=A,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=O.childLanes,_.lanes=O.lanes,_.child=O.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=O.memoizedProps,_.memoizedState=O.memoizedState,_.updateQueue=O.updateQueue,_.type=O.type,A=O.dependencies,_.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),b=b.sibling;return Re(Cn,Cn.current&1|2),p.child}d=d.sibling}A.tail!==null&&mr()>Lb&&(p.flags|=128,b=!0,Bh(A,!1),p.lanes=4194304)}else{if(!b)if(d=b0(O),d!==null){if(p.flags|=128,b=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),Bh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!O.alternate&&!bn)return Br(p),null}else 2*mr()-A.renderingStartTime>Lb&&_!==1073741824&&(p.flags|=128,b=!0,Bh(A,!1),p.lanes=4194304);A.isBackwards?(O.sibling=p.child,p.child=O):(d=A.last,d!==null?d.sibling=O:p.child=O,A.last=O)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=mr(),p.sibling=null,d=Cn.current,Re(Cn,b?d&1|2:d&1),p):(Br(p),null);case 22:case 23:return zb(),b=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==b&&(p.flags|=8192),b&&p.mode&1?Wi&1073741824&&(Br(p),ze&&p.subtreeFlags&6&&(p.flags|=8192)):Br(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var OX=a.ReactCurrentOwner,Hi=!1;function ti(d,p,_,b){p.child=d===null?SN(p,null,_,b):rf(p,d.child,_,b)}function qN(d,p,_,b,A){_=_.render;var O=p.ref;return Qc(p,A),b=fb(d,p,_,b,O,A),_=db(),d!==null&&!Hi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~A,oa(d,p,A)):(bn&&_&&tb(p),p.flags|=1,ti(d,p,b,A),p.child)}function YN(d,p,_,b,A){if(d===null){var O=_.type;return typeof O=="function"&&!Vb(O)&&O.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=O,KN(d,p,O,b,A)):(d=Q0(_.type,null,b,p,p.mode,A),d.ref=p.ref,d.return=p,p.child=d)}if(O=d.child,!(d.lanes&A)){var W=O.memoizedProps;if(_=_.compare,_=_!==null?_:p0,_(W,b)&&d.ref===p.ref)return oa(d,p,A)}return p.flags|=1,d=el(O,b),d.ref=p.ref,d.return=p,p.child=d}function KN(d,p,_,b,A){if(d!==null&&p0(d.memoizedProps,b)&&d.ref===p.ref)if(Hi=!1,(d.lanes&A)!==0)d.flags&131072&&(Hi=!0);else return p.lanes=d.lanes,oa(d,p,A);return yb(d,p,_,b,A)}function ZN(d,p,_){var b=p.pendingProps,A=b.children,O=d!==null?d.memoizedState:null;if(b.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Re(lf,Wi),Wi|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},b=O!==null?O.baseLanes:_,Re(lf,Wi),Wi|=b;else return d=O!==null?O.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,Re(lf,Wi),Wi|=d,null;else O!==null?(b=O.baseLanes|_,p.memoizedState=null):b=_,Re(lf,Wi),Wi|=b;return ti(d,p,A,_),p.child}function JN(d,p){var _=p.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function yb(d,p,_,b,A){var O=Dt(_)?bt:it.current;return O=zt(p,O),Qc(p,A),_=fb(d,p,_,b,O,A),b=db(),d!==null&&!Hi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~A,oa(d,p,A)):(bn&&b&&tb(p),p.flags|=1,ti(d,p,_,A),p.child)}function QN(d,p,_,b,A){if(Dt(_)){var O=!0;jt(p)}else O=!1;if(Qc(p,A),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),hN(p,_,b),eb(p,_,b,A),b=!0;else if(d===null){var W=p.stateNode,ee=p.memoizedProps;W.props=ee;var ge=W.context,Ne=_.contextType;typeof Ne=="object"&&Ne!==null?Ne=ls(Ne):(Ne=Dt(_)?bt:it.current,Ne=zt(p,Ne));var st=_.getDerivedStateFromProps,At=typeof st=="function"||typeof W.getSnapshotBeforeUpdate=="function";At||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==b||ge!==Ne)&&pN(p,W,b,Ne),qa=!1;var xt=p.memoizedState;W.state=xt,y0(p,b,W,A),ge=p.memoizedState,ee!==b||xt!==ge||Qe.current||qa?(typeof st=="function"&&(Qw(p,_,st,b),ge=p.memoizedState),(ee=qa||dN(p,_,ee,b,xt,ge,Ne))?(At||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=b,p.memoizedState=ge),W.props=b,W.state=ge,W.context=Ne,b=ee):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),b=!1)}else{W=p.stateNode,lN(d,p),ee=p.memoizedProps,Ne=p.type===p.elementType?ee:Bs(p.type,ee),W.props=Ne,At=p.pendingProps,xt=W.context,ge=_.contextType,typeof ge=="object"&&ge!==null?ge=ls(ge):(ge=Dt(_)?bt:it.current,ge=zt(p,ge));var un=_.getDerivedStateFromProps;(st=typeof un=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==At||xt!==ge)&&pN(p,W,b,ge),qa=!1,xt=p.memoizedState,W.state=xt,y0(p,b,W,A);var pt=p.memoizedState;ee!==At||xt!==pt||Qe.current||qa?(typeof un=="function"&&(Qw(p,_,un,b),pt=p.memoizedState),(Ne=qa||dN(p,_,Ne,b,xt,pt,ge)||!1)?(st||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(b,pt,ge),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(b,pt,ge)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(p.flags|=1024),p.memoizedProps=b,p.memoizedState=pt),W.props=b,W.state=pt,W.context=ge,b=Ne):(typeof W.componentDidUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(p.flags|=1024),b=!1)}return xb(d,p,_,b,O,A)}function xb(d,p,_,b,A,O){JN(d,p);var W=(p.flags&128)!==0;if(!b&&!W)return A&&Bt(p,_,!1),oa(d,p,O);b=p.stateNode,OX.current=p;var ee=W&&typeof _.getDerivedStateFromError!="function"?null:b.render();return p.flags|=1,d!==null&&W?(p.child=rf(p,d.child,null,O),p.child=rf(p,null,ee,O)):ti(d,p,ee,O),p.memoizedState=b.state,A&&Bt(p,_,!0),p.child}function eO(d){var p=d.stateNode;p.pendingContext?Qt(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Qt(d,p.context,!1),ob(d,p.containerInfo)}function tO(d,p,_,b,A){return nf(),sb(A),p.flags|=256,ti(d,p,_,b),p.child}var O0={dehydrated:null,treeContext:null,retryLane:0};function L0(d){return{baseLanes:d,cachePool:null}}function nO(d,p,_){var b=p.pendingProps,A=Cn.current,O=!1,W=(p.flags&128)!==0,ee;if((ee=W)||(ee=d!==null&&d.memoizedState===null?!1:(A&2)!==0),ee?(O=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(A|=1),Re(Cn,A&1),d===null)return ib(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?bh(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(A=b.children,d=b.fallback,O?(b=p.mode,O=p.child,A={mode:"hidden",children:A},!(b&1)&&O!==null?(O.childLanes=0,O.pendingProps=A):O=ev(A,b,0,null),d=wu(d,b,_,null),O.return=p,d.return=p,O.sibling=d,p.child=O,p.child.memoizedState=L0(_),p.memoizedState=O0,d):_b(p,A));if(A=d.memoizedState,A!==null){if(ee=A.dehydrated,ee!==null){if(W)return p.flags&256?(p.flags&=-257,D0(d,p,_,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(O=b.fallback,A=p.mode,b=ev({mode:"visible",children:b.children},A,0,null),O=wu(O,A,_,null),O.flags|=2,b.return=p,O.return=p,b.sibling=O,p.child=b,p.mode&1&&rf(p,d.child,null,_),p.child.memoizedState=L0(_),p.memoizedState=O0,O);if(!(p.mode&1))p=D0(d,p,_,null);else if(bh(ee))p=D0(d,p,_,Error(o(419)));else if(b=(_&d.childLanes)!==0,Hi||b){if(b=Jn,b!==null){switch(_&-_){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}b=O&(b.suspendedLanes|_)?0:O,b!==0&&b!==A.retryLane&&(A.retryLane=b,hs(d,b,-1))}Bb(),p=D0(d,p,_,Error(o(421)))}else Yc(ee)?(p.flags|=128,p.child=d.child,p=$X.bind(null,d),a0(ee,p),p=null):(_=A.treeContext,Ye&&(ji=l0(ee),Vi=p,bn=!0,Vs=null,Ph=!1,_!==null&&(us[cs++]=ra,us[cs++]=ia,us[cs++]=pu,ra=_.id,ia=_.overflow,pu=p)),p=_b(p,p.pendingProps.children),p.flags|=4096);return p}return O?(b=iO(d,p,b.children,b.fallback,_),O=p.child,A=d.child.memoizedState,O.memoizedState=A===null?L0(_):{baseLanes:A.baseLanes|_,cachePool:null},O.childLanes=d.childLanes&~_,p.memoizedState=O0,b):(_=rO(d,p,b.children,_),p.memoizedState=null,_)}return O?(b=iO(d,p,b.children,b.fallback,_),O=p.child,A=d.child.memoizedState,O.memoizedState=A===null?L0(_):{baseLanes:A.baseLanes|_,cachePool:null},O.childLanes=d.childLanes&~_,p.memoizedState=O0,b):(_=rO(d,p,b.children,_),p.memoizedState=null,_)}function _b(d,p){return p=ev({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function rO(d,p,_,b){var A=d.child;return d=A.sibling,_=el(A,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=b),_.return=p,_.sibling=null,d!==null&&(b=p.deletions,b===null?(p.deletions=[d],p.flags|=16):b.push(d)),p.child=_}function iO(d,p,_,b,A){var O=p.mode;d=d.child;var W=d.sibling,ee={mode:"hidden",children:_};return!(O&1)&&p.child!==d?(_=p.child,_.childLanes=0,_.pendingProps=ee,p.deletions=null):(_=el(d,ee),_.subtreeFlags=d.subtreeFlags&14680064),W!==null?b=el(W,b):(b=wu(b,O,A,null),b.flags|=2),b.return=p,_.return=p,_.sibling=b,p.child=_,b}function D0(d,p,_,b){return b!==null&&sb(b),rf(p,d.child,null,_),d=_b(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function sO(d,p,_){d.lanes|=p;var b=d.alternate;b!==null&&(b.lanes|=p),Zw(d.return,p,_)}function Sb(d,p,_,b,A){var O=d.memoizedState;O===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:b,tail:_,tailMode:A}:(O.isBackwards=p,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=_,O.tailMode=A)}function oO(d,p,_){var b=p.pendingProps,A=b.revealOrder,O=b.tail;if(ti(d,p,b.children,_),b=Cn.current,b&2)b=b&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&sO(d,_,p);else if(d.tag===19)sO(d,_,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}b&=1}if(Re(Cn,b),!(p.mode&1))p.memoizedState=null;else switch(A){case"forwards":for(_=p.child,A=null;_!==null;)d=_.alternate,d!==null&&b0(d)===null&&(A=_),_=_.sibling;_=A,_===null?(A=p.child,p.child=null):(A=_.sibling,_.sibling=null),Sb(p,!1,A,_,O);break;case"backwards":for(_=null,A=p.child,p.child=null;A!==null;){if(d=A.alternate,d!==null&&b0(d)===null){p.child=A;break}d=A.sibling,A.sibling=_,_=A,A=d}Sb(p,!0,_,null,O);break;case"together":Sb(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function oa(d,p,_){if(d!==null&&(p.dependencies=d.dependencies),uf|=p.lanes,!(_&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,_=el(d,d.pendingProps),p.child=_,_.return=p;d.sibling!==null;)d=d.sibling,_=_.sibling=el(d,d.pendingProps),_.return=p;_.sibling=null}return p.child}function LX(d,p,_){switch(p.tag){case 3:eO(p),nf();break;case 5:wN(p);break;case 1:Dt(p.type)&&jt(p);break;case 4:ob(p,p.stateNode.containerInfo);break;case 10:aN(p,p.type._context,p.memoizedProps.value);break;case 13:var b=p.memoizedState;if(b!==null)return b.dehydrated!==null?(Re(Cn,Cn.current&1),p.flags|=128,null):_&p.child.childLanes?nO(d,p,_):(Re(Cn,Cn.current&1),d=oa(d,p,_),d!==null?d.sibling:null);Re(Cn,Cn.current&1);break;case 19:if(b=(_&p.childLanes)!==0,d.flags&128){if(b)return oO(d,p,_);p.flags|=128}var A=p.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Re(Cn,Cn.current),b)break;return null;case 22:case 23:return p.lanes=0,ZN(d,p,_)}return oa(d,p,_)}function DX(d,p){switch(nb(p),p.tag){case 1:return Dt(p.type)&&ln(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return of(),Ae(Qe),Ae(it),ub(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return ab(p),null;case 13:if(Ae(Cn),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));nf()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Ae(Cn),null;case 4:return of(),null;case 10:return Kw(p.type._context),null;case 22:case 23:return zb(),null;case 24:return null;default:return null}}var k0=!1,vu=!1,kX=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function F0(d,p){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(b){wi(d,p,b)}else _.current=null}function wb(d,p,_){try{_()}catch(b){wi(d,p,b)}}var aO=!1;function FX(d,p){for($(d.containerInfo),Xe=p;Xe!==null;)if(d=Xe,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,Xe=p;else for(;Xe!==null;){d=Xe;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,A=_.memoizedState,O=d.stateNode,W=O.getSnapshotBeforeUpdate(d.elementType===d.type?b:Bs(d.type,b),A);O.__reactInternalSnapshotBeforeUpdate=W}break;case 3:ze&&Ze(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ee){wi(d,d.return,ee)}if(p=d.sibling,p!==null){p.return=d.return,Xe=p;break}Xe=d.return}return _=aO,aO=!1,_}function yu(d,p,_){var b=p.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&d)===d){var O=A.destroy;A.destroy=void 0,O!==void 0&&wb(p,_,O)}A=A.next}while(A!==b)}}function Vh(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&d)===d){var b=_.create;_.destroy=b()}_=_.next}while(_!==p)}}function bb(d){var p=d.ref;if(p!==null){var _=d.stateNode;switch(d.tag){case 5:d=K(_);break;default:d=_}typeof p=="function"?p(d):p.current=d}}function lO(d,p,_){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(d0,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var b=d=d.next;do{var A=b,O=A.destroy;A=A.tag,O!==void 0&&(A&2||A&4)&&wb(p,_,O),b=b.next}while(b!==d)}break;case 1:if(F0(p,_),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(W){wi(p,_,W)}break;case 5:F0(p,_);break;case 4:ze?pO(d,p,_):ve&&ve&&(p=p.stateNode.containerInfo,_=_e(p),tn(p,_))}}function uO(d,p,_){for(var b=p;;)if(lO(d,b,_),b.child===null||ze&&b.tag===4){if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function cO(d){var p=d.alternate;p!==null&&(d.alternate=null,cO(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Le(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function fO(d){return d.tag===5||d.tag===3||d.tag===4}function dO(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||fO(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function hO(d){if(ze){e:{for(var p=d.return;p!==null;){if(fO(p))break e;p=p.return}throw Error(o(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(Ue(p),_.flags&=-33),_=dO(d),Eb(d,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=dO(d),Mb(d,_,p);break;default:throw Error(o(161))}}}function Mb(d,p,_){var b=d.tag;if(b===5||b===6)d=d.stateNode,p?Be(_,d,p):ut(_,d);else if(b!==4&&(d=d.child,d!==null))for(Mb(d,p,_),d=d.sibling;d!==null;)Mb(d,p,_),d=d.sibling}function Eb(d,p,_){var b=d.tag;if(b===5||b===6)d=d.stateNode,p?Te(_,d,p):me(_,d);else if(b!==4&&(d=d.child,d!==null))for(Eb(d,p,_),d=d.sibling;d!==null;)Eb(d,p,_),d=d.sibling}function pO(d,p,_){for(var b=p,A=!1,O,W;;){if(!A){A=b.return;e:for(;;){if(A===null)throw Error(o(160));switch(O=A.stateNode,A.tag){case 5:W=!1;break e;case 3:O=O.containerInfo,W=!0;break e;case 4:O=O.containerInfo,W=!0;break e}A=A.return}A=!0}if(b.tag===5||b.tag===6)uO(d,b,_),W?ft(O,b.stateNode):at(O,b.stateNode);else if(b.tag===18)W?Uw(O,b.stateNode):Fw(O,b.stateNode);else if(b.tag===4){if(b.child!==null){O=b.stateNode.containerInfo,W=!0,b.child.return=b,b=b.child;continue}}else if(lO(d,b,_),b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return,b.tag===4&&(A=!1)}b.sibling.return=b.return,b=b.sibling}}function Ab(d,p){if(ze){switch(p.tag){case 0:case 11:case 14:case 15:yu(3,p,p.return),Vh(3,p),yu(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var b=p.memoizedProps;d=d!==null?d.memoizedProps:b;var A=p.type,O=p.updateQueue;p.updateQueue=null,O!==null&&yt(_,O,A,d,b,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));_=p.memoizedProps,ke(p.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:Ye&&d!==null&&d.memoizedState.isDehydrated&&Eh(p.stateNode.containerInfo);return;case 12:return;case 13:U0(p);return;case 19:U0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:yu(3,p,p.return),Vh(3,p),yu(5,p,p.return);return;case 12:return;case 13:U0(p);return;case 19:U0(p);return;case 3:Ye&&d!==null&&d.memoizedState.isDehydrated&&Eh(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ve){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,tn(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function U0(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new kX),p.forEach(function(b){var A=XX.bind(null,d,b);_.has(b)||(_.add(b),b.then(A,A))})}}function UX(d,p){for(Xe=p;Xe!==null;){p=Xe;var _=p.deletions;if(_!==null)for(var b=0;b<_.length;b++){var A=_[b];try{var O=d;ze?pO(O,A,p):uO(O,A,p);var W=A.alternate;W!==null&&(W.return=null),A.return=null}catch(dt){wi(A,p,dt)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,Xe=_;else for(;Xe!==null;){p=Xe;try{var ee=p.flags;if(ee&32&&ze&&Ue(p.stateNode),ee&512){var ge=p.alternate;if(ge!==null){var Ne=ge.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(ee&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var st=p.alternate;(st===null||st.memoizedState===null)&&(Ob=mr())}break;case 22:var At=p.memoizedState!==null,xt=p.alternate,un=xt!==null&&xt.memoizedState!==null;if(_=p,ze){e:if(b=_,A=At,O=null,ze)for(var pt=b;;){if(pt.tag===5){if(O===null){O=pt;var Vr=pt.stateNode;A?It(Vr):$e(pt.stateNode,pt.memoizedProps)}}else if(pt.tag===6){if(O===null){var ms=pt.stateNode;A?J(ms):Ie(ms,pt.memoizedProps)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===b)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===b)break;for(;pt.sibling===null;){if(pt.return===null||pt.return===b)break e;O===pt&&(O=null),pt=pt.return}O===pt&&(O=null),pt.sibling.return=pt.return,pt=pt.sibling}}if(At&&!un&&_.mode&1){Xe=_;for(var se=_.child;se!==null;){for(_=Xe=se;Xe!==null;){b=Xe;var ne=b.child;switch(b.tag){case 0:case 11:case 14:case 15:yu(4,b,b.return);break;case 1:F0(b,b.return);var he=b.stateNode;if(typeof he.componentWillUnmount=="function"){var Ke=b.return;try{he.props=b.memoizedProps,he.state=b.memoizedState,he.componentWillUnmount()}catch(dt){wi(b,Ke,dt)}}break;case 5:F0(b,b.return);break;case 22:if(b.memoizedState!==null){vO(_);continue}}ne!==null?(ne.return=b,Xe=ne):vO(_)}se=se.sibling}}}switch(ee&4102){case 2:hO(p),p.flags&=-3;break;case 6:hO(p),p.flags&=-3,Ab(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Ab(p.alternate,p);break;case 4:Ab(p.alternate,p)}}catch(dt){wi(p,p.return,dt)}if(_=p.sibling,_!==null){_.return=p.return,Xe=_;break}Xe=p.return}}}function zX(d,p,_){Xe=d,mO(d)}function mO(d,p,_){for(var b=(d.mode&1)!==0;Xe!==null;){var A=Xe,O=A.child;if(A.tag===22&&b){var W=A.memoizedState!==null||k0;if(!W){var ee=A.alternate,ge=ee!==null&&ee.memoizedState!==null||vu;ee=k0;var Ne=vu;if(k0=W,(vu=ge)&&!Ne)for(Xe=A;Xe!==null;)W=Xe,ge=W.child,W.tag===22&&W.memoizedState!==null?yO(A):ge!==null?(ge.return=W,Xe=ge):yO(A);for(;O!==null;)Xe=O,mO(O),O=O.sibling;Xe=A,k0=ee,vu=Ne}gO(d)}else A.subtreeFlags&8772&&O!==null?(O.return=A,Xe=O):gO(d)}}function gO(d){for(;Xe!==null;){var p=Xe;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:vu||Vh(5,p);break;case 1:var b=p.stateNode;if(p.flags&4&&!vu)if(_===null)b.componentDidMount();else{var A=p.elementType===p.type?_.memoizedProps:Bs(p.type,_.memoizedProps);b.componentDidUpdate(A,_.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=p.updateQueue;O!==null&&cN(p,O,b);break;case 3:var W=p.updateQueue;if(W!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=K(p.child.stateNode);break;case 1:_=p.child.stateNode}cN(p,W,_)}break;case 5:var ee=p.stateNode;_===null&&p.flags&4&&ot(ee,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ye&&p.memoizedState===null){var ge=p.alternate;if(ge!==null){var Ne=ge.memoizedState;if(Ne!==null){var st=Ne.dehydrated;st!==null&&f0(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}vu||p.flags&512&&bb(p)}catch(At){wi(p,p.return,At)}}if(p===d){Xe=null;break}if(_=p.sibling,_!==null){_.return=p.return,Xe=_;break}Xe=p.return}}function vO(d){for(;Xe!==null;){var p=Xe;if(p===d){Xe=null;break}var _=p.sibling;if(_!==null){_.return=p.return,Xe=_;break}Xe=p.return}}function yO(d){for(;Xe!==null;){var p=Xe;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{Vh(4,p)}catch(ge){wi(p,_,ge)}break;case 1:var b=p.stateNode;if(typeof b.componentDidMount=="function"){var A=p.return;try{b.componentDidMount()}catch(ge){wi(p,A,ge)}}var O=p.return;try{bb(p)}catch(ge){wi(p,O,ge)}break;case 5:var W=p.return;try{bb(p)}catch(ge){wi(p,W,ge)}}}catch(ge){wi(p,p.return,ge)}if(p===d){Xe=null;break}var ee=p.sibling;if(ee!==null){ee.return=p.return,Xe=ee;break}Xe=p.return}}var z0=0,B0=1,V0=2,j0=3,H0=4;if(typeof Symbol=="function"&&Symbol.for){var jh=Symbol.for;z0=jh("selector.component"),B0=jh("selector.has_pseudo_class"),V0=jh("selector.role"),j0=jh("selector.test_id"),H0=jh("selector.text")}function Tb(d){var p=de(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=vt(d),d===null)throw Error(o(362));return d.stateNode.current}function Cb(d,p){switch(p.$$typeof){case z0:if(d.type===p.value)return!0;break;case B0:e:{p=p.value,d=[d,0];for(var _=0;_<d.length;){var b=d[_++],A=d[_++],O=p[A];if(b.tag!==5||!D(b)){for(;O!=null&&Cb(b,O);)A++,O=p[A];if(A===p.length){p=!0;break e}else for(b=b.child;b!==null;)d.push(b,A),b=b.sibling}}p=!1}return p;case V0:if(d.tag===5&&Q(d.stateNode,p.value))return!0;break;case H0:if((d.tag===5||d.tag===6)&&(d=B(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case j0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Pb(d){switch(d.$$typeof){case z0:return"<"+(I(d.value)||"Unknown")+">";case B0:return":has("+(Pb(d)||"")+")";case V0:return'[role="'+d.value+'"]';case H0:return'"'+d.value+'"';case j0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function xO(d,p){var _=[];d=[d,0];for(var b=0;b<d.length;){var A=d[b++],O=d[b++],W=p[O];if(A.tag!==5||!D(A)){for(;W!=null&&Cb(A,W);)O++,W=p[O];if(O===p.length)_.push(A);else for(A=A.child;A!==null;)d.push(A,O),A=A.sibling}}return _}function Rb(d,p){if(!je)throw Error(o(363));d=Tb(d),d=xO(d,p),p=[],d=Array.from(d);for(var _=0;_<d.length;){var b=d[_++];if(b.tag===5)D(b)||p.push(b.stateNode);else for(b=b.child;b!==null;)d.push(b),b=b.sibling}return p}var BX=Math.ceil,W0=a.ReactCurrentDispatcher,Ib=a.ReactCurrentOwner,$n=a.ReactCurrentBatchConfig,Lt=0,Jn=null,Qn=null,Tr=0,Wi=0,lf=We(0),or=0,Hh=null,uf=0,G0=0,Nb=0,Wh=null,_i=null,Ob=0,Lb=1/0;function cf(){Lb=mr()+500}var $0=!1,Db=null,Ka=null,X0=!1,Za=null,q0=0,Gh=0,kb=null,Y0=-1,K0=0;function ni(){return Lt&6?mr():Y0!==-1?Y0:Y0=mr()}function Ja(d){return d.mode&1?Lt&2&&Tr!==0?Tr&-Tr:wX.transition!==null?(K0===0&&(d=Zt,Zt<<=1,!(Zt&4194240)&&(Zt=64),K0=d),K0):(d=Xt,d!==0?d:xe()):1}function hs(d,p,_){if(50<Gh)throw Gh=0,kb=null,Error(o(185));var b=Z0(d,p);return b===null?null:(Ch(b,p,_),(!(Lt&2)||b!==Jn)&&(b===Jn&&(!(Lt&2)&&(G0|=p),or===4&&Qa(b,Tr)),Si(b,_),p===1&&Lt===0&&!(d.mode&1)&&(cf(),h0&&vo())),b)}function Z0(d,p){d.lanes|=p;var _=d.alternate;for(_!==null&&(_.lanes|=p),_=d,d=d.return;d!==null;)d.childLanes|=p,_=d.alternate,_!==null&&(_.childLanes|=p),_=d,d=d.return;return _.tag===3?_.stateNode:null}function Si(d,p){var _=d.callbackNode;Th(d,p);var b=Zn(d,d===Jn?Tr:0);if(b===0)_!==null&&sN(_),d.callbackNode=null,d.callbackPriority=0;else if(p=b&-b,d.callbackPriority!==p){if(_!=null&&sN(_),p===1)d.tag===0?SX(SO.bind(null,d)):oN(SO.bind(null,d)),H?mt(function(){Lt===0&&vo()}):Ww(Gw,vo),_=null;else{switch(iN(b)){case 1:_=Gw;break;case 4:_=vX;break;case 16:_=$w;break;case 536870912:_=yX;break;default:_=$w}_=RO(_,_O.bind(null,d))}d.callbackPriority=p,d.callbackNode=_}}function _O(d,p){if(Y0=-1,K0=0,Lt&6)throw Error(o(327));var _=d.callbackNode;if(Su()&&d.callbackNode!==_)return null;var b=Zn(d,d===Jn?Tr:0);if(b===0)return null;if(b&30||b&d.expiredLanes||p)p=J0(d,b);else{p=b;var A=Lt;Lt|=2;var O=MO();(Jn!==d||Tr!==p)&&(cf(),xu(d,p));do try{HX();break}catch(ee){bO(d,ee)}while(!0);Yw(),W0.current=O,Lt=A,Qn!==null?p=0:(Jn=null,Tr=0,p=or)}if(p!==0){if(p===2&&(A=zs(d),A!==0&&(b=A,p=Fb(d,A))),p===1)throw _=Hh,xu(d,0),Qa(d,b),Si(d,mr()),_;if(p===6)Qa(d,b);else{if(A=d.current.alternate,!(b&30)&&!VX(A)&&(p=J0(d,b),p===2&&(O=zs(d),O!==0&&(b=O,p=Fb(d,O))),p===1))throw _=Hh,xu(d,0),Qa(d,b),Si(d,mr()),_;switch(d.finishedWork=A,d.finishedLanes=b,p){case 0:case 1:throw Error(o(345));case 2:_u(d,_i);break;case 3:if(Qa(d,b),(b&130023424)===b&&(p=Ob+500-mr(),10<p)){if(Zn(d,0)!==0)break;if(A=d.suspendedLanes,(A&b)!==b){ni(),d.pingedLanes|=d.suspendedLanes&A;break}d.timeoutHandle=ye(_u.bind(null,d,_i),p);break}_u(d,_i);break;case 4:if(Qa(d,b),(b&4194240)===b)break;for(p=d.eventTimes,A=-1;0<b;){var W=31-vn(b);O=1<<W,W=p[W],W>A&&(A=W),b&=~O}if(b=A,b=mr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*BX(b/1960))-b,10<b){d.timeoutHandle=ye(_u.bind(null,d,_i),b);break}_u(d,_i);break;case 5:_u(d,_i);break;default:throw Error(o(329))}}}return Si(d,mr()),d.callbackNode===_?_O.bind(null,d):null}function Fb(d,p){var _=Wh;return d.current.memoizedState.isDehydrated&&(xu(d,p).flags|=256),d=J0(d,p),d!==2&&(p=_i,_i=_,p!==null&&Ub(p)),d}function Ub(d){_i===null?_i=d:_i.push.apply(_i,d)}function VX(d){for(var p=d;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var b=0;b<_.length;b++){var A=_[b],O=A.getSnapshot;A=A.value;try{if(!go(O(),A))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Qa(d,p){for(p&=~Nb,p&=~G0,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var _=31-vn(p),b=1<<_;d[_]=-1,p&=~b}}function SO(d){if(Lt&6)throw Error(o(327));Su();var p=Zn(d,0);if(!(p&1))return Si(d,mr()),null;var _=J0(d,p);if(d.tag!==0&&_===2){var b=zs(d);b!==0&&(p=b,_=Fb(d,b))}if(_===1)throw _=Hh,xu(d,0),Qa(d,p),Si(d,mr()),_;if(_===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,_u(d,_i),Si(d,mr()),null}function wO(d){Za!==null&&Za.tag===0&&!(Lt&6)&&Su();var p=Lt;Lt|=1;var _=$n.transition,b=Xt;try{if($n.transition=null,Xt=1,d)return d()}finally{Xt=b,$n.transition=_,Lt=p,!(Lt&6)&&vo()}}function zb(){Wi=lf.current,Ae(lf)}function xu(d,p){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==ie&&(d.timeoutHandle=ie,qe(_)),Qn!==null)for(_=Qn.return;_!==null;){var b=_;switch(nb(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&ln();break;case 3:of(),Ae(Qe),Ae(it),ub();break;case 5:ab(b);break;case 4:of();break;case 13:Ae(Cn);break;case 19:Ae(Cn);break;case 10:Kw(b.type._context);break;case 22:case 23:zb()}_=_.return}if(Jn=d,Qn=d=el(d.current,null),Tr=Wi=p,or=0,Hh=null,Nb=G0=uf=0,_i=Wh=null,yo!==null){for(p=0;p<yo.length;p++)if(_=yo[p],b=_.interleaved,b!==null){_.interleaved=null;var A=b.next,O=_.pending;if(O!==null){var W=O.next;O.next=A,b.next=W}_.pending=b}yo=null}return d}function bO(d,p){do{var _=Qn;try{if(Yw(),M0.current=R0,E0){for(var b=kn.memoizedState;b!==null;){var A=b.queue;A!==null&&(A.pending=null),b=b.next}E0=!1}if(af=0,gr=Ur=kn=null,Lh=!1,Dh=0,Ib.current=null,_===null||_.return===null){or=1,Hh=p,Qn=null;break}e:{var O=d,W=_.return,ee=_,ge=p;if(p=Tr,ee.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ne=ge,st=ee,At=st.tag;if(!(st.mode&1)&&(At===0||At===11||At===15)){var xt=st.alternate;xt?(st.updateQueue=xt.updateQueue,st.memoizedState=xt.memoizedState,st.lanes=xt.lanes):(st.updateQueue=null,st.memoizedState=null)}var un=WN(W);if(un!==null){un.flags&=-257,GN(un,W,ee,O,p),un.mode&1&&HN(O,Ne,p),p=un,ge=Ne;var pt=p.updateQueue;if(pt===null){var Vr=new Set;Vr.add(ge),p.updateQueue=Vr}else pt.add(ge);break e}else{if(!(p&1)){HN(O,Ne,p),Bb();break e}ge=Error(o(426))}}else if(bn&&ee.mode&1){var ms=WN(W);if(ms!==null){!(ms.flags&65536)&&(ms.flags|=256),GN(ms,W,ee,O,p),sb(ge);break e}}O=ge,or!==4&&(or=2),Wh===null?Wh=[O]:Wh.push(O),ge=gb(ge,ee),ee=W;do{switch(ee.tag){case 3:ee.flags|=65536,p&=-p,ee.lanes|=p;var se=VN(ee,ge,p);uN(ee,se);break e;case 1:O=ge;var ne=ee.type,he=ee.stateNode;if(!(ee.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ka===null||!Ka.has(he)))){ee.flags|=65536,p&=-p,ee.lanes|=p;var Ke=jN(ee,O,p);uN(ee,Ke);break e}}ee=ee.return}while(ee!==null)}AO(_)}catch(dt){p=dt,Qn===_&&_!==null&&(Qn=_=_.return);continue}break}while(!0)}function MO(){var d=W0.current;return W0.current=R0,d===null?R0:d}function Bb(){(or===0||or===3||or===2)&&(or=4),Jn===null||!(uf&268435455)&&!(G0&268435455)||Qa(Jn,Tr)}function J0(d,p){var _=Lt;Lt|=2;var b=MO();Jn===d&&Tr===p||xu(d,p);do try{jX();break}catch(A){bO(d,A)}while(!0);if(Yw(),Lt=_,W0.current=b,Qn!==null)throw Error(o(261));return Jn=null,Tr=0,or}function jX(){for(;Qn!==null;)EO(Qn)}function HX(){for(;Qn!==null&&!mX();)EO(Qn)}function EO(d){var p=PO(d.alternate,d,Wi);d.memoizedProps=d.pendingProps,p===null?AO(d):Qn=p,Ib.current=null}function AO(d){var p=d;do{var _=p.alternate;if(d=p.return,p.flags&32768){if(_=DX(_,p),_!==null){_.flags&=32767,Qn=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{or=6,Qn=null;return}}else if(_=NX(_,p,Wi),_!==null){Qn=_;return}if(p=p.sibling,p!==null){Qn=p;return}Qn=p=d}while(p!==null);or===0&&(or=5)}function _u(d,p){var _=Xt,b=$n.transition;try{$n.transition=null,Xt=1,WX(d,p,_)}finally{$n.transition=b,Xt=_}return null}function WX(d,p,_){do Su();while(Za!==null);if(Lt&6)throw Error(o(327));var b=d.finishedWork,A=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var O=b.lanes|b.childLanes;if(pX(d,O),d===Jn&&(Qn=Jn=null,Tr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||X0||(X0=!0,RO($w,function(){return Su(),null})),O=(b.flags&15990)!==0,b.subtreeFlags&15990||O){O=$n.transition,$n.transition=null;var W=Xt;Xt=1;var ee=Lt;Lt|=4,Ib.current=null,FX(d,b),UX(d,b),G(d.containerInfo),d.current=b,zX(b),gX(),Lt=ee,Xt=W,$n.transition=O}else d.current=b;if(X0&&(X0=!1,Za=d,q0=A),O=d.pendingLanes,O===0&&(Ka=null),xX(b.stateNode),Si(d,mr()),p!==null)for(_=d.onRecoverableError,b=0;b<p.length;b++)_(p[b]);if($0)throw $0=!1,d=Db,Db=null,d;return q0&1&&d.tag!==0&&Su(),O=d.pendingLanes,O&1?d===kb?Gh++:(Gh=0,kb=d):Gh=0,vo(),null}function Su(){if(Za!==null){var d=iN(q0),p=$n.transition,_=Xt;try{if($n.transition=null,Xt=16>d?16:d,Za===null)var b=!1;else{if(d=Za,Za=null,q0=0,Lt&6)throw Error(o(331));var A=Lt;for(Lt|=4,Xe=d.current;Xe!==null;){var O=Xe,W=O.child;if(Xe.flags&16){var ee=O.deletions;if(ee!==null){for(var ge=0;ge<ee.length;ge++){var Ne=ee[ge];for(Xe=Ne;Xe!==null;){var st=Xe;switch(st.tag){case 0:case 11:case 15:yu(8,st,O)}var At=st.child;if(At!==null)At.return=st,Xe=At;else for(;Xe!==null;){st=Xe;var xt=st.sibling,un=st.return;if(cO(st),st===Ne){Xe=null;break}if(xt!==null){xt.return=un,Xe=xt;break}Xe=un}}}var pt=O.alternate;if(pt!==null){var Vr=pt.child;if(Vr!==null){pt.child=null;do{var ms=Vr.sibling;Vr.sibling=null,Vr=ms}while(Vr!==null)}}Xe=O}}if(O.subtreeFlags&2064&&W!==null)W.return=O,Xe=W;else e:for(;Xe!==null;){if(O=Xe,O.flags&2048)switch(O.tag){case 0:case 11:case 15:yu(9,O,O.return)}var se=O.sibling;if(se!==null){se.return=O.return,Xe=se;break e}Xe=O.return}}var ne=d.current;for(Xe=ne;Xe!==null;){W=Xe;var he=W.child;if(W.subtreeFlags&2064&&he!==null)he.return=W,Xe=he;else e:for(W=ne;Xe!==null;){if(ee=Xe,ee.flags&2048)try{switch(ee.tag){case 0:case 11:case 15:Vh(9,ee)}}catch(dt){wi(ee,ee.return,dt)}if(ee===W){Xe=null;break e}var Ke=ee.sibling;if(Ke!==null){Ke.return=ee.return,Xe=Ke;break e}Xe=ee.return}}if(Lt=A,vo(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(d0,d)}catch{}b=!0}return b}finally{Xt=_,$n.transition=p}}return!1}function TO(d,p,_){p=gb(_,p),p=VN(d,p,1),Ya(d,p),p=ni(),d=Z0(d,1),d!==null&&(Ch(d,1,p),Si(d,p))}function wi(d,p,_){if(d.tag===3)TO(d,d,_);else for(;p!==null;){if(p.tag===3){TO(p,d,_);break}else if(p.tag===1){var b=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ka===null||!Ka.has(b))){d=gb(_,d),d=jN(p,d,1),Ya(p,d),d=ni(),p=Z0(p,1),p!==null&&(Ch(p,1,d),Si(p,d));break}}p=p.return}}function GX(d,p,_){var b=d.pingCache;b!==null&&b.delete(p),p=ni(),d.pingedLanes|=d.suspendedLanes&_,Jn===d&&(Tr&_)===_&&(or===4||or===3&&(Tr&130023424)===Tr&&500>mr()-Ob?xu(d,0):Nb|=_),Si(d,p)}function CO(d,p){p===0&&(d.mode&1?(p=sr,sr<<=1,!(sr&130023424)&&(sr=4194304)):p=1);var _=ni();d=Z0(d,p),d!==null&&(Ch(d,p,_),Si(d,_))}function $X(d){var p=d.memoizedState,_=0;p!==null&&(_=p.retryLane),CO(d,_)}function XX(d,p){var _=0;switch(d.tag){case 13:var b=d.stateNode,A=d.memoizedState;A!==null&&(_=A.retryLane);break;case 19:b=d.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(p),CO(d,_)}var PO;PO=function(d,p,_){if(d!==null)if(d.memoizedProps!==p.pendingProps||Qe.current)Hi=!0;else{if(!(d.lanes&_)&&!(p.flags&128))return Hi=!1,LX(d,p,_);Hi=!!(d.flags&131072)}else Hi=!1,bn&&p.flags&1048576&&mN(p,S0,p.index);switch(p.lanes=0,p.tag){case 2:var b=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var A=zt(p,it.current);Qc(p,_),A=fb(null,p,b,d,A,_);var O=db();return p.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Dt(b)?(O=!0,jt(p)):O=!1,p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Jw(p),A.updater=x0,p.stateNode=A,A._reactInternals=p,eb(p,b,d,_),p=xb(null,p,b,!0,O,_)):(p.tag=0,bn&&O&&tb(p),ti(null,p,A,_),p=p.child),p;case 16:b=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,A=b._init,b=A(b._payload),p.type=b,A=p.tag=YX(b),d=Bs(b,d),A){case 0:p=yb(null,p,b,d,_);break e;case 1:p=QN(null,p,b,d,_);break e;case 11:p=qN(null,p,b,d,_);break e;case 14:p=YN(null,p,b,Bs(b.type,d),_);break e}throw Error(o(306,b,""))}return p;case 0:return b=p.type,A=p.pendingProps,A=p.elementType===b?A:Bs(b,A),yb(d,p,b,A,_);case 1:return b=p.type,A=p.pendingProps,A=p.elementType===b?A:Bs(b,A),QN(d,p,b,A,_);case 3:e:{if(eO(p),d===null)throw Error(o(387));b=p.pendingProps,O=p.memoizedState,A=O.element,lN(d,p),y0(p,b,null,_);var W=p.memoizedState;if(b=W.element,Ye&&O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:W.cache,transitions:W.transitions},p.updateQueue.baseState=O,p.memoizedState=O,p.flags&256){A=Error(o(423)),p=tO(d,p,b,_,A);break e}else if(b!==A){A=Error(o(424)),p=tO(d,p,b,_,A);break e}else for(Ye&&(ji=Mh(p.stateNode.containerInfo),Vi=p,bn=!0,Vs=null,Ph=!1),_=SN(p,null,b,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(nf(),b===A){p=oa(d,p,_);break e}ti(d,p,b,_)}p=p.child}return p;case 5:return wN(p),d===null&&ib(p),b=p.type,A=p.pendingProps,O=d!==null?d.memoizedProps:null,W=A.children,ct(b,A)?W=null:O!==null&&ct(b,O)&&(p.flags|=32),JN(d,p),ti(d,p,W,_),p.child;case 6:return d===null&&ib(p),null;case 13:return nO(d,p,_);case 4:return ob(p,p.stateNode.containerInfo),b=p.pendingProps,d===null?p.child=rf(p,null,b,_):ti(d,p,b,_),p.child;case 11:return b=p.type,A=p.pendingProps,A=p.elementType===b?A:Bs(b,A),qN(d,p,b,A,_);case 7:return ti(d,p,p.pendingProps,_),p.child;case 8:return ti(d,p,p.pendingProps.children,_),p.child;case 12:return ti(d,p,p.pendingProps.children,_),p.child;case 10:e:{if(b=p.type._context,A=p.pendingProps,O=p.memoizedProps,W=A.value,aN(p,b,W),O!==null)if(go(O.value,W)){if(O.children===A.children&&!Qe.current){p=oa(d,p,_);break e}}else for(O=p.child,O!==null&&(O.return=p);O!==null;){var ee=O.dependencies;if(ee!==null){W=O.child;for(var ge=ee.firstContext;ge!==null;){if(ge.context===b){if(O.tag===1){ge=na(-1,_&-_),ge.tag=2;var Ne=O.updateQueue;if(Ne!==null){Ne=Ne.shared;var st=Ne.pending;st===null?ge.next=ge:(ge.next=st.next,st.next=ge),Ne.pending=ge}}O.lanes|=_,ge=O.alternate,ge!==null&&(ge.lanes|=_),Zw(O.return,_,p),ee.lanes|=_;break}ge=ge.next}}else if(O.tag===10)W=O.type===p.type?null:O.child;else if(O.tag===18){if(W=O.return,W===null)throw Error(o(341));W.lanes|=_,ee=W.alternate,ee!==null&&(ee.lanes|=_),Zw(W,_,p),W=O.sibling}else W=O.child;if(W!==null)W.return=O;else for(W=O;W!==null;){if(W===p){W=null;break}if(O=W.sibling,O!==null){O.return=W.return,W=O;break}W=W.return}O=W}ti(d,p,A.children,_),p=p.child}return p;case 9:return A=p.type,b=p.pendingProps.children,Qc(p,_),A=ls(A),b=b(A),p.flags|=1,ti(d,p,b,_),p.child;case 14:return b=p.type,A=Bs(b,p.pendingProps),A=Bs(b.type,A),YN(d,p,b,A,_);case 15:return KN(d,p,p.type,p.pendingProps,_);case 17:return b=p.type,A=p.pendingProps,A=p.elementType===b?A:Bs(b,A),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Dt(b)?(d=!0,jt(p)):d=!1,Qc(p,_),hN(p,b,A),eb(p,b,A,_),xb(null,p,b,!0,d,_);case 19:return oO(d,p,_);case 22:return ZN(d,p,_)}throw Error(o(156,p.tag))};function RO(d,p){return Ww(d,p)}function qX(d,p,_,b){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(d,p,_,b){return new qX(d,p,_,b)}function Vb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function YX(d){if(typeof d=="function")return Vb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===S)return 14}return 2}function el(d,p){var _=d.alternate;return _===null?(_=ps(d.tag,p,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=p,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,p=d.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function Q0(d,p,_,b,A,O){var W=2;if(b=d,typeof d=="function")Vb(d)&&(W=1);else if(typeof d=="string")W=5;else e:switch(d){case c:return wu(_.children,A,O,p);case f:W=8,A|=8;break;case h:return d=ps(12,_,p,A|2),d.elementType=h,d.lanes=O,d;case y:return d=ps(13,_,p,A),d.elementType=y,d.lanes=O,d;case v:return d=ps(19,_,p,A),d.elementType=v,d.lanes=O,d;case M:return ev(_,A,O,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:W=10;break e;case g:W=9;break e;case x:W=11;break e;case S:W=14;break e;case w:W=16,b=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=ps(W,_,p,A),p.elementType=d,p.type=b,p.lanes=O,p}function wu(d,p,_,b){return d=ps(7,d,b,p),d.lanes=_,d}function ev(d,p,_,b){return d=ps(22,d,b,p),d.elementType=M,d.lanes=_,d.stateNode={},d}function jb(d,p,_){return d=ps(6,d,null,p),d.lanes=_,d}function Hb(d,p,_){return p=ps(4,d.children!==null?d.children:[],d.key,p),p.lanes=_,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function KX(d,p,_,b,A){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ie,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jw(0),this.expirationTimes=jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jw(0),this.identifierPrefix=b,this.onRecoverableError=A,Ye&&(this.mutableSourceEagerHydrationData=null)}function IO(d,p,_,b,A,O,W,ee,ge){return d=new KX(d,p,_,ee,ge),p===1?(p=1,O===!0&&(p|=8)):p=0,O=ps(3,null,null,p),d.current=O,O.stateNode=d,O.memoizedState={element:b,isDehydrated:_,cache:null,transitions:null},Jw(O),d}function NO(d){if(!d)return et;d=d._reactInternals;e:{if(P(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Dt(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var _=d.type;if(Dt(_))return gt(d,_,p)}return p}function OO(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=U(p),d===null?null:d.stateNode}function LO(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<p?_:p}}function Wb(d,p){LO(d,p),(d=d.alternate)&&LO(d,p)}function ZX(d){return d=U(d),d===null?null:d.stateNode}function JX(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var p=ni();hs(d,134217728,p),Wb(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=ni(),_=Ja(d);hs(d,_,p),Wb(d,_)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var _=pr(p.pendingLanes);_!==0&&(Hw(p,_|1),Si(p,mr()),!(Lt&6)&&(cf(),vo()))}break;case 13:var b=ni();wO(function(){return hs(d,1,b)}),Wb(d,1)}},n.batchedUpdates=function(d,p){var _=Lt;Lt|=1;try{return d(p)}finally{Lt=_,Lt===0&&(cf(),h0&&vo())}},n.createComponentSelector=function(d){return{$$typeof:z0,value:d}},n.createContainer=function(d,p,_,b,A,O,W){return IO(d,p,!1,null,_,b,A,O,W)},n.createHasPseudoClassSelector=function(d){return{$$typeof:B0,value:d}},n.createHydrationContainer=function(d,p,_,b,A,O,W,ee,ge){return d=IO(_,b,!0,d,A,O,W,ee,ge),d.context=NO(null),_=d.current,b=ni(),A=Ja(_),O=na(b,A),O.callback=p??null,Ya(_,O),d.current.lanes=A,Ch(d,A,b),Si(d,b),d},n.createPortal=function(d,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:d,containerInfo:p,implementation:_}},n.createRoleSelector=function(d){return{$$typeof:V0,value:d}},n.createTestNameSelector=function(d){return{$$typeof:j0,value:d}},n.createTextSelector=function(d){return{$$typeof:H0,value:d}},n.deferredUpdates=function(d){var p=Xt,_=$n.transition;try{return $n.transition=null,Xt=16,d()}finally{Xt=p,$n.transition=_}},n.discreteUpdates=function(d,p,_,b,A){var O=Xt,W=$n.transition;try{return $n.transition=null,Xt=1,d(p,_,b,A)}finally{Xt=O,$n.transition=W,Lt===0&&cf()}},n.findAllNodes=Rb,n.findBoundingRects=function(d,p){if(!je)throw Error(o(363));p=Rb(d,p),d=[];for(var _=0;_<p.length;_++)d.push(Oe(p[_]));for(p=d.length-1;0<p;p--){_=d[p];for(var b=_.x,A=b+_.width,O=_.y,W=O+_.height,ee=p-1;0<=ee;ee--)if(p!==ee){var ge=d[ee],Ne=ge.x,st=Ne+ge.width,At=ge.y,xt=At+ge.height;if(b>=Ne&&O>=At&&A<=st&&W<=xt){d.splice(p,1);break}else if(b!==Ne||_.width!==ge.width||xt<O||At>W){if(!(O!==At||_.height!==ge.height||st<b||Ne>A)){Ne>b&&(ge.width+=Ne-b,ge.x=b),st<A&&(ge.width=A-Ne),d.splice(p,1);break}}else{At>O&&(ge.height+=At-O,ge.y=O),xt<W&&(ge.height=W-At),d.splice(p,1);break}}}return d},n.findHostInstance=OO,n.findHostInstanceWithNoPortals=function(d){return d=k(d),d=d!==null?X(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return OO(d)},n.flushControlled=function(d){var p=Lt;Lt|=1;var _=$n.transition,b=Xt;try{$n.transition=null,Xt=1,d()}finally{Xt=b,$n.transition=_,Lt=p,Lt===0&&(cf(),vo())}},n.flushPassiveEffects=Su,n.flushSync=wO,n.focusWithin=function(d,p){if(!je)throw Error(o(363));for(d=Tb(d),p=xO(d,p),p=Array.from(p),d=0;d<p.length;){var _=p[d++];if(!D(_)){if(_.tag===5&&pe(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Xt},n.getFindAllNodesFailureDescription=function(d,p){if(!je)throw Error(o(363));var _=0,b=[];d=[Tb(d),0];for(var A=0;A<d.length;){var O=d[A++],W=d[A++],ee=p[W];if((O.tag!==5||!D(O))&&(Cb(O,ee)&&(b.push(Pb(ee)),W++,W>_&&(_=W)),W<p.length))for(O=O.child;O!==null;)d.push(O,W),O=O.sibling}if(_<p.length){for(d=[];_<p.length;_++)d.push(Pb(p[_]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return K(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:ZX,findFiberByHostInstance:d.findFiberByHostInstance||JX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{d0=p.inject(d),mo=p}catch{}d=!!p.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,p,_,b){if(!je)throw Error(o(363));d=Rb(d,p);var A=Se(d,_,b).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(d,p){var _=p._getVersion;_=_(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,_]:d.mutableSourceEagerHydrationData.push(p,_)},n.runWithPriority=function(d,p){var _=Xt;try{return Xt=d,p()}finally{Xt=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,p,_,b){var A=p.current,O=ni(),W=Ja(A);return _=NO(_),p.context===null?p.context=_:p.pendingContext=_,p=na(O,W),p.payload={element:d},b=b===void 0?null:b,b!==null&&(p.callback=b),Ya(A,p),d=hs(A,W,O),d!==null&&v0(d,A,W),W},n};hW.exports=xpe;var _pe=hW.exports;const Spe=Zo(_pe);var pW={exports:{}},mW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var Z=G-1>>>1,fe=F[Z];if(0<i(fe,$))F[Z]=$,F[G]=fe,G=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var Z=0,fe=F.length,Ee=fe>>>1;Z<Ee;){var Ge=2*(Z+1)-1,ct=F[Ge],ae=Ge+1,ye=F[ae];if(0>i(ct,G))ae<fe&&0>i(ye,ct)?(F[Z]=ye,F[ae]=G,Z=ae):(F[Z]=ct,F[Ge]=G,Z=Ge);else if(ae<fe&&0>i(ye,G))F[Z]=ye,F[ae]=G,Z=ae;else break e}}return $}function i(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function M(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,K(E);else{var $=n(u);$!==null&&q(M,$.startTime-F)}}function E(F,$){g=!1,x&&(x=!1,v(L),L=-1),m=!0;var G=h;try{for(w($),f=n(l);f!==null&&(!(f.expirationTime>$)||F&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var fe=Z(f.expirationTime<=$);$=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),w($)}else r(l);f=n(l)}if(f!==null)var Ee=!0;else{var Ge=n(u);Ge!==null&&q(M,Ge.startTime-$),Ee=!1}return Ee}finally{f=null,h=G,m=!1}}var T=!1,I=null,L=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function U(){if(I!==null){var F=t.unstable_now();R=F;var $=!0;try{$=I(!0,F)}finally{$?V():(T=!1,I=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=U,V=function(){Y.postMessage(null)}}else V=function(){y(U,0)};function K(F){I=F,T||(T=!0,V())}function q(F,$){L=y(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return F()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(F,$,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,F){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,F={id:c++,callback:$,priorityLevel:F,startTime:G,expirationTime:fe,sortIndex:-1},G>Z?(F.sortIndex=G,e(u,F),n(l)===null&&F===n(u)&&(x?(v(L),L=-1):x=!0,q(M,G-Z))):(F.sortIndex=fe,e(l,F),g||m||(g=!0,K(E))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var $=h;return function(){var G=h;h=$;try{return F.apply(this,arguments)}finally{h=G}}}})(mW);pW.exports=mW;var AF=pW.exports;const xR={},wpe=t=>void Object.assign(xR,t);function bpe(t,e){function n(c,{args:f=[],attach:h,...m},g){let x=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;y=Hf(v,{type:c,root:g,attach:h,primitive:!0})}else{const v=xR[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Hf(new v(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Et?y.__r3f.attach="geometry":y instanceof Dr&&(y.__r3f.attach="material")),x!=="inject"&&kE(y,m),y}function r(c,f){let h=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?DE(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Hf(f,{}),f.__r3f.parent=c,iC(f),Wf(f)}}function i(c,f,h){let m=!1;if(f){var g,x;if((g=f.__r3f)!=null&&g.attach)DE(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(S=>S!==f),v=y.indexOf(h);c.children=[...y.slice(0,v),f,...y.slice(v)],m=!0}m||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||Hf(f,{}),f.__r3f.parent=c,iC(f),Wf(f)}}function s(c,f,h=!1){c&&[...c].forEach(m=>o(f,m,h))}function o(c,f,h){if(f){var m,g,x;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)IF(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Rpe(ex(f),f)}const S=(x=f.__r3f)==null?void 0:x.primitive,w=!S&&(h===void 0?f.dispose!==null:h);if(!S){var v;s((v=f.__r3f)==null?void 0:v.objects,f,w),s(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?AF.unstable_scheduleCallback(AF.unstable_IdlePriority,M):M()}Wf(c)}}function a(c,f,h,m){var g;const x=(g=c.__r3f)==null?void 0:g.parent;if(!x)return;const y=n(f,h,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(y,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(y,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&ex(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>{};return{reconciler:Spe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const m=c.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:v,...S}=m,{args:w=[],children:M,...E}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((I,L)=>I!==w[L]))return[!0];const T=wW(c,S,E,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[f,h],m,g,x,y){f?a(c,m,x,y):kE(c,h)},commitMount(c,f,h,m){var g;const x=(g=c.__r3f)!=null?g:{};c.raycast&&x.handlers&&x.eventCount&&ex(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Hf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:m}=(f=c.__r3f)!=null?f:{};h&&m&&IF(m,c,h),c.isObject3D&&(c.visible=!1),Wf(c)},unhideInstance(c,f){var h;const{attach:m,parent:g}=(h=c.__r3f)!=null?h:{};m&&g&&DE(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Wf(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():hd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xn.fun(performance.now)?performance.now:xn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:kE}}var TF,CF;const LE=t=>"colorSpace"in t||"outputColorSpace"in t,gW=()=>{var t;return(t=xR.ColorManagement)!=null?t:null},vW=t=>t&&t.isOrthographicCamera,Mpe=t=>t&&t.hasOwnProperty("current"),zg=typeof window<"u"&&((TF=window.document)!=null&&TF.createElement||((CF=window.navigator)==null?void 0:CF.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function yW(t){const e=N.useRef(t);return zg(()=>void(e.current=t),[t]),e}function Epe({set:t}){return zg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class xW extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xW.getDerivedStateFromError=()=>({error:!0});const _W="__default",PF=new Map,Ape=t=>t&&!!t.memoized&&!!t.changes;function SW(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const gp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function ex(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xn={obj:t=>t===Object(t)&&!xn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(xn.str(t)||xn.num(t)||xn.boo(t))return t===e;const s=xn.obj(t);if(s&&r==="reference")return t===e;const o=xn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!xn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(xn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Tpe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Hf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function rC(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const RF=/-\d+$/;function DE(t,e,n){if(xn.str(n)){if(RF.test(n)){const s=n.replace(RF,""),{target:o,key:a}=rC(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=rC(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function IF(t,e,n){var r,i;if(xn.str(n)){const{target:s,key:o}=rC(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function wW(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),h=[];if(u){const g=Object.keys(l);for(let x=0;x<g.length;x++)i.hasOwnProperty(g[x])||f.unshift([g[x],_W+"remove"])}f.forEach(([g,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||xn.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,x,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),h.push([g,x,!1,v]);for(const S in i){const w=i[S];S.startsWith(`${g}-`)&&h.push([S,w,!1,S.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:h}}function kE(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Ape(e)?e:wW(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let c=0;c<a.length;c++){let[f,h,m,g]=a[c];if(LE(t)){const S="srgb",w="srgb-linear";f==="encoding"?(f="colorSpace",h=h===3001?S:w):f==="outputEncoding"&&(f="outputColorSpace",h=h===3001?S:w)}let x=t,y=x[f];if(g.length&&(y=g.reduce((v,S)=>v[S],t),!(y&&y.set))){const[v,...S]=g.reverse();x=S.reverse().reduce((w,M)=>w[M],t),f=v}if(h===_W+"remove")if(x.constructor){let v=PF.get(x.constructor);v||(v=new x.constructor,PF.set(x.constructor,v)),h=v[f]}else h=0;if(m&&r)h?r.handlers[f]=h:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof pc)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&y.constructor===h.constructor)y.copy(h);else if(h!==void 0){const v=y instanceof Je;!v&&y.setScalar?y.setScalar(h):y instanceof pc&&h instanceof pc?y.mask=h.mask:y.set(h),!gW()&&s&&!s.linear&&v&&y.convertSRGBToLinear()}}else if(x[f]=h,x[f]instanceof On&&x[f].format===Kr&&x[f].type===oi&&s){const v=x[f];LE(v)&&LE(s.gl)?v.colorSpace=s.gl.outputColorSpace:v.encoding=s.gl.outputEncoding}Wf(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const c=ex(t).getState().internal,f=c.interaction.indexOf(t);f>-1&&c.interaction.splice(f,1),r.eventCount&&c.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&iC(t),t}function Wf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function iC(t){t.onUpdate==null||t.onUpdate(t)}function Cpe(t,e){t.manual||(vW(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function hy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ppe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return hd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return hd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return hd.ContinuousEventPriority;default:return hd.DefaultEventPriority}}function bW(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Rpe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{bW(n.capturedMap,e,r,i)})}function Ipe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const S=gp(m[v]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const S=gp(v);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(v,!0):[]}let x=m.flatMap(g).sort((v,S)=>{const w=gp(v.object),M=gp(S.object);return!w||!M?v.distance-S.distance:M.events.priority-w.events.priority||v.distance-S.distance}).filter(v=>{const S=hy(v);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const v of x){let S=v.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&h.push({...v,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())f.has(hy(v.intersection))||h.push(v.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const x=gp(g.object)||h,{raycaster:y,pointer:v,camera:S,internal:w}=x,M=new j(v.x,v.y,0).unproject(S),E=R=>{var k,U;return(k=(U=w.capturedMap.get(R))==null?void 0:U.has(g.eventObject))!=null?k:!1},T=R=>{const k={intersection:g,target:u.target};w.capturedMap.has(R)?w.capturedMap.get(R).set(g.eventObject,k):w.capturedMap.set(R,new Map([[g.eventObject,k]])),u.target.setPointerCapture(R)},I=R=>{const k=w.capturedMap.get(R);k&&bW(w.capturedMap,g.eventObject,k,R)};let L={};for(let R in u){let k=u[R];typeof k!="function"&&(L[R]=k)}let P={...g,...L,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:y.ray,camera:S,stopPropagation(){const R="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!R||R.has(g.eventObject))&&(P.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=l.slice(0,l.indexOf(g));s([...k,g])}},target:{hasPointerCapture:E,setPointerCapture:T,releasePointerCapture:I},currentTarget:{hasPointerCapture:E,setPointerCapture:T,releasePointerCapture:I},nativeEvent:u};if(f(P),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(hy(c)),h!=null&&h.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&v<=2&&(o(c,h.interaction),f&&f(c)),m&&s(y);function S(w){const M=w.eventObject,E=M.__r3f,T=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const I=hy(w),L=h.hovered.get(I);L?L.stopped&&w.stopPropagation():(h.hovered.set(I,w),T.onPointerOver==null||T.onPointerOver(w),T.onPointerEnter==null||T.onPointerEnter(w))}T.onPointerMove==null||T.onPointerMove(w)}else{const I=T[l];I?(!g||h.initialHits.includes(M))&&(o(c,h.interaction.filter(L=>!h.initialHits.includes(L))),I(w)):g&&h.initialHits.includes(M)&&o(c,h.interaction.filter(L=>!h.initialHits.includes(L)))}}i(y,c,v,S)}}return{handlePointer:a}}const MW=t=>!!(t!=null&&t.render),EW=N.createContext(null),Npe=(t,e)=>{const n=gpe((a,l)=>{const u=new j,c=new j,f=new j;function h(v=l().camera,S=c,w=l().size){const{width:M,height:E,top:T,left:I}=w,L=M/E;S instanceof j?f.copy(S):f.set(...S);const P=v.getWorldPosition(u).distanceTo(f);if(vW(v))return{width:M/v.zoom,height:E/v.zoom,top:T,left:I,factor:1,distance:P,aspect:L};{const R=v.fov*Math.PI/180,k=2*Math.tan(R/2)*P,U=k*(M/E);return{width:U,height:k,top:T,left:I,factor:M/U,distance:P,aspect:L}}}let m;const g=v=>a(S=>({performance:{...S.performance,current:v}})),x=new Me;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,S)=>e(v,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new pR,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>a(S=>({...S,events:{...S.events,...v}})),setSize:(v,S,w,M,E)=>{const T=l().camera,I={width:v,height:S,top:M||0,left:E||0,updateStyle:w};a(L=>({size:I,viewport:{...L.viewport,...h(T,c,I)}}))},setDpr:v=>a(S=>{const w=SW(v);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(v="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,v!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,S,w)=>{const M=l().internal;return M.priority=M.priority+(S>0?1:0),M.subscribers.push({ref:v,priority:S,store:w}),M.subscribers=M.subscribers.sort((E,T)=>E.priority-T.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(S>0?1:0),E.subscribers=E.subscribers.filter(T=>T.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var h;i=l,s=u.dpr,Cpe(a,l),c.setPixelRatio(u.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let py,Ope=new Set,Lpe=new Set,Dpe=new Set;function FE(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function vp(t,e){switch(t){case"before":return FE(Ope,e);case"after":return FE(Lpe,e);case"tail":return FE(Dpe,e)}}let UE,zE;function BE(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),UE=e.internal.subscribers,py=0;py<UE.length;py++)zE=UE[py],zE.ref.current(zE.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function kpe(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,vp("before",u),n=!0;for(const f of t.values()){var c;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((c=s.gl.xr)!=null&&c.isPresenting)&&(r+=BE(u,s))}if(n=!1,vp("after",u),r===0)return vp("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,c=1){var f;if(!u)return t.forEach(h=>a(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,h){if(c&&vp("before",u),f)BE(u,f,h);else for(const m of t.values())BE(u,m.store.getState());c&&vp("after",u)}return{loop:o,invalidate:a,advance:l}}function Fpe(){const t=N.useContext(EW);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function BS(t,e=0){const n=Fpe(),r=n.getState().internal.subscribe,i=yW(t);return zg(()=>r(i,e,n),[e,r,n]),null}const $d=new Map,{invalidate:NF,advance:OF}=kpe($d),{reconciler:z_,applyProps:Lf}=bpe($d,Ppe),Df={objects:"shallow",strict:!1},Upe=(t,e)=>{const n=typeof t=="function"?t(e):t;return MW(n)?n:new fW({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function zpe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Bpe(t){const e=$d.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Npe(NF,OF),o=n||z_.createContainer(s,hd.ConcurrentRoot,null,!1,null,"",i,null);e||$d.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:m,events:g,onCreated:x,shadows:y=!1,linear:v=!1,flat:S=!1,legacy:w=!1,orthographic:M=!1,frameloop:E="always",dpr:T=[1,2],performance:I,raycaster:L,camera:P,onPointerMissed:R}=c,k=s.getState(),U=k.gl;k.gl||k.set({gl:U=Upe(f,t)});let V=k.raycaster;V||k.set({raycaster:V=new rW});const{params:X,...Y}=L||{};if(xn.equ(Y,V,Df)||Lf(V,{...Y}),xn.equ(X,V.params,Df)||Lf(V,{params:{...V.params,...X}}),!k.camera||k.camera===u&&!xn.equ(u,P,Df)){u=P;const G=P instanceof Ig,Z=G?P:M?new hh(0,0,0,0,.1,1e3):new Sr(75,0,.1,1e3);G||(Z.position.z=5,P&&(Lf(Z,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(Z.manual=!0,Z.updateProjectionMatrix())),!k.camera&&!(P!=null&&P.rotation)&&Z.lookAt(0,0,0)),k.set({camera:Z}),V.camera=Z}if(!k.scene){let G;m instanceof L_?G=m:(G=new L_,m&&Lf(G,m)),k.set({scene:Hf(G)})}if(!k.xr){var K;const G=(Ee,Ge)=>{const ct=s.getState();ct.frameloop!=="never"&&OF(Ee,!0,ct,Ge)},Z=()=>{const Ee=s.getState();Ee.gl.xr.enabled=Ee.gl.xr.isPresenting,Ee.gl.xr.setAnimationLoop(Ee.gl.xr.isPresenting?G:null),Ee.gl.xr.isPresenting||NF(Ee)},fe={connect(){const Ee=s.getState().gl;Ee.xr.addEventListener("sessionstart",Z),Ee.xr.addEventListener("sessionend",Z)},disconnect(){const Ee=s.getState().gl;Ee.xr.removeEventListener("sessionstart",Z),Ee.xr.removeEventListener("sessionend",Z)}};typeof((K=U.xr)==null?void 0:K.addEventListener)=="function"&&fe.connect(),k.set({xr:fe})}if(U.shadowMap){const G=U.shadowMap.enabled,Z=U.shadowMap.type;if(U.shadowMap.enabled=!!y,xn.boo(y))U.shadowMap.type=Zp;else if(xn.str(y)){var q;const fe={basic:b6,percentage:bd,soft:Zp,variance:ec};U.shadowMap.type=(q=fe[y])!=null?q:Zp}else xn.obj(y)&&Object.assign(U.shadowMap,y);(G!==U.shadowMap.enabled||Z!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const F=gW();F&&("enabled"in F?F.enabled=!w:"legacyMode"in F&&(F.legacyMode=w)),l||Lf(U,{outputEncoding:v?3e3:3001,toneMapping:S?Ts:iS}),k.legacy!==w&&k.set(()=>({legacy:w})),k.linear!==v&&k.set(()=>({linear:v})),k.flat!==S&&k.set(()=>({flat:S})),f&&!xn.fun(f)&&!MW(f)&&!xn.equ(f,U,Df)&&Lf(U,f),g&&!k.events.handlers&&k.set({events:g(s)});const $=zpe(t,h);return xn.equ($,k.size,Df)||k.setSize($.width,$.height,$.updateStyle,$.top,$.left),T&&k.viewport.dpr!==SW(T)&&k.setDpr(T),k.frameloop!==E&&k.setFrameloop(E),k.onPointerMissed||k.set({onPointerMissed:R}),I&&!xn.equ(I,k.performance,Df)&&k.set(G=>({performance:{...G.performance,...I}})),a=x,l=!0,this},render(c){return l||this.configure(),z_.updateContainer(C.jsx(Vpe,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){AW(t)}}}function Vpe({store:t,children:e,onCreated:n,rootElement:r}){return zg(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.jsx(EW.Provider,{value:t,children:e})}function AW(t,e){const n=$d.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),z_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Tpe(i),$d.delete(t)}catch{}},500)})}}z_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const VE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jpe(t){const{handlePointer:e}=Ipe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(VE).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=VE[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=VE[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function sC(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}sC.debounce=sC;var Hpe=sC;const LF=Zo(Hpe);var Wpe=Object.defineProperty,Gpe=Object.defineProperties,$pe=Object.getOwnPropertyDescriptors,DF=Object.getOwnPropertySymbols,Xpe=Object.prototype.hasOwnProperty,qpe=Object.prototype.propertyIsEnumerable,kF=(t,e,n)=>e in t?Wpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FF=(t,e)=>{for(var n in e||(e={}))Xpe.call(e,n)&&kF(t,n,e[n]);if(DF)for(var n of DF(e))qpe.call(e,n)&&kF(t,n,e[n]);return t},Ype=(t,e)=>Gpe(t,$pe(e)),UF,zF;typeof window<"u"&&((UF=window.document)!=null&&UF.createElement||((zF=window.navigator)==null?void 0:zF.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function TW(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=TW(r,e,n);if(i)return i;r=r.sibling}}function CW(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const BF=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=BF;return}return BF.apply(this,arguments)};const _R=CW(N.createContext(null));class PW extends N.Component{render(){return N.createElement(_R.Provider,{value:this._reactInternals},this.props.children)}}function Kpe(){const t=N.useContext(_R);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=TW(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Zpe(){const t=Kpe(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==_R&&!e.has(i)&&e.set(i,N.useContext(CW(i)))}n=n.return}return e}function Jpe(){const t=Zpe();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,Ype(FF({},r),{value:t.get(n)}))),e=>N.createElement(PW,FF({},e))),[t])}function Qpe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=N.useRef(!1);N.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,m]=N.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:S,top:w,width:M,height:E,bottom:T,right:I,x:L,y:P}=a.current.element.getBoundingClientRect(),R={left:S,top:w,width:M,height:E,bottom:T,right:I,x:L,y:P};a.current.element instanceof HTMLElement&&r&&(R.height=a.current.element.offsetHeight,R.width=a.current.element.offsetWidth),Object.freeze(R),c.current&&!rme(a.current.lastBounds,R)&&o(a.current.lastBounds=R)};return[v,u?LF(v,u):v,l?LF(v,l):v]},[o,r,l,u]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){var v;a.current.element&&(a.current.resizeObserver=new i(h),(v=a.current.resizeObserver)==null||v.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(S=>S.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=v=>{!v||v===a.current.element||(g(),a.current.element=v,a.current.scrollContainers=RW(v),x())};return tme(m,!!e),eme(h),N.useEffect(()=>{g(),x()},[e,m,h]),N.useEffect(()=>g,[]),[y,s,f]}function eme(t){N.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function tme(t,e){N.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function RW(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...RW(t.parentElement)]}const nme=["x","y","top","bottom","left","right","width","height"],rme=(t,e)=>nme.every(n=>t[n]===e[n]),ime=N.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=jpe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:x,performance:y,raycaster:v,camera:S,scene:w,onPointerMissed:M,onCreated:E,...T},I){N.useMemo(()=>wpe(hpe),[]);const L=Jpe(),[P,R]=Qpe({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=N.useRef(null),U=N.useRef(null);N.useImperativeHandle(I,()=>k.current);const V=yW(M),[X,Y]=N.useState(!1),[K,q]=N.useState(!1);if(X)throw X;if(K)throw K;const F=N.useRef(null);zg(()=>{const G=k.current;R.width>0&&R.height>0&&G&&(F.current||(F.current=Bpe(G)),F.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:x,performance:y,raycaster:v,camera:S,scene:w,size:R,onPointerMissed:(...Z)=>V.current==null?void 0:V.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?Mpe(a)?a.current:a:U.current),l&&Z.setEvents({compute:(fe,Ee)=>{const Ge=fe[l+"X"],ct=fe[l+"Y"];Ee.pointer.set(Ge/Ee.size.width*2-1,-(ct/Ee.size.height)*2+1),Ee.raycaster.setFromCamera(Ee.pointer,Ee.camera)}}),E==null||E(Z)}}),F.current.render(C.jsx(L,{children:C.jsx(xW,{set:q,children:C.jsx(N.Suspense,{fallback:C.jsx(Epe,{set:Y}),children:e})})})))}),N.useEffect(()=>{const G=k.current;if(G)return()=>AW(G)},[]);const $=a?"none":"auto";return C.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...i},...T,children:C.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}),IW=N.forwardRef(function(e,n){return C.jsx(PW,{children:C.jsx(ime,{...e,ref:n})})});function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(null,arguments)}const sme=()=>parseInt(Cg.replace(/\D+/g,"")),NW=sme(),jE=NW>=154?"opaque_fragment":"output_fragment";class ome extends wS{constructor(e){super(e),this.onBeforeCompile=(n,r)=>{const{isWebGL2:i}=r.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${jE}>`,`
        ${i?`#include <${jE}>`:`#extension GL_OES_standard_derivatives : enable
#include <${jE}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${NW>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const OW=N.forwardRef((t,e)=>{const[n]=N.useState(()=>new ome(null));return N.createElement("primitive",Oc({},t,{object:n,ref:e,attach:"material"}))});let Uu,yp;const ame=N.createContext(null),VF=new St,jF=new j,lme=N.forwardRef(({children:t,range:e,limit:n=1e3,...r},i)=>{const s=N.useRef(null);N.useImperativeHandle(i,()=>s.current,[]);const[o,a]=N.useState([]),[[l,u,c]]=N.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);N.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),BS(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),VF.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),Uu=0;Uu<o.length;Uu++)yp=o[Uu].current,yp.getWorldPosition(jF).applyMatrix4(VF),jF.toArray(l,Uu*3),s.current.geometry.attributes.position.needsUpdate=!0,yp.matrixWorldNeedsUpdate=!0,yp.color.toArray(u,Uu*3),s.current.geometry.attributes.color.needsUpdate=!0,c.set([yp.size],Uu),s.current.geometry.attributes.size.needsUpdate=!0});const f=N.useMemo(()=>({getParent:()=>s,subscribe:h=>(a(m=>[...m,h]),()=>a(m=>m.filter(g=>g.current!==h.current)))}),[]);return N.createElement("points",Oc({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},r),N.createElement("bufferGeometry",null,N.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:dc}),N.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:dc}),N.createElement("bufferAttribute",{attach:"attributes-size",count:c.length,array:c,itemSize:1,usage:dc})),N.createElement(ame.Provider,{value:f},t))}),ume=N.forwardRef(({children:t,positions:e,colors:n,sizes:r,stride:i=3,...s},o)=>{const a=N.useRef(null);return N.useImperativeHandle(o,()=>a.current,[]),BS(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),N.createElement("points",Oc({ref:a},s),N.createElement("bufferGeometry",null,N.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:dc}),n&&N.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:dc}),r&&N.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:dc})),t)}),LW=N.forwardRef((t,e)=>t.positions instanceof Float32Array?N.createElement(ume,Oc({},t,{ref:e})):N.createElement(lme,Oc({},t,{ref:e})));var DW={exports:{}},kW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=N,cme=u6;function fme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dme=typeof Object.is=="function"?Object.is:fme,hme=cme.useSyncExternalStore,pme=VS.useRef,mme=VS.useEffect,gme=VS.useMemo,vme=VS.useDebugValue;kW.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=pme(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gme(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,dme(c,m))return g;var x=r(m);return i!==void 0&&i(g,x)?(c=m,g):(c=m,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=hme(t,s[0],s[1]);return mme(function(){o.hasValue=!0,o.value=a},[a]),vme(a),a};DW.exports=kW;var yme=DW.exports;function xme(){const t=N.useRef(),e=N.useRef(),n=N.useMemo(()=>{const s=new Float32Array(10125);let o=0;for(let a=0;a<15;a++)for(let l=0;l<15;l++)for(let u=0;u<15;u++)s[o++]=(a/15-.5)*3,s[o++]=(l/15-.5)*3,s[o++]=(u/15-.5)*3;return s},[]);return BS(r=>{const i=r.clock.getElapsedTime();t.current.rotation.y=i*.4,t.current.rotation.z=i*.15,e.current&&(e.current.position.y=Math.sin(i*3)*1.5)}),C.jsxs("group",{children:[C.jsx(LW,{ref:t,positions:n,stride:3,children:C.jsx(OW,{transparent:!0,color:"#3b82f6",size:.05,sizeAttenuation:!0,depthWrite:!1,blending:Im})}),C.jsxs("mesh",{ref:e,children:[C.jsx("boxGeometry",{args:[4.5,.01,4.5]}),C.jsx("meshBasicMaterial",{color:"#60a5fa",transparent:!0,opacity:.6})]}),C.jsx("pointLight",{position:[0,0,0],intensity:.5,color:"#3b82f6"})]})}function _me({t}){return C.jsxs("div",{className:"fixed inset-0 z-[200] bg-background/40 backdrop-blur-2xl flex flex-col items-center justify-center overflow-hidden animate-in fade-in duration-500",children:[C.jsx("div",{className:"w-full h-[50vh]",children:C.jsxs(IW,{camera:{position:[0,2,7],fov:40},children:[C.jsx("ambientLight",{intensity:.4}),C.jsx(xme,{})]})}),C.jsx("div",{className:"relative flex flex-col items-center -mt-10",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),C.jsx("h2",{className:"text-xl font-bold italic tracking-tighter uppercase",children:t("upload.analyzing")||"Comparing Documents"})]}),C.jsxs("div",{className:"flex flex-col items-center gap-1",children:[C.jsx("span",{className:"text-[9px] font-mono text-blue-500/60 uppercase tracking-[0.3em] animate-pulse",children:"Neural check in progress"}),C.jsx("div",{className:"w-32 h-[1px] bg-foreground/5 relative overflow-hidden",children:C.jsx("div",{className:"absolute inset-0 bg-blue-500 animate-[loading_2s_infinite]"})})]})]})}),C.jsx("style",{children:`
                @keyframes loading {
                    0% { transform: translateX(-100%); }
                    100% { transform: translateX(100%); }
                }
            `})]})}const Sme=()=>{const{t}=Tg(),e=[{title:t("footer.sections.nav.title"),links:[{name:t("info.pages.doc.title"),path:"/documentation"},{name:"API Integration",path:"/"},{name:t("info.pages.base.title"),path:"/knowledge-base"}]},{title:t("footer.sections.legal.title"),links:[{name:t("info.pages.priv.title"),path:"/privacy"},{name:t("info.pages.terms.title"),path:"/terms"},{name:t("info.pages.cookie.title"),path:"/cookie"}]},{title:t("footer.sections.support.title"),links:[{name:t("info.pages.help.title"),path:"/help"},{name:t("info.pages.contacts.title"),path:"/contacts"}]}];return C.jsxs("footer",{className:"mt-auto bg-background border-t border-border px-6 py-16 md:px-16 relative transition-colors duration-300",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-border to-transparent opacity-50"}),C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 mb-16",children:[C.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-9 h-9 bg-foreground rounded-xl flex items-center justify-center transition-colors",children:C.jsx(Pa,{size:20,className:"text-background"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-foreground font-black text-lg tracking-tighter leading-none uppercase italic",children:"QazZerep"}),C.jsx("span",{className:"text-[9px] font-black text-muted-foreground opacity-30 uppercase tracking-[0.3em]",children:"Core v2.4.0"})]})]}),C.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed max-w-xs font-light opacity-60 italic",children:t("footer.description")}),C.jsx("div",{className:"flex items-center gap-4",children:C.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-card border border-border rounded-full shadow-sm",children:[C.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.4)]"}),C.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest",children:"Network Online"})]})})]}),C.jsx("div",{className:"lg:col-span-8 grid grid-cols-2 md:grid-cols-3 gap-8",children:e.map((n,r)=>C.jsxs("div",{className:"space-y-5",children:[C.jsx("h4",{className:"text-foreground text-[10px] font-black uppercase tracking-[0.3em] opacity-40 italic",children:n.title}),C.jsx("ul",{className:"space-y-3",children:n.links.map((i,s)=>C.jsx("li",{children:C.jsx(DV,{to:i.path,className:"text-[13px] text-muted-foreground hover:text-foreground transition-all duration-300 font-light block",children:i.name})},s))})]},r))})]}),C.jsxs("div",{className:"pt-8 border-t border-border/40 flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground opacity-20 hover:opacity-100 transition-opacity cursor-help",children:[C.jsx(wg,{size:14}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Security Verified"})]}),C.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground opacity-20 hover:opacity-100 transition-opacity cursor-help",children:[C.jsx(Ec,{size:14}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Cloud Sync"})]})]}),C.jsxs("div",{className:"text-[9px] text-muted-foreground font-black tracking-[0.2em] uppercase opacity-20 italic",children:[" 2026 QAZZEREP  ",t("footer.engine_name")]})]})]})]})};function wme(){const{t}=Tg(),e=[{quarter:"Q1 2026",status:"completed",key:"q1",icon:C.jsx(Pa,{size:24,className:"text-blue-500"})},{quarter:"Q2 2026",status:"current",key:"q2",icon:C.jsx(pj,{size:24,className:"text-indigo-500"})},{quarter:"Q3 2026",status:"pending",key:"q3",icon:C.jsx(mj,{size:24,className:"text-emerald-500"})},{quarter:"Q4 2026",status:"pending",key:"q4",icon:C.jsx(yQ,{size:24,className:"text-zinc-500"})}];return C.jsxs("div",{className:"py-20 px-6 max-w-5xl mx-auto animate-in fade-in duration-700",children:[C.jsxs("header",{className:"text-center mb-24",children:[C.jsxs("h2",{className:"text-4xl md:text-5xl font-black italic tracking-tighter uppercase mb-4",children:[t("roadmap.title")," ",C.jsx("span",{className:"text-blue-600",children:t("roadmap.year")})]}),C.jsx("div",{className:"h-1.5 w-24 bg-blue-600 mx-auto rounded-full shadow-[0_0_15px_rgba(37,99,235,0.5)]"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-px bg-gradient-to-b from-blue-600 via-indigo-500 to-transparent opacity-20 hidden md:block"}),C.jsx("div",{className:"space-y-16",children:e.map((n,r)=>{const i=t(`roadmap.${n.key}.items`,{returnObjects:!0})||[];return C.jsxs("div",{className:`relative flex items-center justify-between w-full flex-col md:flex-row ${r%2===0?"md:flex-row-reverse":""}`,children:[C.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-5 h-5 bg-background border-2 border-blue-600 rounded-full z-10 hidden md:block shadow-[0_0_10px_rgba(37,99,235,0.3)]",children:n.status==="current"&&C.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75"})}),C.jsx("div",{className:"w-full md:w-[44%]",children:C.jsxs("div",{className:`
                                        relative p-8 rounded-[35px] border transition-all duration-300
                                        ${n.status==="current"?"bg-foreground/[0.03] border-blue-500/40 shadow-2xl":"bg-card border-border shadow-sm"}
                                    `,children:[C.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[C.jsx("div",{className:"w-14 h-14 bg-foreground/[0.03] dark:bg-white/[0.03] border border-border rounded-2xl flex items-center justify-center shadow-inner",children:n.icon}),C.jsxs("div",{children:[C.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-500 block mb-1",children:n.quarter}),C.jsx("h3",{className:"text-xl font-bold tracking-tight italic leading-tight",children:t(`roadmap.${n.key}.title`)})]})]}),C.jsx("ul",{className:"space-y-4",children:i.map((s,o)=>C.jsxs("li",{className:"flex items-start gap-3 text-[13px] text-muted-foreground leading-relaxed",children:[C.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-600/40 flex-shrink-0"}),s]},o))}),n.status==="current"&&C.jsxs("div",{className:"mt-8 pt-6 border-t border-blue-500/10 flex items-center gap-3",children:[C.jsxs("div",{className:"flex gap-1",children:[C.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),C.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500/40 rounded-full"})]}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-emerald-500",children:t("roadmap.active_status")})]})]})}),C.jsx("div",{className:"hidden md:block md:w-[44%]"})]},r)})})]})]})}const bme=({onClose:t})=>{var g,x;const{t:e}=Tg(),{user:n,updateUserData:r,logout:i}=aj(),[s,o]=N.useState(!1),[a,l]=N.useState(null),[u,c]=N.useState({active_rules:["gost"],custom_regex:((g=n==null?void 0:n.settings)==null?void 0:g.custom_regex)||`//   
/([A-Z]{3}-\\d{4})/g`,exclude_quotes:!1,display_name:(n==null?void 0:n.display_name)||"",system_email:(n==null?void 0:n.email)||""});N.useEffect(()=>{(async()=>{try{const v=await no.get("/auth/me");v.data.settings&&c(S=>({...S,...v.data.settings}))}catch{console.error("Config_Error: Link failed")}})()},[]);const f=async()=>{var S,w;const y=prompt("  :");if(!y)return;const v=prompt("  :");if(v)try{o(!0),await no.post("/auth/change-password",{old_password:y,new_password:v}),l({type:"success",text:" "})}catch(M){l({type:"error",text:((w=(S=M.response)==null?void 0:S.data)==null?void 0:w.message)||"  "})}finally{o(!1),setTimeout(()=>l(null),3e3)}},h=async y=>{const v=y.target.files[0];if(!v)return;const S=new FormData;S.append("file",v);try{o(!0);const w=await no.post("/auth/upload-avatar",S,{headers:{"Content-Type":"multipart/form-data"}});r({avatar:w.data.avatar_url}),l({type:"success",text:e("profile.avatar_updated")})}catch{l({type:"error",text:e("profile.upload_failed")})}finally{o(!1),setTimeout(()=>l(null),3e3)}},m=async()=>{o(!0);try{await no.post("/auth/update-settings",{settings:u}),l({type:"success",text:e("profile.config_synced")})}catch{l({type:"error",text:"CORE_ERROR"})}finally{o(!1),setTimeout(()=>l(null),3e3)}};return C.jsxs("div",{className:"fixed inset-0 z-[150] bg-background text-foreground flex flex-col overflow-y-auto custom-scrollbar animate-in slide-in-from-bottom duration-500 transition-colors duration-300",children:[C.jsx("nav",{className:"sticky top-0 z-[160] bg-background/80 backdrop-blur-xl border-b border-border",children:C.jsxs("div",{className:"max-w-5xl mx-auto px-6 h-20 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("div",{className:"w-10 h-10 bg-foreground rounded-2xl flex items-center justify-center shadow-lg",children:C.jsx(KP,{size:20,className:"text-background"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.2em] leading-none italic text-foreground",children:e("profile.title")}),C.jsxs("p",{className:"text-[9px] font-mono text-muted-foreground opacity-60 tracking-widest uppercase mt-1.5",children:["ID: ",((x=n==null?void 0:n.id)==null?void 0:x.substring(0,12))||"anonymous"]})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("button",{onClick:m,disabled:s,className:"px-6 py-2.5 bg-foreground text-background text-[10px] font-black uppercase tracking-[0.15em] rounded-full hover:opacity-90 transition-all flex items-center gap-2 shadow-xl active:scale-95 disabled:opacity-50",children:[s?C.jsx(fT,{className:"animate-spin"}):C.jsx(RQ,{}),e(s?"profile.syncing":"profile.save_btn")]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-foreground/10 rounded-full text-foreground transition-colors",children:C.jsx(vj,{size:26})})]})]})}),C.jsxs("div",{className:"p-6 md:p-12 max-w-5xl mx-auto w-full space-y-10",children:[C.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"md:col-span-1 bg-card border border-border rounded-[40px] p-10 flex flex-col items-center justify-center relative group shadow-sm",children:[C.jsx("input",{type:"file",id:"avatar-up",className:"hidden",onChange:h}),C.jsxs("label",{htmlFor:"avatar-up",className:"cursor-pointer relative block w-40 h-40",children:[C.jsxs("div",{className:"absolute inset-0 z-10 bg-foreground/60 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 rounded-[32px] flex flex-col items-center justify-center gap-3",children:[C.jsx(vQ,{size:24,className:"text-background"}),C.jsx("span",{className:"text-[9px] font-black text-background uppercase tracking-widest",children:"Update"})]}),C.jsx("img",{src:(n==null?void 0:n.avatar)||`https://api.dicebear.com/7.x/identicon/svg?seed=${n==null?void 0:n.username}`,className:"w-full h-full rounded-[32px] bg-background border border-border object-cover shadow-2xl transition-transform duration-500 group-hover:scale-[0.98]",alt:"Avatar"}),s&&C.jsx("div",{className:"absolute inset-0 z-20 bg-background/90 rounded-[32px] flex items-center justify-center",children:C.jsx(fT,{className:"text-foreground animate-spin",size:32})})]}),C.jsxs("div",{className:"text-center mt-8",children:[C.jsx("h3",{className:"text-[11px] font-black uppercase tracking-widest text-foreground",children:u.display_name||"Operator"}),C.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 opacity-50",children:[C.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),C.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.3em] italic text-foreground",children:e("profile.node_active")})]})]})]}),C.jsxs("div",{className:"md:col-span-2 bg-card border border-border rounded-[40px] p-10 flex flex-col justify-center space-y-8 shadow-sm",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx("label",{className:"text-[9px] font-black uppercase text-muted-foreground tracking-[0.2em] ml-1",children:e("profile.public_name")}),C.jsx("input",{value:u.display_name,onChange:y=>c({...u,display_name:y.target.value}),className:"w-full bg-background border border-border rounded-2xl px-5 py-4 text-sm text-foreground focus:border-foreground/20 outline-none transition-all"})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsx("label",{className:"text-[9px] font-black uppercase text-muted-foreground tracking-[0.2em] ml-1",children:e("profile.contact_email")}),C.jsx("input",{value:u.system_email,onChange:y=>c({...u,system_email:y.target.value}),className:"w-full bg-background border border-border rounded-2xl px-5 py-4 text-sm text-foreground focus:border-foreground/20 outline-none transition-all"})]})]}),C.jsxs("div",{className:"pt-6 flex items-center gap-4 text-emerald-500",children:[C.jsx(Ec,{size:16}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest italic",children:e("profile.cloud_sync")})]})]})]}),C.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"bg-card border border-border rounded-[40px] p-10 shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[C.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-500 rounded-lg",children:C.jsx(pj,{size:18})}),C.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] italic text-foreground",children:e("profile.detectors")})]}),C.jsx("div",{className:"space-y-3",children:["gost","apa","tables","titles"].map(y=>C.jsxs("div",{onClick:()=>c(v=>({...v,active_rules:v.active_rules.includes(y)?v.active_rules.filter(S=>S!==y):[...v.active_rules,y]})),className:`flex items-center justify-between p-5 rounded-2xl border transition-all cursor-pointer group ${u.active_rules.includes(y)?"bg-foreground/5 border-foreground/10 shadow-sm":"bg-transparent border-transparent hover:bg-foreground/[0.02]"}`,children:[C.jsx("span",{className:`text-[13px] tracking-tight ${u.active_rules.includes(y)?"text-foreground font-bold":"text-muted-foreground"}`,children:e(`profile.rules.${y}`)}),C.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center transition-all ${u.active_rules.includes(y)?"bg-foreground text-background":"bg-foreground/5 border border-border text-transparent"}`,children:C.jsx(qP,{size:14,strokeWidth:4})})]},y))})]}),C.jsxs("div",{className:"space-y-8",children:[C.jsxs("div",{className:"bg-card border border-border rounded-[40px] p-10 flex items-center justify-between group hover:bg-foreground/[0.02] transition-all shadow-sm",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-[13px] font-bold tracking-tight text-foreground uppercase",children:e("profile.ignore_quotes")}),C.jsx("p",{className:"text-[9px] text-muted-foreground uppercase tracking-widest mt-1.5 opacity-60 italic",children:e("profile.smart_quotes")})]}),C.jsx("button",{onClick:()=>c({...u,exclude_quotes:!u.exclude_quotes}),className:`w-14 h-7 rounded-full relative transition-all duration-500 ${u.exclude_quotes?"bg-emerald-500":"bg-muted-foreground/20"}`,children:C.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all shadow-md ${u.exclude_quotes?"left-8":"left-1"}`})})]}),C.jsxs("div",{className:"bg-card border border-border rounded-[40px] p-10 shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[C.jsx(gj,{size:16,className:"text-muted-foreground"}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.3em] text-muted-foreground italic",children:"Custom Regex Filter"})]}),C.jsx("textarea",{className:"w-full h-40 bg-background border border-border rounded-2xl p-6 font-mono text-[11px] text-slate-700 dark:text-emerald-400 outline-none focus:border-foreground/10 resize-none transition-all custom-scrollbar",value:u.custom_regex,onChange:y=>c({...u,custom_regex:y.target.value}),spellCheck:"false"})]})]})]}),C.jsxs("section",{className:"pt-10 flex flex-col md:flex-row justify-between items-center gap-8 border-t border-border",children:[C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("button",{onClick:f,className:"px-8 py-3 text-[10px] font-black uppercase tracking-widest text-muted-foreground hover:text-foreground transition-all border border-border hover:bg-foreground/5 rounded-full",children:[C.jsx(EQ,{className:"inline mr-2"})," ",e("profile.change_pass")]}),C.jsxs("button",{onClick:i,className:"px-8 py-3 text-[10px] font-black uppercase tracking-widest text-red-500 hover:bg-red-500/5 transition-all rounded-full border border-red-500/20",children:[C.jsx(AQ,{className:"inline mr-2"})," ",e("profile.logout")]})]}),C.jsxs("p",{className:"text-[9px] text-muted-foreground font-mono tracking-widest uppercase italic opacity-40",children:["Secure Session Node: ",Math.random().toString(36).substring(7).toUpperCase()]})]})]}),a&&C.jsx("div",{className:`fixed bottom-12 right-12 px-8 py-4 rounded-2xl font-black text-[9px] tracking-[0.2em] uppercase border backdrop-blur-2xl animate-in slide-in-from-right duration-500 z-[200] shadow-2xl ${a.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-600":"bg-red-500/10 border-red-500/20 text-red-600"}`,children:C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Pa,{size:16,className:"animate-pulse"}),a.text]})}),C.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.05); }
        ::selection { background: var(--foreground); color: var(--background); }
      `})]})};function Mme(){var r;const t=N.useRef(),e=N.useRef(),n=N.useMemo(()=>{const o=new Float32Array(10125);let a=0;for(let l=0;l<15;l++)for(let u=0;u<15;u++)for(let c=0;c<15;c++)o[a++]=(l/15-.5)*3,o[a++]=(u/15-.5)*3,o[a++]=(c/15-.5)*3;return o},[]);return BS(i=>{const s=i.clock.getElapsedTime();t.current.rotation.y=s*.2,t.current.rotation.x=s*.1,e.current&&(e.current.position.y=Math.sin(s*1.5)*1.5)}),C.jsxs("group",{children:[C.jsx(LW,{ref:t,positions:n,stride:3,children:C.jsx(OW,{transparent:!0,color:"#3b82f6",size:.04,sizeAttenuation:!0,depthWrite:!1,blending:Im})}),C.jsxs("mesh",{ref:e,children:[C.jsx("boxGeometry",{args:[4,.02,4]}),C.jsx("meshBasicMaterial",{color:"#60a5fa",transparent:!0,opacity:.5})]}),C.jsxs("mesh",{"position-y":(r=e.current)==null?void 0:r.position.y,children:[C.jsx("boxGeometry",{args:[4.2,.1,4.2]}),C.jsx("meshBasicMaterial",{color:"#3b82f6",transparent:!0,opacity:.1})]})]})}function Eme(){return C.jsxs("div",{className:"fixed inset-0 z-[999] bg-white dark:bg-zinc-950 flex flex-col items-center justify-center overflow-hidden",children:[C.jsx("div",{className:"w-full h-[60vh]",children:C.jsxs(IW,{camera:{position:[0,2,8],fov:35},children:[C.jsx("ambientLight",{intensity:.5}),C.jsx(Mme,{})]})}),C.jsx("div",{className:"relative flex flex-col items-center -mt-20",children:C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"w-12 h-12 bg-black dark:bg-white rounded-2xl flex items-center justify-center shadow-2xl",children:C.jsx("span",{className:"text-white dark:text-black font-black text-xl italic",children:"Q"})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-2xl font-bold tracking-tighter italic leading-none",children:"QazZerep"}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-blue-500 mt-1 opacity-80",children:"System Analysis"})]})]})})]})}function HF({options:t,activeValue:e,onChange:n,type:r="text",small:i=!1}){const s=t.findIndex(o=>o.value===e);return C.jsxs("div",{className:"relative flex bg-black/5 dark:bg-white/5 backdrop-blur-md border border-black/5 dark:border-white/5 p-1 rounded-2xl w-full select-none shadow-inner",children:[C.jsx("div",{className:"absolute top-1 bottom-1 bg-white dark:bg-zinc-800 shadow-md rounded-xl transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] z-0",style:{width:`calc(${100/t.length}% - 4px)`,left:`calc(${s*100/t.length}% + 2px)`}}),t.map(o=>C.jsx("button",{onClick:()=>n(o.value),className:`relative z-10 flex-1 flex items-center justify-center transition-all duration-500 ${i?"py-1.5":"py-2.5"} ${e===o.value?"text-black dark:text-white":"text-muted-foreground opacity-60"}`,children:r==="icon"?o.icon:C.jsx("span",{className:`font-black tracking-widest uppercase leading-none ${i?"text-[8px]":"text-[10px]"}`,children:o.label})},o.value))]})}function my({active:t,icon:e,label:n,onClick:r}){return C.jsxs("button",{onClick:r,className:`flex items-center gap-3 px-5 py-3 rounded-2xl transition-all ${t?"bg-foreground/5 text-foreground font-bold shadow-sm":"text-muted-foreground hover:text-foreground opacity-70 hover:opacity-100"}`,children:[C.jsx("span",{className:t?"text-foreground":"opacity-40",children:e}),C.jsx("span",{className:"text-[13px] tracking-tight",children:n})]})}function Ame(){var P;const{theme:t,setTheme:e}=xse(),{t:n,i18n:r}=Tg(),[i,s]=N.useState([]),[o,a]=N.useState(null),[l,u]=N.useState(!1),[c,f]=N.useState("new"),[h,m]=N.useState([]),[g,x]=N.useState(!1),[y,v]=N.useState(!1),[S,w]=N.useState(null),[M,E]=N.useState(!0);N.useEffect(()=>{const R=setTimeout(()=>E(!1),2500);return()=>clearTimeout(R)},[]),N.useEffect(()=>{c==="history"&&T()},[c]);const T=async()=>{try{const R=await no.get("/documents/history");m(R.data)}catch{console.error("Archive error")}},I=async()=>{if(i.length<2)return;u(!0);const R=new FormData;i.forEach(V=>R.append("files",V));const k=no.post("/documents/compare-batch",R),U=new Promise(V=>setTimeout(V,2200));try{const[V]=await Promise.all([k,U]);a(V.data)}catch{console.error("Server error")}finally{u(!1)}},L=()=>{const R=`${window.location.origin}/verify/${S.report_id}`;navigator.clipboard.writeText(R),v(!0),setTimeout(()=>v(!1),2e3)};return M?C.jsx(Eme,{}):C.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-background text-foreground font-sans overflow-hidden transition-colors duration-500",children:[l&&C.jsx(_me,{t:n}),C.jsxs("aside",{className:"fixed bottom-0 left-0 w-full z-[100] md:relative md:w-64 md:h-full bg-card md:bg-background border-t md:border-t-0 md:border-r border-border flex md:flex-col",children:[C.jsxs("div",{className:"hidden md:flex p-8 items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 bg-foreground rounded-lg flex items-center justify-center shadow-lg",children:C.jsx(Pa,{size:18,className:"text-background"})}),C.jsx("span",{className:"font-semibold text-lg tracking-tight italic",children:"QazZerep"})]}),C.jsxs("nav",{className:"flex-1 flex md:flex-col justify-around md:justify-start p-3 gap-2",children:[C.jsx(my,{active:c==="new",icon:C.jsx(wQ,{size:18}),label:n("nav.check"),onClick:()=>f("new")}),C.jsx(my,{active:c==="history",icon:C.jsx(xQ,{size:18}),label:n("nav.history"),onClick:()=>f("history")}),C.jsx("div",{className:"hidden md:block my-4 border-t border-border/50 mx-4"}),C.jsx(my,{active:c==="roadmap",icon:C.jsx(mj,{size:18}),label:n("nav.roadmap")||"Roadmap",onClick:()=>f("roadmap")}),C.jsx(my,{active:g,icon:C.jsx(KP,{size:18}),label:n("nav.account"),onClick:()=>x(!0)}),C.jsxs("div",{className:"hidden md:flex flex-col mt-auto gap-6 p-5 border-t border-border/20 bg-black/[0.02] dark:bg-white/[0.02] rounded-t-3xl",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-muted-foreground/50 px-1 italic",children:n("settings.language")}),C.jsx(HF,{small:!0,activeValue:r.language,onChange:R=>r.changeLanguage(R),options:[{value:"rus",label:"RU"},{value:"kaz",label:"KZ"},{value:"eng",label:"EN"}]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-muted-foreground/50 px-1 italic",children:n("settings.theme")}),C.jsx(HF,{small:!0,activeValue:t,onChange:R=>e(R),type:"icon",options:[{value:"light",icon:C.jsx(IQ,{size:12})},{value:"dark",icon:C.jsx(PQ,{size:12})},{value:"system",icon:C.jsx(CQ,{size:12})}]})]})]})]})]}),g&&C.jsx(bme,{onClose:()=>x(!1)}),C.jsxs("main",{className:"flex-1 flex flex-col relative overflow-y-auto custom-scrollbar",children:[C.jsxs("div",{className:"p-6 md:p-16 max-w-6xl mx-auto w-full flex-1",children:[c!=="roadmap"&&C.jsxs("header",{className:"mb-12 animate-in fade-in duration-500",children:[C.jsx("h1",{className:"text-3xl font-medium tracking-tight italic",children:n(c==="new"?"dash.title_new":"dash.title_history")}),C.jsx("p",{className:"text-muted-foreground text-sm mt-2 font-light opacity-60",children:n(c==="new"?"dash.subtitle_new":"dash.subtitle_history")})]}),c==="new"&&C.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[!o&&!l&&C.jsxs("div",{className:"relative group",children:[C.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-3xl blur opacity-10 group-hover:opacity-20 transition duration-1000"}),C.jsxs("div",{className:"relative bg-card border border-border rounded-3xl p-12 md:p-24 flex flex-col items-center border-dashed group-hover:border-foreground/20 transition-all",children:[C.jsx("input",{type:"file",multiple:!0,onChange:R=>s(Array.from(R.target.files)),className:"hidden",id:"file-up"}),C.jsxs("label",{htmlFor:"file-up",className:"cursor-pointer flex flex-col items-center text-center",children:[C.jsx("div",{className:"w-16 h-16 bg-foreground/5 rounded-2xl flex items-center justify-center mb-6",children:C.jsx(OQ,{size:28,className:"text-foreground"})}),C.jsx("h2",{className:"text-lg font-medium",children:n("upload.title")}),C.jsx("p",{className:"text-muted-foreground text-sm mt-2 opacity-50",children:n("upload.formats")})]}),i.length>0&&C.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[C.jsxs("span",{className:"text-[10px] text-blue-500 mb-4 font-black uppercase tracking-widest",children:[n("upload.selected"),": ",i.length]}),C.jsx("button",{onClick:I,className:"px-12 py-4 bg-foreground text-background font-black text-[11px] uppercase tracking-widest rounded-full hover:opacity-90 transition-all active:scale-95 shadow-xl",children:n("upload.btn_start")})]})]})]}),o&&!l&&C.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.comparisons.map((R,k)=>C.jsx(Tme,{item:R,onClick:()=>w(R)},k)),C.jsx("button",{onClick:()=>{a(null),s([])},className:"py-6 text-[10px] font-black uppercase tracking-[0.3em] text-muted-foreground hover:text-foreground transition-all",children:n("dash.btn_reset")})]})]}),c==="history"&&C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in duration-500",children:h.length>0?h.map((R,k)=>C.jsx(Cme,{session:R,onSelect:w},k)):C.jsx("div",{className:"col-span-full py-20 text-center opacity-30 italic",children:"No records found"})}),c==="roadmap"&&C.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:C.jsx(wme,{})})]}),C.jsx(Sme,{})]}),S&&C.jsxs("div",{className:"fixed inset-0 z-[110] bg-background flex flex-col animate-in slide-in-from-bottom duration-500",children:[C.jsxs("header",{className:"flex items-center justify-between px-8 py-6 border-b border-border bg-background/80 backdrop-blur-xl",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("h2",{className:"text-2xl font-medium tracking-tighter italic text-foreground",children:n("report.title")}),C.jsxs("div",{className:`px-4 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${S.originality<50?"bg-red-500/10 text-red-500":"bg-emerald-500/10 text-emerald-500"}`,children:[S.originality,"% ",n("report.match_label")]})]}),C.jsx("button",{onClick:()=>w(null),className:"p-3 hover:bg-foreground/5 rounded-full text-foreground transition-colors",children:C.jsx(vj,{size:24})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 custom-scrollbar bg-background",children:C.jsxs("div",{className:"max-w-7xl mx-auto space-y-10",children:[C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx(WF,{doc:S.docA,title:n("report.source_a"),t:n}),C.jsxs("div",{className:"bg-card border border-border rounded-[40px] p-8 flex flex-col items-center justify-center shadow-xl",children:[C.jsxs("div",{className:"relative mb-8 cursor-pointer group",onClick:L,children:[C.jsx("div",{className:"bg-white p-4 rounded-3xl shadow-lg transition-transform group-hover:scale-105",children:C.jsx(C2,{value:`${window.location.origin}/verify/${S.report_id}`,size:120,level:"H",fgColor:"#000"})}),y&&C.jsxs("div",{className:"absolute inset-0 bg-background/95 rounded-3xl flex flex-col items-center justify-center border border-border animate-in zoom-in duration-200",children:[C.jsx(qP,{size:32,className:"text-emerald-500 mb-2"}),C.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-foreground",children:n("report.copied")})]})]}),C.jsxs("button",{onClick:L,className:"text-[9px] font-mono text-muted-foreground hover:text-foreground flex items-center gap-3 bg-foreground/5 px-5 py-2.5 rounded-full uppercase tracking-tighter transition-all",children:[C.jsx(dj,{size:12})," ",(P=S.report_id)==null?void 0:P.substring(0,16),"..."]})]}),C.jsx(WF,{doc:S.docB,title:n("report.target_b"),t:n})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[C.jsx(GF,{doc:S.docA}),C.jsx(GF,{doc:S.docB})]})]})})]}),C.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
                .dark .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); }
                .diff-match { color: #ef4444; background: rgba(239, 68, 68, 0.08); }
                ::selection { background: #3b82f6; color: #fff; }
            `})]})}function Tme({item:t,onClick:e}){var n;return C.jsxs("div",{onClick:e,className:"p-6 bg-card border border-border rounded-[32px] flex items-center justify-between hover:border-foreground/20 transition-all cursor-pointer group shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-5",children:[C.jsx("div",{className:"w-12 h-12 rounded-2xl bg-foreground/5 border border-border flex items-center justify-center group-hover:scale-110 transition-transform",children:C.jsx(YP,{size:20,className:"text-muted-foreground"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-[15px] font-medium tracking-tight text-foreground",children:t.pair}),C.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono opacity-60 mt-1 uppercase",children:["ID: ",(n=t.report_id)==null?void 0:n.substring(0,8)]})]})]}),C.jsxs("div",{className:"flex items-center gap-8",children:[C.jsxs("span",{className:`text-xl font-bold tracking-tighter ${t.originality<50?"text-red-500":"text-emerald-500"}`,children:[t.originality,"%"]}),C.jsx(fj,{className:"text-muted-foreground group-hover:text-foreground group-hover:translate-x-1 transition-all",size:20})]})]})}function Cme({session:t,onSelect:e}){return C.jsxs("div",{className:"bg-card border border-border rounded-[32px] p-8 hover:border-foreground/20 transition-all group",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-8 opacity-40 group-hover:opacity-100 transition-opacity",children:[C.jsx(gQ,{size:14,className:"text-foreground"}),C.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-foreground",children:new Date(t.timestamp).toLocaleDateString()})]}),C.jsx("div",{className:"space-y-4",children:t.comparisons.map((n,r)=>C.jsxs("div",{onClick:()=>e(n),className:"flex justify-between items-center cursor-pointer border-b border-border/50 pb-3 last:border-0 hover:translate-x-1 transition-transform",children:[C.jsx("span",{className:"text-[13px] text-muted-foreground hover:text-foreground transition-colors truncate pr-6",children:n.pair}),C.jsxs("span",{className:`text-[13px] font-black ${n.originality<50?"text-red-500":"text-emerald-500"}`,children:[n.originality,"%"]})]},r))})]})}function WF({doc:t,title:e,t:n}){const r=t.ai.score>60;return C.jsxs("div",{className:"bg-card border border-border rounded-[40px] p-10 shadow-xl transition-all hover:scale-[1.02]",children:[C.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-[0.4em] opacity-40 italic",children:e}),C.jsx("h3",{className:"text-xl font-medium mt-3 truncate text-foreground",children:t.name}),C.jsxs("div",{className:"mt-12",children:[C.jsxs("div",{className:"flex justify-between items-end mb-4",children:[C.jsx("span",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:n("report.ai_prob")}),C.jsxs("span",{className:`text-2xl font-black italic ${r?"text-red-500":"text-emerald-500"}`,children:[t.ai.score,"%"]})]}),C.jsx("div",{className:"h-1.5 w-full bg-foreground/5 rounded-full overflow-hidden",children:C.jsx("div",{className:`h-full transition-all duration-1000 ${r?"bg-red-500":"bg-emerald-500"}`,style:{width:`${t.ai.score}%`}})})]})]})}function GF({doc:t}){return C.jsxs("div",{className:"flex flex-col bg-card border border-border rounded-[40px] overflow-hidden shadow-xl",children:[C.jsxs("div",{className:"px-8 py-5 border-b border-border flex justify-between items-center bg-foreground/[0.02]",children:[C.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest truncate max-w-[300px] italic opacity-60",children:t.name}),C.jsx(Ec,{size:14,className:"text-blue-500 animate-pulse"})]}),C.jsx("div",{className:"p-10 text-[15px] text-foreground/80 leading-[1.8] max-h-[600px] overflow-y-auto custom-scrollbar font-light tracking-tight",dangerouslySetInnerHTML:{__html:t.html}})]})}function Pme(){const[t,e]=N.useState([]),n=q1();N.useEffect(()=>{r()},[]);const r=async()=>{try{const s=await no.get("/documents/admin/all-docs");e(s.data.data)}catch{console.error("Admin access error")}},i=async s=>{window.confirm("     ?")&&(await no.delete(`/documents/delete/${s}`),r())};return C.jsx("div",{className:"min-h-screen bg-[#050505] text-slate-400 p-8 font-sans",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("header",{className:"flex justify-between items-center mb-12",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:()=>n("/"),className:"p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-all",children:C.jsx(cj,{className:"text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Root Terminal"}),C.jsx("p",{className:"text-[10px] text-red-500 font-black uppercase tracking-[0.3em]",children:"Global System Administration"})]})]}),C.jsx("div",{className:"flex gap-4",children:C.jsxs("div",{className:"px-6 py-3 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[C.jsx(Ec,{className:"text-red-500 animate-pulse"}),C.jsx("span",{className:"text-[11px] font-bold text-red-500 uppercase tracking-widest",children:"Core Secured"})]})})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Total Clusters",val:t.length,icon:C.jsx(hj,{})},{label:"System Load",val:"12%",icon:C.jsx(Ec,{})},{label:"Storage Ready",val:"Active",icon:C.jsx(bQ,{})}].map((s,o)=>C.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-6 rounded-3xl group hover:border-red-500/30 transition-all",children:[C.jsx("div",{className:"text-slate-600 mb-4 group-hover:text-red-500 transition-colors",children:s.icon}),C.jsx("p",{className:"text-3xl font-bold text-white mb-1",children:s.val}),C.jsx("p",{className:"text-[10px] uppercase font-black text-slate-700 tracking-widest",children:s.label})]},o))}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-[0.2em] mb-6 px-4",children:"Global Data Nodes"}),t.map(s=>C.jsxs("div",{className:"group flex items-center justify-between p-6 bg-[#0A0A0A] border border-white/5 rounded-3xl hover:bg-white/[0.02] transition-all",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-slate-500 group-hover:text-red-500 transition-colors",children:C.jsx(wg,{})}),C.jsxs("div",{children:[C.jsxs("p",{className:"text-sm font-mono text-slate-300",children:["NODE_",s.id.slice(-8).toUpperCase()]}),C.jsxs("p",{className:"text-[10px] text-slate-600 uppercase mt-1",children:["Owner: ",C.jsx("span",{className:"text-emerald-500",children:s.owner})]})]})]}),C.jsxs("div",{className:"flex items-center gap-12",children:[C.jsxs("div",{className:"text-right hidden sm:block",children:[C.jsx("p",{className:"text-white font-bold",children:s.hash_count}),C.jsx("p",{className:"text-[9px] text-slate-700 uppercase font-bold",children:"Signatures"})]}),C.jsx("button",{onClick:()=>i(s.id),className:"w-12 h-12 flex items-center justify-center bg-red-500/10 text-red-500 rounded-2xl hover:bg-red-500 hover:text-white transition-all shadow-lg hover:shadow-red-500/20",children:C.jsx(NQ,{})})]})]},s.id))]})]})})}const Rme=()=>{const{slug:t}=RV(),e=q1(),{t:n}=Tg(),i={documentation:{icon:C.jsx(gj,{size:24}),cat:"architecture",key:"doc",color:"blue"},"knowledge-base":{icon:C.jsx(hj,{size:24}),cat:"methodology",key:"base",color:"indigo"},privacy:{icon:C.jsx(dT,{size:24}),cat:"privacy",key:"priv",color:"emerald"},terms:{icon:C.jsx(YP,{size:24}),cat:"legal",key:"terms",color:"zinc"},cookie:{icon:C.jsx(Ec,{size:24}),cat:"technical",key:"cookie",color:"amber"},help:{icon:C.jsx(MQ,{size:24}),cat:"manual",key:"help",color:"sky"},contacts:{icon:C.jsx(SQ,{size:24}),cat:"channels",key:"contacts",color:"violet"}}[t]||{icon:C.jsx(hQ,{size:24}),cat:"error",key:"404"},s=n(`info.content.${i.key}.items`,{returnObjects:!0})||[];return C.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-white selection:text-black overflow-x-hidden",children:[C.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-full h-full -z-10 pointer-events-none overflow-hidden",children:[C.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 blur-[120px] rounded-full animate-pulse"}),C.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[30%] h-[30%] bg-indigo-500/10 blur-[100px] rounded-full"})]}),C.jsx("nav",{className:"sticky top-0 z-[100] bg-background/50 backdrop-blur-2xl border-b border-white/5",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[C.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center gap-3 text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground hover:text-foreground transition-all",children:[C.jsx("div",{className:"p-2 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors",children:C.jsx(cj,{size:14})}),n("info.back")]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 bg-foreground rounded-lg flex items-center justify-center shadow-lg shadow-white/5",children:C.jsx(Pa,{size:16,className:"text-background"})}),C.jsx("span",{className:"font-semibold text-lg tracking-tighter italic hidden sm:block",children:"QazZerep"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-40",children:"System Live"})]})]})}),C.jsxs("main",{className:"max-w-5xl mx-auto px-6 pt-16 pb-32",children:[C.jsxs("header",{className:"mb-24 relative",children:[C.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 mb-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[C.jsx("span",{className:"w-1 h-1 rounded-full bg-blue-500"}),C.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-widest italic",children:n(`info.categories.${i.cat}`)})]}),C.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8",children:[C.jsxs("div",{className:"max-w-2xl animate-in fade-in slide-in-from-left-4 duration-700",children:[C.jsx("h1",{className:"text-5xl md:text-8xl font-medium tracking-[ -0.04em] italic uppercase leading-[0.9]",children:n(`info.pages.${i.key}.title`)}),C.jsx("p",{className:"mt-8 text-lg md:text-xl text-muted-foreground font-light leading-relaxed opacity-60",children:n("info.version_desc")})]}),C.jsx("div",{className:"hidden lg:block animate-in zoom-in duration-1000",children:C.jsxs("div",{className:"w-32 h-32 bg-white/[0.02] border border-white/5 rounded-[40px] flex items-center justify-center relative",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500/20 to-transparent blur-2xl opacity-50"}),C.jsx("div",{className:"relative text-foreground opacity-80",children:i.icon})]})})]})]}),C.jsx("div",{className:"grid grid-cols-1 gap-6",children:Array.isArray(s)&&s.map((o,a)=>C.jsxs("div",{className:"group relative p-[1px] rounded-[32px] overflow-hidden transition-all duration-500 hover:scale-[1.01]",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 via-white/10 to-indigo-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),C.jsxs("div",{className:"relative p-8 md:p-12 bg-[#0c0c0c]/80 backdrop-blur-md rounded-[31px] border border-white/5 flex flex-col md:flex-row gap-8 md:gap-20",children:[C.jsxs("div",{className:"md:w-1/3",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[C.jsxs("span",{className:"text-[10px] font-mono text-blue-500 font-bold tracking-tighter",children:["[",(a+1).toString().padStart(2,"0"),"]"]}),C.jsx("div",{className:"h-[1px] w-8 bg-blue-500/30"})]}),C.jsx("h3",{className:"text-xl font-medium tracking-tight text-foreground uppercase italic leading-tight",children:o.t})]}),C.jsxs("div",{className:"md:w-2/3 flex justify-between items-start group/text",children:[C.jsx("p",{className:"text-[16px] text-zinc-400 leading-relaxed font-light group-hover:text-zinc-200 transition-colors duration-300",children:o.d}),C.jsx(fj,{className:"shrink-0 mt-1 opacity-0 -translate-x-4 group-hover:opacity-10 group-hover:translate-x-0 transition-all duration-500",size:24})]})]})]},a))}),C.jsxs("footer",{className:"mt-32 pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-8",children:[C.jsxs("div",{className:"flex flex-col gap-1",children:[C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.5em] text-muted-foreground italic",children:n("info.copyright")}),C.jsx("span",{className:"text-[9px] font-medium text-muted-foreground/30 uppercase tracking-widest",children:"Platform Version 2.0.4-stable"})]}),C.jsxs("div",{className:"flex items-center gap-8",children:[C.jsx("div",{className:"flex -space-x-2",children:[wg,fT,dT].map((o,a)=>C.jsx("div",{className:"w-10 h-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors cursor-help",children:C.jsx(o,{size:14})},a))}),C.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-12 h-12 rounded-full border border-white/5 flex items-center justify-center hover:bg-white/5 transition-all",children:C.jsx(Pa,{size:14,className:"rotate-180"})})]})]})]}),C.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }

        .animate-in {
          animation: slide-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
      `})]})};function FW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xi(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FW(t))&&(r&&(r+=" "),r+=e);return r}var Ime=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SR(t){if(typeof t!="string")return!1;var e=Ime;return e.includes(t)}var Nme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ome=new Set(Nme);function UW(t){return typeof t!="string"?!1:Ome.has(t)}function zW(t){return typeof t=="string"&&t.startsWith("data-")}function Xd(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(UW(n)||zW(n))&&(e[n]=t[n]);return e}function $F(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Xd(e)}return typeof t=="object"&&!Array.isArray(t)?Xd(t):null}function uo(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(UW(n)||zW(n)||SR(n))&&(e[n]=t[n]);return e}var Lme=["children","width","height","viewBox","className","style","title","desc"];function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(null,arguments)}function Dme(t,e){if(t==null)return{};var n,r,i=kme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BW=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:u}=t,c=Dme(t,Lme),f=s||{width:r,height:i,x:0,y:0},h=xi("recharts-surface",o);return N.createElement("svg",oC({},uo(c),{className:h,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),N.createElement("title",null,l),N.createElement("desc",null,u),n)}),Fme=["children","className"];function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(null,arguments)}function Ume(t,e){if(t==null)return{};var n,r,i=zme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $l=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Ume(t,Fme),s=xi("recharts-layer",r);return N.createElement("g",aC({className:s},uo(i),{ref:e}),n)}),Bme=N.createContext(null);function hn(t){return function(){return t}}const VW=Math.cos,B_=Math.sin,po=Math.sqrt,V_=Math.PI,jS=2*V_,lC=Math.PI,uC=2*lC,Wu=1e-6,Vme=uC-Wu;function jW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jW;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Hme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jW:jme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,c=o-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Wu)if(!(Math.abs(f*l-u*c)>Wu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-a,x=l*l+u*u,y=m*m+g*g,v=Math.sqrt(x),S=Math.sqrt(h),w=s*Math.tan((lC-Math.acos((x+h-y)/(2*v*S)))/2),M=w/S,E=w/v;Math.abs(M-1)>Wu&&this._append`L${e+M*c},${n+M*f}`,this._append`A${s},${s},0,0,${+(f*m>c*g)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Wu||Math.abs(this._y1-c)>Wu)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%uC+uC),h>Vme?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Wu&&this._append`A${r},${r},0,${+(h>=lC)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Hme(e)}function bR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HW(t){this._context=t}HW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function HS(t){return new HW(t)}function WW(t){return t[0]}function GW(t){return t[1]}function $W(t,e){var n=hn(!0),r=null,i=HS,s=null,o=wR(a);t=typeof t=="function"?t:t===void 0?WW:hn(t),e=typeof e=="function"?e:e===void 0?GW:hn(e);function a(l){var u,c=(l=bR(l)).length,f,h=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,l),+e(f,u,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:hn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:hn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:hn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function gy(t,e,n){var r=null,i=hn(!0),s=null,o=HS,a=null,l=wR(u);t=typeof t=="function"?t:t===void 0?WW:hn(+t),e=typeof e=="function"?e:hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?GW:hn(+n);function u(f){var h,m,g,x=(f=bR(f)).length,y,v=!1,S,w=new Array(x),M=new Array(x);for(s==null&&(a=o(S=l())),h=0;h<=x;++h){if(!(h<x&&i(y=f[h],h,f))===v)if(v=!v)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=m;--g)a.point(w[g],M[g]);a.lineEnd(),a.areaEnd()}v&&(w[h]=+t(y,h,f),M[h]=+e(y,h,f),a.point(r?+r(y,h,f):w[h],n?+n(y,h,f):M[h]))}if(S)return a=null,S+""||null}function c(){return $W().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:hn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:hn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:hn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),u):s},u}class XW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Wme(t){return new XW(t,!0)}function Gme(t){return new XW(t,!1)}const MR={draw(t,e){const n=po(e/V_);t.moveTo(n,0),t.arc(0,0,n,0,jS)}},$me={draw(t,e){const n=po(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qW=po(1/3),Xme=qW*2,qme={draw(t,e){const n=po(e/Xme),r=n*qW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Yme={draw(t,e){const n=po(e),r=-n/2;t.rect(r,r,n,n)}},Kme=.8908130915292852,YW=B_(V_/10)/B_(7*V_/10),Zme=B_(jS/10)*YW,Jme=-VW(jS/10)*YW,Qme={draw(t,e){const n=po(e*Kme),r=Zme*n,i=Jme*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=jS*s/5,a=VW(o),l=B_(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},HE=po(3),ege={draw(t,e){const n=-po(e/(HE*3));t.moveTo(0,n*2),t.lineTo(-HE*n,-n),t.lineTo(HE*n,-n),t.closePath()}},vs=-.5,ys=po(3)/2,cC=1/po(12),tge=(cC/2+1)*3,nge={draw(t,e){const n=po(e/tge),r=n/2,i=n*cC,s=r,o=n*cC+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(vs*r-ys*i,ys*r+vs*i),t.lineTo(vs*s-ys*o,ys*s+vs*o),t.lineTo(vs*a-ys*l,ys*a+vs*l),t.lineTo(vs*r+ys*i,vs*i-ys*r),t.lineTo(vs*s+ys*o,vs*o-ys*s),t.lineTo(vs*a+ys*l,vs*l-ys*a),t.closePath()}};function rge(t,e){let n=null,r=wR(i);t=typeof t=="function"?t:hn(t||MR),e=typeof e=="function"?e:hn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:hn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:hn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function j_(){}function H_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function KW(t){this._context=t}KW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ige(t){return new KW(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:j_,areaEnd:j_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:H_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sge(t){return new ZW(t)}function JW(t){this._context=t}JW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:H_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oge(t){return new JW(t)}function QW(t){this._context=t}QW.prototype={areaStart:j_,areaEnd:j_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function age(t){return new QW(t)}function XF(t){return t<0?-1:1}function qF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(XF(s)+XF(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function YF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function WE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function W_(t){this._context=t}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:WE(this,this._t0,YF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,WE(this,YF(this,n=qF(this,t,e)),n);break;default:WE(this,this._t0,n=qF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eG(t){this._context=new tG(t)}(eG.prototype=Object.create(W_.prototype)).point=function(t,e){W_.prototype.point.call(this,e,t)};function tG(t){this._context=t}tG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function lge(t){return new W_(t)}function uge(t){return new eG(t)}function nG(t){this._context=t}nG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KF(t),i=KF(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KF(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function cge(t){return new nG(t)}function WS(t,e){this._context=t,this._t=e}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fge(t){return new WS(t,.5)}function dge(t){return new WS(t,0)}function hge(t){return new WS(t,1)}function Lc(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pge(t,e){return t[e]}function mge(t){const e=[];return e.key=t,e}function gge(){var t=hn([]),e=fC,n=Lc,r=pge;function i(s){var o=Array.from(t.apply(this,arguments),mge),a,l=o.length,u=-1,c;for(const f of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(f,o[a].key,u,s)]).data=f;for(a=0,c=bR(e(o));a<l;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:hn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:hn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fC:typeof s=="function"?s:hn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Lc,i):n},i}function vge(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Lc(t,e)}}function yge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Lc(t,e)}}function xge(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,g=0;g<a;++g){var x=t[e[g]],y=x[r][1]||0,v=x[r-1][1]||0;m+=y-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Lc(t,e)}}var rG={},iG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(iG);var sG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(sG);var ER={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(ER);var AR={},oG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(oG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oG,n=ER;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],o=i.length;if(o===0)return s;let a=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<o;){const f=i[a];u?f==="\\"&&a+1<o?(a++,l+=i[a]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,s.push(l),l=""):l+=f:f==="["?(c=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,a++}return l&&s.push(l),s}t.toPath=r})(AR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iG,n=sG,r=ER,i=AR;function s(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?s(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function o(a,l,u){if(l.length===0)return u;let c=a;for(let f=0;f<l.length;f++){if(c==null||e.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}t.get=s})(rG);var _ge=rG.get;const Ym=Zo(_ge);var Sge=4;function Tl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sge,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Bn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,o)=>{var a=n[o-1];return typeof a=="string"?i+a+s:a!==void 0?i+Tl(a)+s:i+s},"")}var Ri=t=>t===0?0:t>0?1:-1,Oa=t=>typeof t=="number"&&t!=+t,Dc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Jt=t=>(typeof t=="number"||t instanceof Number)&&!Oa(t),Km=t=>Jt(t)||typeof t=="string",wge=0,Zm=t=>{var e=++wge;return"".concat(t||"").concat(e)},ts=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Jt(e)&&typeof e!="string")return r;var s;if(Dc(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Oa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},aG=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Js(t,e,n){return Jt(t)&&Jt(e)?Tl(t+n*(e-t)):e}function bge(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ym(r,e))===n)}var Ns=t=>t===null||typeof t>"u",Bg=t=>Ns(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Fo(t){return t!=null}function Vg(){}var Mge=["type","size","sizeType"];function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dC.apply(null,arguments)}function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){Ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ege(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cge(t,e){if(t==null)return{};var n,r,i=Pge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lG={symbolCircle:MR,symbolCross:$me,symbolDiamond:qme,symbolSquare:Yme,symbolStar:Qme,symbolTriangle:ege,symbolWye:nge},Rge=Math.PI/180,Ige=t=>{var e="symbol".concat(Bg(t));return lG[e]||MR},Nge=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Rge;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Oge=(t,e)=>{lG["symbol".concat(Bg(t))]=e},uG=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Cge(t,Mge),s=JF(JF({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var a=()=>{var h=Ige(o),m=rge().type(h).size(Nge(n,r,o)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=s,f=uo(s);return Jt(u)&&Jt(c)&&Jt(n)?N.createElement("path",dC({},f,{className:xi("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:a()})):null};uG.registerSymbol=Oge;var Lge=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{SR(i)&&(r[i]=s=>n[i](n,s))}),r},Dge=(t,e,n)=>r=>(t(e,n,r),null),kge=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];SR(i)&&typeof s=="function"&&(r||(r={}),r[i]=Dge(s,e,n))}),r};function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){Uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=Bge(t,"string");return typeof e=="symbol"?e:e+""}function Bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ja(t,e){var n=Fge({},t),r=e,i=Object.keys(e),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var TR={},cG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(cG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cG;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(TR);var fG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(fG);var dG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(dG);var hG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(hG);var CR=N.createContext(null),Vge=t=>t,br=()=>{var t=N.useContext(CR);return t?t.store.dispatch:Vge},tx=()=>{},jge=()=>tx,Hge=(t,e)=>t===e;function mn(t){var e=N.useContext(CR),n=N.useMemo(()=>e?r=>{if(r!=null)return t(r)}:tx,[e,t]);return yme.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:jge,e?e.store.getState:tx,e?e.store.getState:tx,n,Hge)}function Wge(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Gge(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function $ge(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var eU=t=>Array.isArray(t)?t:[t];function Xge(t){const e=Array.isArray(t[0])?t[0]:t;return $ge(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function qge(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Yge=class{constructor(t){this.value=t}deref(){return this.value}},Kge=typeof WeakRef<"u"?WeakRef:Yge,Zge=0,tU=1;function vy(){return{s:Zge,v:void 0,o:null,p:null}}function pG(t,e={}){let n=vy();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=a.o;x===null&&(a.o=x=new WeakMap);const y=x.get(g);y===void 0?(a=vy(),x.set(g,a)):a=y}else{let x=a.p;x===null&&(a.p=x=new Map);const y=x.get(g);y===void 0?(a=vy(),x.set(g,a)):a=y}}const u=a;let c;if(a.s===tU)c=a.v;else if(c=t.apply(null,arguments),s++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Kge(c):c}return u.s=tU,u.v=c,c}return o.clearCache=()=>{n=vy(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Jge(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Wge(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=pG,argsMemoizeOptions:g=[]}=c,x=eU(h),y=eU(g),v=Xge(i),S=f(function(){return s++,u.apply(null,arguments)},...x),w=m(function(){o++;const E=qge(v,arguments);return a=S.apply(null,E),a},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:S,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var oe=Jge(pG),Qge=Object.assign((t,e=oe)=>{Gge(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>Qge}),mG={},gG={},vG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),a=e(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};t.compareValues=n})(vG);var yG={},PR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(PR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PR,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(yG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vG,n=yG,r=AR;function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(m=>String(m));const u=(m,g)=>{let x=m;for(let y=0;y<g.length&&x!=null;++y)x=x[g[y]];return x},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const y=e.compareValues(m.criteria[x],g.criteria[x],a[x]);if(y!==0)return y}return 0}).map(m=>m.original)}t.orderBy=i})(gG);var xG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<s?o(c,l+1):i.push(c)}};return o(n,0),i}t.flatten=e})(xG);var RR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hG,n=TR,r=fG,i=dG;function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.isEqualsSameValueZero(l[a],o):!1}t.isIterateeCall=s})(RR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gG,n=xG,r=RR;function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(mG);var e0e=mG.sortBy;const _G=Zo(e0e);var SG=t=>t.legend.settings,t0e=t=>t.legend.size,n0e=t=>t.legend.payload;oe([n0e,SG],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_G(r,n):r});function Cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var r0e=typeof Symbol=="function"&&Symbol.observable||"@@observable",nU=r0e,GE=()=>Math.random().toString(36).substring(7).split("").join("."),i0e={INIT:`@@redux/INIT${GE()}`,REPLACE:`@@redux/REPLACE${GE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${GE()}`},G_=i0e;function IR(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function wG(t,e,n){if(typeof t!="function")throw new Error(Cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Cr(1));return n(wG)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((y,v)=>{o.set(v,y)}))}function c(){if(l)throw new Error(Cr(3));return i}function f(y){if(typeof y!="function")throw new Error(Cr(4));if(l)throw new Error(Cr(5));let v=!0;u();const S=a++;return o.set(S,y),function(){if(v){if(l)throw new Error(Cr(6));v=!1,u(),o.delete(S),s=null}}}function h(y){if(!IR(y))throw new Error(Cr(7));if(typeof y.type>"u")throw new Error(Cr(8));if(typeof y.type!="string")throw new Error(Cr(17));if(l)throw new Error(Cr(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(S=>{S()}),y}function m(y){if(typeof y!="function")throw new Error(Cr(10));r=y,h({type:G_.REPLACE})}function g(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Cr(11));function S(){const M=v;M.next&&M.next(c())}return S(),{unsubscribe:y(S)}},[nU](){return this}}}return h({type:G_.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:m,[nU]:g}}function s0e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:G_.INIT})>"u")throw new Error(Cr(12));if(typeof n(void 0,{type:G_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function bG(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{s0e(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],m=o[f],g=h(m,a);if(typeof g>"u")throw a&&a.type,new Error(Cr(14));u[f]=g,l=l||g!==m}return l=l||r.length!==Object.keys(o).length,l?u:o}}function $_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function o0e(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Cr(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=$_(...a)(i.dispatch),{...i,dispatch:s}}}function MG(t){return IR(t)&&"type"in t&&typeof t.type=="string"}var EG=Symbol.for("immer-nothing"),rU=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function Qs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zi=Object,qd=Zi.getPrototypeOf,X_="constructor",GS="prototype",hC="configurable",q_="enumerable",nx="writable",Jm="value",La=t=>!!t&&!!t[pi];function co(t){var e;return t?AG(t)||XS(t)||!!t[rU]||!!((e=t[X_])!=null&&e[rU])||qS(t)||YS(t):!1}var a0e=Zi[GS][X_].toString(),iU=new WeakMap;function AG(t){if(!t||!NR(t))return!1;const e=qd(t);if(e===null||e===Zi[GS])return!0;const n=Zi.hasOwnProperty.call(e,X_)&&e[X_];if(n===Object)return!0;if(!Gf(n))return!1;let r=iU.get(n);return r===void 0&&(r=Function.toString.call(n),iU.set(n,r)),r===a0e}function $S(t,e,n=!0){jg(t)===0?(n?Reflect.ownKeys(t):Zi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function jg(t){const e=t[pi];return e?e.type_:XS(t)?1:qS(t)?2:YS(t)?3:0}var sU=(t,e,n=jg(t))=>n===2?t.has(e):Zi[GS].hasOwnProperty.call(t,e),pC=(t,e,n=jg(t))=>n===2?t.get(e):t[e],Y_=(t,e,n,r=jg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function l0e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var XS=Array.isArray,qS=t=>t instanceof Map,YS=t=>t instanceof Set,NR=t=>typeof t=="object",Gf=t=>typeof t=="function",$E=t=>typeof t=="boolean";function u0e(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ma=t=>t.copy_||t.base_,OR=t=>t.modified_?t.copy_:t.base_;function mC(t,e){if(qS(t))return new Map(t);if(YS(t))return new Set(t);if(XS(t))return Array[GS].slice.call(t);const n=AG(t);if(e===!0||e==="class_only"&&!n){const r=Zi.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[nx]===!1&&(a[nx]=!0,a[hC]=!0),(a.get||a.set)&&(r[o]={[hC]:!0,[nx]:!0,[q_]:a[q_],[Jm]:t[o]})}return Zi.create(qd(t),r)}else{const r=qd(t);if(r!==null&&n)return{...t};const i=Zi.create(r);return Zi.assign(i,t)}}function LR(t,e=!1){return KS(t)||La(t)||!co(t)||(jg(t)>1&&Zi.defineProperties(t,{set:yy,add:yy,clear:yy,delete:yy}),Zi.freeze(t),e&&$S(t,(n,r)=>{LR(r,!0)},!1)),t}function c0e(){Qs(2)}var yy={[Jm]:c0e};function KS(t){return t===null||!NR(t)?!0:Zi.isFrozen(t)}var K_="MapSet",gC="Patches",oU="ArrayMethods",TG={};function kc(t){const e=TG[t];return e||Qs(0,t),e}var aU=t=>!!TG[t],Qm,CG=()=>Qm,f0e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aU(K_)?kc(K_):void 0,arrayMethodsPlugin_:aU(oU)?kc(oU):void 0});function lU(t,e){e&&(t.patchPlugin_=kc(gC),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vC(t){yC(t),t.drafts_.forEach(d0e),t.drafts_=null}function yC(t){t===Qm&&(Qm=t.parent_)}var uU=t=>Qm=f0e(Qm,t);function d0e(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[pi].modified_&&(vC(e),Qs(4)),co(t)&&(t=fU(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[pi].base_,t,e)}else t=fU(e,n);return h0e(e,t,!0),vC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==EG?t:void 0}function fU(t,e){if(KS(e))return e;const n=e[pi];if(!n)return Z_(e,t.handledSet_,t);if(!ZS(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);IG(n,t)}return n.copy_}function h0e(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LR(e,n)}function PG(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ZS=(t,e)=>t.scope_===e,p0e=[];function RG(t,e,n,r){const i=ma(t),s=t.type_;if(r!==void 0&&pC(i,r,s)===e){Y_(i,r,n,s);return}if(!t.draftLocations_){const a=t.draftLocations_=new Map;$S(i,(l,u)=>{if(La(u)){const c=a.get(u)||[];c.push(l),a.set(u,c)}})}const o=t.draftLocations_.get(e)??p0e;for(const a of o)Y_(i,a,n,s)}function m0e(t,e,n){t.callbacks_.push(function(i){var a;const s=e;if(!s||!ZS(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const o=OR(s);RG(t,s.draft_??s,o,n),IG(s,i)})}function IG(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}PG(t)}}function g0e(t,e,n){const{scope_:r}=t;if(La(n)){const i=n[pi];ZS(i,r)&&i.callbacks_.push(function(){rx(t);const o=OR(i);RG(t,n,o,e)})}else co(n)&&t.callbacks_.push(function(){const s=ma(t);t.type_===3?s.has(n)&&Z_(n,r.handledSet_,r):pC(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Z_(pC(t.copy_,e,t.type_),r.handledSet_,r)})}function Z_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||La(t)||e.has(t)||!co(t)||KS(t)||(e.add(t),$S(t,(r,i)=>{if(La(i)){const s=i[pi];if(ZS(s,n)){const o=OR(s);Y_(t,r,o,t.type_),PG(s)}}else co(i)&&Z_(i,e,n)})),t}function v0e(t,e){const n=XS(t),r={type_:n?1:0,scope_:e?e.scope_:CG(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=J_;n&&(i=[r],s=eg);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var J_={get(t,e){if(e===pi)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ma(t);if(!sU(i,e,t.type_))return y0e(t,i,e);const s=i[e];if(t.finalized_||!co(s)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&u0e(e))return s;if(s===XE(t.base_,e)){rx(t);const o=t.type_===1?+e:e,a=_C(t.scope_,s,t,o);return t.copy_[o]=a}return s},has(t,e){return e in ma(t)},ownKeys(t){return Reflect.ownKeys(ma(t))},set(t,e,n){const r=NG(ma(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=XE(ma(t),e),s=i==null?void 0:i[pi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(l0e(n,i)&&(n!==void 0||sU(t.base_,e,t.type_)))return!0;rx(t),xC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),g0e(t,e,n)),!0},deleteProperty(t,e){return rx(t),XE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),xC(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ma(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[nx]:!0,[hC]:t.type_!==1||e!=="length",[q_]:r[q_],[Jm]:n[e]}},defineProperty(){Qs(11)},getPrototypeOf(t){return qd(t.base_)},setPrototypeOf(){Qs(12)}},eg={};for(let t in J_){let e=J_[t];eg[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}eg.deleteProperty=function(t,e){return eg.set.call(this,t,e,void 0)};eg.set=function(t,e,n){return J_.set.call(this,t[0],e,n,t[0])};function XE(t,e){const n=t[pi];return(n?ma(n):t)[e]}function y0e(t,e,n){var i;const r=NG(e,n);return r?Jm in r?r[Jm]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function NG(t,e){if(!(e in t))return;let n=qd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qd(n)}}function xC(t){t.modified_||(t.modified_=!0,t.parent_&&xC(t.parent_))}function rx(t){t.copy_||(t.assigned_=new Map,t.copy_=mC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var x0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Gf(n)&&!Gf(r)){const o=r;r=n;const a=this;return function(u=o,...c){return a.produce(u,f=>r.call(this,f,...c))}}Gf(r)||Qs(6),i!==void 0&&!Gf(i)&&Qs(7);let s;if(co(n)){const o=uU(this),a=_C(o,n,void 0);let l=!0;try{s=r(a),l=!1}finally{l?vC(o):yC(o)}return lU(o,i),cU(s,o)}else if(!n||!NR(n)){if(s=r(n),s===void 0&&(s=n),s===EG&&(s=void 0),this.autoFreeze_&&LR(s,!0),i){const o=[],a=[];kc(gC).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:a}),i(o,a)}return s}else Qs(1,n)},this.produceWithPatches=(n,r)=>{if(Gf(n))return(a,...l)=>this.produceWithPatches(a,u=>n(u,...l));let i,s;return[this.produce(n,r,(a,l)=>{i=a,s=l}),i,s]},$E(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),$E(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),$E(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){co(e)||Qs(8),La(e)&&(e=ao(e));const n=uU(this),r=_C(n,e,void 0);return r[pi].isManual_=!0,yC(n),r}finishDraft(e,n){const r=e&&e[pi];(!r||!r.isManual_)&&Qs(9);const{scope_:i}=r;return lU(i,n),cU(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=kc(gC).applyPatches_;return La(e)?i(e,n):this.produce(e,s=>i(s,n))}};function _C(t,e,n,r){const[i,s]=qS(e)?kc(K_).proxyMap_(e,n):YS(e)?kc(K_).proxySet_(e,n):v0e(e,n);return((n==null?void 0:n.scope_)??CG()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?m0e(n,s,r):s.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function ao(t){return La(t)||Qs(10,t),OG(t)}function OG(t){if(!co(t)||KS(t))return t;const e=t[pi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=mC(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=mC(t,!0);return $S(n,(i,s)=>{Y_(n,i,OG(s))},r),e&&(e.finalized_=!1),n}var _0e=new x0e,LG=_0e.produce;function DG(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var S0e=DG(),w0e=DG,b0e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$_:$_.apply(null,arguments)};function Os(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ns(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>MG(r)&&r.type===t,n}var kG=class Lp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Lp.prototype)}static get[Symbol.species](){return Lp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Lp(...e[0].concat(this)):new Lp(...e.concat(this))}};function dU(t){return co(t)?LG(t,()=>{}):t}function xy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function M0e(t){return typeof t=="boolean"}var E0e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new kG;return n&&(M0e(n)?o.push(S0e):o.push(w0e(n.extraArgument))),o},FG="RTK_autoBatch",Mn=()=>t=>({payload:t,meta:{[FG]:!0}}),hU=t=>e=>{setTimeout(e,t)},UG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hU(10):t.type==="callback"?t.queueNotification:hU(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[FG]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},A0e=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kG(t);return r&&i.push(UG(typeof r=="object"?r:void 0)),i};function T0e(t){const e=E0e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(IR(n))a=bG(n);else throw new Error(ns(1));let l;typeof r=="function"?l=r(e):l=e();let u=$_;i&&(u=b0e({trace:!1,...typeof i=="object"&&i}));const c=o0e(...l),f=A0e(c);let h=typeof o=="function"?o(f):f();const m=u(...h);return wG(a,s,m)}function zG(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ns(28));if(a in e)throw new Error(ns(29));return e[a]=o,i},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function C0e(t){return typeof t=="function"}function P0e(t,e){let[n,r,i]=zG(e),s;if(C0e(t))s=()=>dU(t());else{const a=dU(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(La(c)){const m=f(c,l);return m===void 0?c:m}else{if(co(c))return LG(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return o.getInitialState=s,o}var R0e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I0e=(t=21)=>{let e="",n=t;for(;n--;)e+=R0e[Math.random()*64|0];return e},N0e=Symbol.for("rtk-slice-createasyncthunk");function O0e(t,e){return`${t}/${e}`}function L0e({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[N0e];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ns(11));const a=(typeof i.reducers=="function"?i.reducers(k0e()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(M,E){const T=typeof M=="string"?M:M.type;if(!T)throw new Error(ns(12));if(T in u.sliceCaseReducersByType)throw new Error(ns(13));return u.sliceCaseReducersByType[T]=E,c},addMatcher(M,E){return u.sliceMatchers.push({matcher:M,reducer:E}),c},exposeAction(M,E){return u.actionCreators[M]=E,c},exposeCaseReducer(M,E){return u.sliceCaseReducersByName[M]=E,c}};l.forEach(M=>{const E=a[M],T={reducerName:M,type:O0e(s,M),createNotation:typeof i.reducers=="function"};U0e(E)?B0e(T,E,c,e):F0e(T,E,c)});function f(){const[M={},E=[],T=void 0]=typeof i.extraReducers=="function"?zG(i.extraReducers):[i.extraReducers],I={...M,...u.sliceCaseReducersByType};return P0e(i.initialState,L=>{for(let P in I)L.addCase(P,I[P]);for(let P of u.sliceMatchers)L.addMatcher(P.matcher,P.reducer);for(let P of E)L.addMatcher(P.matcher,P.reducer);T&&L.addDefaultCase(T)})}const h=M=>M,m=new Map,g=new WeakMap;let x;function y(M,E){return x||(x=f()),x(M,E)}function v(){return x||(x=f()),x.getInitialState()}function S(M,E=!1){function T(L){let P=L[M];return typeof P>"u"&&E&&(P=xy(g,T,v)),P}function I(L=h){const P=xy(m,E,()=>new WeakMap);return xy(P,L,()=>{const R={};for(const[k,U]of Object.entries(i.selectors??{}))R[k]=D0e(U,L,()=>xy(g,L,v),E);return R})}return{reducerPath:M,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const w={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...S(o),injectInto(M,{reducerPath:E,...T}={}){const I=E??o;return M.inject({reducerPath:I,reducer:y},T),{...w,...S(I,!0)}}};return w}}function D0e(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var zi=L0e();function k0e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function F0e({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!z0e(r))throw new Error(ns(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Os(t,o):Os(t))}function U0e(t){return t._reducerDefinitionType==="asyncThunk"}function z0e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function B0e({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ns(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,f=i(t,s,c);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:o||_y,pending:a||_y,rejected:l||_y,settled:u||_y})}function _y(){}var V0e="task",BG="listener",VG="completed",DR="cancelled",j0e=`task-${DR}`,H0e=`task-${VG}`,SC=`${BG}-${DR}`,W0e=`${BG}-${VG}`,JS=class{constructor(t){Gb(this,"name","TaskAbortError");Gb(this,"message");this.code=t,this.message=`${V0e} ${DR} (reason: ${t})`}},kR=(t,e)=>{if(typeof t!="function")throw new TypeError(ns(32))},Q_=()=>{},jG=(t,e=Q_)=>(t.catch(e),t),HG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),gc=t=>{if(t.aborted)throw new JS(t.reason)};function WG(t,e){let n=Q_;return new Promise((r,i)=>{const s=()=>i(new JS(t.reason));if(t.aborted){s();return}n=HG(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Q_})}var G0e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof JS?"cancelled":"rejected",error:n}}finally{e==null||e()}},e1=t=>e=>jG(WG(t,e).then(n=>(gc(t),n))),GG=t=>{const e=e1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ed}=Object,pU={},QS="listenerMiddleware",$0e=(t,e)=>{const n=r=>HG(t,()=>r.abort(t.reason));return(r,i)=>{kR(r);const s=new AbortController;n(s);const o=G0e(async()=>{gc(t),gc(s.signal);const a=await r({pause:e1(s.signal),delay:GG(s.signal),signal:s.signal});return gc(s.signal),a},()=>s.abort(H0e));return i!=null&&i.autoJoin&&e.push(o.catch(Q_)),{result:e1(t)(o),cancel(){s.abort(j0e)}}}},X0e=(t,e)=>{const n=async(r,i)=>{gc(e);let s=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await WG(e,Promise.race(a));return gc(e),l}finally{s()}};return(r,i)=>jG(n(r,i))},$G=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Os(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ns(21));return kR(s),{predicate:i,type:e,effect:s}},XG=Ed(t=>{const{type:e,predicate:n,effect:r}=$G(t);return{id:I0e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ns(22))}}},{withTypes:()=>XG}),mU=(t,e)=>{const{type:n,effect:r,predicate:i}=$G(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},wC=t=>{t.pending.forEach(e=>{e.abort(SC)})},q0e=(t,e)=>()=>{for(const n of e.keys())wC(n);t.clear()},gU=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},qG=Ed(Os(`${QS}/add`),{withTypes:()=>qG}),Y0e=Os(`${QS}/removeAll`),YG=Ed(Os(`${QS}/remove`),{withTypes:()=>YG}),K0e=(...t)=>{console.error(`${QS}/error`,...t)},Hg=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},i=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:s,onError:o=K0e}=t;kR(o);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wC(m)}),l=m=>{const g=mU(e,m)??XG(m);return a(g)};Ed(l,{withTypes:()=>l});const u=m=>{const g=mU(e,m);return g&&(g.unsubscribe(),m.cancelActive&&wC(g)),!!g};Ed(u,{withTypes:()=>u});const c=async(m,g,x,y)=>{const v=new AbortController,S=X0e(l,v.signal),w=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(g,Ed({},x,{getOriginalState:y,condition:(M,E)=>S(M,E).then(Boolean),take:S,delay:GG(v.signal),pause:e1(v.signal),extra:s,signal:v.signal,fork:$0e(v.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((M,E,T)=>{M!==v&&(M.abort(SC),T.delete(M))})},cancel:()=>{v.abort(SC),m.pending.delete(v)},throwIfCancelled:()=>{gc(v.signal)}})))}catch(M){M instanceof JS||gU(o,M,{raisedBy:"effect"})}finally{await Promise.all(w),v.abort(W0e),i(m),m.pending.delete(v)}},f=q0e(e,n);return{middleware:m=>g=>x=>{if(!MG(x))return g(x);if(qG.match(x))return l(x.payload);if(Y0e.match(x)){f();return}if(YG.match(x))return u(x.payload);let y=m.getState();const v=()=>{if(y===pU)throw new Error(ns(23));return y};let S;try{if(S=g(x),e.size>0){const w=m.getState(),M=Array.from(e.values());for(const E of M){let T=!1;try{T=E.predicate(x,w,y)}catch(I){T=!1,gU(o,I,{raisedBy:"predicate"})}T&&c(E,x,m,v)}}}finally{y=pU}return S},startListening:l,stopListening:u,clearListeners:f}};function ns(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Z0e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KG=zi({name:"chartLayout",initialState:Z0e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:J0e,setLayout:Q0e,setChartSize:eve,setScale:tve}=KG.actions,nve=KG.reducer;function ZG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function on(t){return Number.isFinite(t)}function Xl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function vU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(n),!0).forEach(function(r){rve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rve(t,e,n){return(e=ive(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ive(t){var e=sve(t,"string");return typeof e=="symbol"?e:e+""}function sve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hn(t,e,n){return Ns(t)||Ns(e)?n:Km(e)?Ym(t,e,n):typeof e=="function"?e(t):n}var ove=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=e;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Jt(t[s]))return pd(pd({},t),{},{[s]:t[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Jt(t[o]))return pd(pd({},t),{},{[o]:t[o]+(i||0)})}return t},iu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",ave=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0,a=0;a<n;++a){var l=t[a],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=Oa(c)?f:c;h>=0?(u[0]=s,s+=h,u[1]=s):(u[0]=o,o+=h,u[1]=o)}}}},lve=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0;o<n;++o){var a=t[o],l=a==null?void 0:a[i];if(l!=null){var u=Oa(l[1])?l[0]:l[1];u>=0?(l[0]=s,s+=u,l[1]=s):(l[0]=0,l[1]=0)}}}},uve={sign:ave,expand:vge,none:Lc,silhouette:yge,wiggle:xge,positive:lve},cve=(t,e,n)=>{var r,i=(r=uve[n])!==null&&r!==void 0?r:Lc,s=gge().keys(e).value((a,l)=>Number(Hn(a,l,0))).order(fC).offset(i),o=s(t);return o.forEach((a,l)=>{a.forEach((u,c)=>{var f=Hn(t[c],e[l],0);Array.isArray(f)&&f.length===2&&Jt(f[0])&&Jt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o},fve=t=>{var e=t.flat(2).filter(Jt);return[Math.min(...e),Math.max(...e)]},dve=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],hve=(t,e,n)=>{if(t!=null)return dve(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:o}=s,a=o.reduce((l,u)=>{var c=ZG(u,e,n),f=fve(c);return!on(f[0])||!on(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},yU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;function _U(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return pd(pd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function JG(t,e){if(t)return String(t);if(typeof e=="string")return e}var pve=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},mve=(t,e)=>e==="centric"?t.angle:t.radius,Ha=t=>t.layout.width,Wa=t=>t.layout.height,gve=t=>t.layout.scale,QG=t=>t.layout.margin,ew=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),tw=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),e9="data-recharts-item-index",t9="data-recharts-item-id",Wg=60;function SU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return(e=yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=xve(t,"string");return typeof e=="symbol"?e:e+""}function xve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ve=t=>t.brush.height;function Sve(t){var e=tw(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wg;return n+i}return n},0)}function wve(t){var e=tw(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wg;return n+i}return n},0)}function bve(t){var e=ew(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Mve(t){var e=ew(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kr=oe([Ha,Wa,QG,_ve,Sve,wve,bve,Mve,SG,t0e],(t,e,n,r,i,s,o,a,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+a},h=Sy(Sy({},f),c),m=h.bottom;h.bottom+=r,h=ove(h,l,u);var g=t-h.left-h.right,x=e-h.top-h.bottom;return Sy(Sy({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(x,0)})}),Eve=oe(kr,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));oe(Ha,Wa,(t,e)=>({x:0,y:0,width:t,height:e}));var Ave=N.createContext(null),su=()=>N.useContext(Ave)!=null,nw=t=>t.brush,rw=oe([nw,kr,QG],(t,e,n)=>({height:t.height,x:Jt(t.x)?t.x:e.left,y:Jt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Jt(t.width)?t.width:e.width})),n9={},r9={},i9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let o,a=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),c=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},f=()=>{u&&c(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),o=void 0,a=null},y=()=>{c()},v=function(...S){if(i!=null&&i.aborted)return;o=this,a=S;const w=h==null;m(),l&&w&&c()};return v.schedule=m,v.cancel=x,v.flush=y,i==null||i.addEventListener("abort",x,{once:!0}),v}t.debounce=e})(i9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i9;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:l}=s,u=Array(2);o&&(u[0]="leading"),a&&(u[1]="trailing");let c,f=null;const h=e.debounce(function(...x){c=r.apply(this,x),f=null},i,{edges:u}),m=function(...x){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,x),c)},g=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=g,m}t.debounce=n})(r9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r9;function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:a})}t.throttle=n})(n9);var Tve=n9.throttle;const Cve=Zo(Tve);var wU=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Uo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},s9=(t,e,n)=>{var{width:r=Uo.width,height:i=Uo.height,aspect:s,maxHeight:o}=n,a=Dc(r)?t:Number(r),l=Dc(i)?e:Number(i);return s&&s>0&&(a?l=a/s:l&&(a=l*s),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:a,calculatedHeight:l}},Pve={width:0,height:0,overflow:"visible"},Rve={width:0,overflowX:"visible"},Ive={height:0,overflowY:"visible"},Nve={},Ove=t=>{var{width:e,height:n}=t,r=Dc(e),i=Dc(n);return r&&i?Pve:r?Rve:i?Ive:Nve};function Lve(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Uo.width,s=Uo.height):i===void 0?i=r&&r>0?void 0:Uo.width:s===void 0&&(s=r&&r>0?void 0:Uo.height),{width:i,height:s}}function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(null,arguments)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){Dve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dve(t,e,n){return(e=kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Fve(t,"string");return typeof e=="symbol"?e:e+""}function Fve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o9=N.createContext(Uo.initialDimension);function Uve(t){return Xl(t.width)&&Xl(t.height)}function a9(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return Uve(i)?N.createElement(o9.Provider,{value:i},e):null}var FR=()=>N.useContext(o9),zve=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Uo.initialDimension,width:i,height:s,minWidth:o=Uo.minWidth,minHeight:a,maxHeight:l,children:u,debounce:c=Uo.debounce,id:f,className:h,onResize:m,style:g={}}=t,x=N.useRef(null),y=N.useRef();y.current=m,N.useImperativeHandle(e,()=>x.current);var[v,S]=N.useState({containerWidth:r.width,containerHeight:r.height}),w=N.useCallback((L,P)=>{S(R=>{var k=Math.round(L),U=Math.round(P);return R.containerWidth===k&&R.containerHeight===U?R:{containerWidth:k,containerHeight:U}})},[]);N.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Vg;var L=U=>{var V,X=U[0];if(X!=null){var{width:Y,height:K}=X.contentRect;w(Y,K),(V=y.current)===null||V===void 0||V.call(y,Y,K)}};c>0&&(L=Cve(L,c,{trailing:!0,leading:!1}));var P=new ResizeObserver(L),{width:R,height:k}=x.current.getBoundingClientRect();return w(R,k),P.observe(x.current),()=>{P.disconnect()}},[w,c]);var{containerWidth:M,containerHeight:E}=v;wU(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:I}=s9(M,E,{width:i,height:s,aspect:n,maxHeight:l});return wU(T!=null&&T>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,I,i,s,o,a,n),N.createElement("div",{id:f?"".concat(f):void 0,className:xi("recharts-responsive-container",h),style:MU(MU({},g),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:x},N.createElement("div",{style:Ove({width:i,height:s})},N.createElement(a9,{width:T,height:I},u)))}),Bve=N.forwardRef((t,e)=>{var n=FR();if(Xl(n.width)&&Xl(n.height))return t.children;var{width:r,height:i}=Lve({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:o}=s9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Jt(s)&&Jt(o)?N.createElement(a9,{width:s,height:o},t.children):N.createElement(zve,bC({},t,{width:r,height:i,ref:e}))});function UR(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var l9=()=>{var t,e=su(),n=mn(Eve),r=mn(rw),i=(t=mn(nw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vve=()=>mn(Ha),jve=()=>mn(Wa),Tn=t=>t.layout.layoutType,zR=()=>mn(Tn),u9=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Hve=()=>{var t=zR();return t!==void 0},Gg=t=>{var e=br(),n=su(),{width:r,height:i}=t,s=FR(),o=r,a=i;return s&&(o=s.width>0?s.width:r,a=s.height>0?s.height:i),N.useEffect(()=>{!n&&Xl(o)&&Xl(a)&&e(eve({width:o,height:a}))},[e,n,o,a]),null},c9=Symbol.for("immer-nothing"),EU=Symbol.for("immer-draftable"),ss=Symbol.for("immer-state");function eo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var tg=Object.getPrototypeOf;function Yd(t){return!!t&&!!t[ss]}function Fc(t){var e;return t?f9(t)||Array.isArray(t)||!!t[EU]||!!((e=t.constructor)!=null&&e[EU])||$g(t)||sw(t):!1}var Wve=Object.prototype.constructor.toString(),AU=new WeakMap;function f9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=AU.get(n);return r===void 0&&(r=Function.toString.call(n),AU.set(n,r)),r===Wve}function t1(t,e,n=!0){iw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function iw(t){const e=t[ss];return e?e.type_:Array.isArray(t)?1:$g(t)?2:sw(t)?3:0}function MC(t,e){return iw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d9(t,e,n){const r=iw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Gve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $g(t){return t instanceof Map}function sw(t){return t instanceof Set}function Gu(t){return t.copy_||t.base_}function EC(t,e){if($g(t))return new Map(t);if(sw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=f9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ss];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(tg(t),r)}else{const r=tg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function BR(t,e=!1){return ow(t)||Yd(t)||!Fc(t)||(iw(t)>1&&Object.defineProperties(t,{set:wy,add:wy,clear:wy,delete:wy}),Object.freeze(t),e&&Object.values(t).forEach(n=>BR(n,!0))),t}function $ve(){eo(2)}var wy={value:$ve};function ow(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Xve={};function Uc(t){const e=Xve[t];return e||eo(0,t),e}var ng;function h9(){return ng}function qve(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TU(t,e){e&&(Uc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AC(t){TC(t),t.drafts_.forEach(Yve),t.drafts_=null}function TC(t){t===ng&&(ng=t.parent_)}function CU(t){return ng=qve(ng,t)}function Yve(t){const e=t[ss];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ss].modified_&&(AC(e),eo(4)),Fc(t)&&(t=n1(e,t),e.parent_||r1(e,t)),e.patches_&&Uc("Patches").generateReplacementPatches_(n[ss].base_,t,e.patches_,e.inversePatches_)):t=n1(e,n,[]),AC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==c9?t:void 0}function n1(t,e,n){if(ow(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ss];if(!i)return t1(e,(s,o)=>RU(t,i,e,s,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return r1(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),t1(o,(l,u)=>RU(t,i,s,l,u,n,a),r),r1(t,s,!1),n&&t.patches_&&Uc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function RU(t,e,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const a=ow(i);if(!(a&&!o)){if(Yd(i)){const l=s&&e&&e.type_!==3&&!MC(e.assigned_,r)?s.concat(r):void 0,u=n1(t,i,l);if(d9(n,r,u),Yd(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Fc(i)&&!a){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&a)return;n1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&($g(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&r1(t,i)}}}function r1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BR(e,n)}function Kve(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:h9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=VR;n&&(i=[r],s=rg);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var VR={get(t,e){if(e===ss)return t;const n=Gu(t);if(!MC(n,e))return Zve(t,n,e);const r=n[e];return t.finalized_||!Fc(r)?r:r===qE(t.base_,e)?(YE(t),t.copy_[e]=PC(r,t)):r},has(t,e){return e in Gu(t)},ownKeys(t){return Reflect.ownKeys(Gu(t))},set(t,e,n){const r=p9(Gu(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qE(Gu(t),e),s=i==null?void 0:i[ss];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Gve(n,i)&&(n!==void 0||MC(t.base_,e)))return!0;YE(t),CC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return qE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,YE(t),CC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Gu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){eo(11)},getPrototypeOf(t){return tg(t.base_)},setPrototypeOf(){eo(12)}},rg={};t1(VR,(t,e)=>{rg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rg.deleteProperty=function(t,e){return rg.set.call(this,t,e,void 0)};rg.set=function(t,e,n){return VR.set.call(this,t[0],e,n,t[0])};function qE(t,e){const n=t[ss];return(n?Gu(n):t)[e]}function Zve(t,e,n){var i;const r=p9(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function p9(t,e){if(!(e in t))return;let n=tg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=tg(n)}}function CC(t){t.modified_||(t.modified_=!0,t.parent_&&CC(t.parent_))}function YE(t){t.copy_||(t.copy_=EC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Jve=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&eo(6),r!==void 0&&typeof r!="function"&&eo(7);let i;if(Fc(e)){const s=CU(this),o=PC(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?AC(s):TC(s)}return TU(s,r),PU(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===c9&&(i=void 0),this.autoFreeze_&&BR(i,!0),r){const s=[],o=[];Uc("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else eo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fc(t)||eo(8),Yd(t)&&(t=Qve(t));const e=CU(this),n=PC(t,void 0);return n[ss].isManual_=!0,TC(e),n}finishDraft(t,e){const n=t&&t[ss];(!n||!n.isManual_)&&eo(9);const{scope_:r}=n;return TU(r,e),PU(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Uc("Patches").applyPatches_;return Yd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function PC(t,e){const n=$g(t)?Uc("MapSet").proxyMap_(t,e):sw(t)?Uc("MapSet").proxySet_(t,e):Kve(t,e);return(e?e.scope_:h9()).drafts_.push(n),n}function Qve(t){return Yd(t)||eo(10,t),m9(t)}function m9(t){if(!Fc(t)||ow(t))return t;const e=t[ss];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=EC(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=EC(t,!0);return t1(n,(i,s)=>{d9(n,i,m9(s))},r),e&&(e.finalized_=!1),n}var eye=new Jve;eye.produce;var tye={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},g9=zi({name:"legend",initialState:tye,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Mn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Mn()},removeLegendPayload:{reducer(t,e){var n=ao(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Mn()}}}),{setLegendSize:jCe,setLegendSettings:HCe,addLegendPayload:nye,replaceLegendPayload:rye,removeLegendPayload:iye}=g9.actions,sye=g9.reducer,oye=()=>{var t;return(t=mn(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(null,arguments)}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(r){aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e,n){return(e=lye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU={curveBasisClosed:sge,curveBasisOpen:oge,curveBasis:ige,curveBumpX:Wme,curveBumpY:Gme,curveLinearClosed:age,curveLinear:HS,curveMonotoneX:lge,curveMonotoneY:uge,curveNatural:cge,curveStep:fge,curveStepAfter:hge,curveStepBefore:dge},i1=t=>on(t.x)&&on(t.y),LU=t=>t.base!=null&&i1(t.base)&&i1(t),xp=t=>t.x,_p=t=>t.y,cye=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Bg(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=OU["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return OU[n]||HS},DU={connectNulls:!1,type:"linear"},fye=t=>{var{type:e=DU.type,points:n=[],baseLine:r,layout:i,connectNulls:s=DU.connectNulls}=t,o=cye(e,i),a=s?n.filter(i1):n;if(Array.isArray(r)){var l,u=n.map((g,x)=>NU(NU({},g),{},{base:r[x]}));i==="vertical"?l=gy().y(_p).x1(xp).x0(g=>g.base.x):l=gy().x(xp).y1(_p).y0(g=>g.base.y);var c=l.defined(LU).curve(o),f=s?u.filter(LU):u;return c(f)}var h;i==="vertical"&&Jt(r)?h=gy().y(_p).x1(xp).x0(r):Jt(r)?h=gy().x(xp).y1(_p).y0(r):h=$W().x(xp).y(_p);var m=h.defined(i1).curve(o);return m(a)},v9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=zR();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},a=n&&n.length?fye(o):r;return N.createElement("path",RC({},Xd(t),Lge(t),{className:xi("recharts-curve",e),d:a===null?void 0:a,ref:i}))};function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e,n){return(e=hye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hye(t){var e=pye(t,"string");return typeof e=="symbol"?e:e+""}function pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mye=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),y9=(t,e,n)=>t.map(r=>"".concat(mye(r)," ").concat(e,"ms ").concat(n)).join(","),gye=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ig=(t,e)=>Object.keys(e).reduce((n,r)=>FU(FU({},n),{},{[r]:t(r,e[r])}),{});function UU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(n),!0).forEach(function(r){vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vye(t,e,n){return(e=yye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yye(t){var e=xye(t,"string");return typeof e=="symbol"?e:e+""}function xye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s1=(t,e,n)=>t+(e-t)*n,IC=t=>{var{from:e,to:n}=t;return e!==n},x9=(t,e,n)=>{var r=ig((i,s)=>{if(IC(s)){var[o,a]=t(s.from,s.to,s.velocity);return ur(ur({},s),{},{from:o,velocity:a})}return s},e);return n<1?ig((i,s)=>IC(s)&&r[i]!=null?ur(ur({},s),{},{velocity:s1(s.velocity,r[i].velocity,n),from:s1(s.from,r[i].from,n)}):s,e):x9(t,r,n-1)};function _ye(t,e,n,r,i,s){var o,a=r.reduce((h,m)=>ur(ur({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>ig((h,m)=>m.from,a),u=()=>!Object.values(a).filter(IC).length,c=null,f=h=>{o||(o=h);var m=h-o,g=m/n.dt;a=x9(n,a,g),i(ur(ur(ur({},t),e),l())),o=h,u()||(c=s.setTimeout(f))};return()=>(c=s.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function Sye(t,e,n,r,i,s,o){var a=null,l=i.reduce((f,h)=>{var m=t[h],g=e[h];return m==null||g==null?f:ur(ur({},f),{},{[h]:[m,g]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/r,m=ig((x,y)=>s1(...y,n(h)),l);if(s(ur(ur(ur({},t),e),m)),h<1)a=o.setTimeout(c);else{var g=ig((x,y)=>s1(...y,n(1)),l);s(ur(ur(ur({},t),e),g))}};return()=>(a=o.setTimeout(c),()=>{var f;(f=a)===null||f===void 0||f()})}const wye=(t,e,n,r,i,s)=>{var o=gye(t,e);return n==null?()=>(i(ur(ur({},t),e)),()=>{}):n.isStepper===!0?_ye(t,e,n,o,i,s):Sye(t,e,n,r,o,i,s)};var o1=1e-4,_9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],S9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),zU=(t,e)=>n=>{var r=_9(t,e);return S9(r,n)},bye=(t,e)=>n=>{var r=_9(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return S9(i,n)},Mye=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Eye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Mye(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Aye=(t,e,n,r)=>{var i=zU(t,n),s=zU(e,r),o=bye(t,n),a=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var m=i(f)-c,g=o(f);if(Math.abs(m-c)<o1||g<o1)return s(f);f=a(f-m/g)}return s(f)};return l.isStepper=!1,l},BU=function(){return Aye(...Eye(...arguments))},Tye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,a,l)=>{var u=-(o-a)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+o;return Math.abs(h-a)<o1&&Math.abs(f)<o1?[a,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},Cye=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BU(t);case"spring":return Tye();default:if(t.split("(")[0]==="cubic-bezier")return BU(t)}return typeof t=="function"?t:null};function Pye(t){var e,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Rye{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Iye(){return Pye(new Rye)}var Nye=N.createContext(Iye);function Oye(t,e){var n=N.useContext(Nye);return N.useMemo(()=>e??n(t),[t,e,n])}var Lye=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jR={isSsr:Lye()},Dye={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VU={t:0},KE={t:1};function HR(t){var e=ja(t,Dye),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l,children:u}=e,c=n==="auto"?!jR.isSsr:n,f=Oye(e.animationId,e.animationManager),[h,m]=N.useState(c?VU:KE),g=N.useRef(null);return N.useEffect(()=>{c||m(KE)},[c]),N.useEffect(()=>{if(!c||!r)return Vg;var x=wye(VU,KE,Cye(s),i,m,f.getTimeoutController()),y=()=>{g.current=x()};return f.start([l,o,y,i,a]),()=>{f.stop(),g.current&&g.current(),a()}},[c,r,i,s,o,l,a,f]),u(h.t)}function WR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Zm(e)),r=N.useRef(t);return r.current!==t&&(n.current=Zm(e),r.current=t),n.current}var kye=["radius"],Fye=["radius"],jU,HU,WU,GU,$U,XU,qU,YU,KU,ZU;function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(r){Uye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uye(t,e,n){return(e=zye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zye(t){var e=Bye(t,"string");return typeof e=="symbol"?e:e+""}function Bye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function ez(t,e){if(t==null)return{};var n,r,i=Vye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function To(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tz=(t,e,n,r,i)=>{var s=Tl(n),o=Tl(r),a=Math.min(Math.abs(s)/2,Math.abs(o)/2),l=o>=0?1:-1,u=s>=0?1:-1,c=o>=0&&s>=0||o<0&&s<0?1:0,f;if(a>0&&Array.isArray(i)){for(var h=[0,0,0,0],m=0,g=4;m<g;m++){var x,y=(x=i[m])!==null&&x!==void 0?x:0;h[m]=y>a?a:y}f=Bn(jU||(jU=To(["M",",",""])),t,e+l*h[0]),h[0]>0&&(f+=Bn(HU||(HU=To(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,t+u*h[0],e)),f+=Bn(WU||(WU=To(["L ",",",""])),t+n-u*h[1],e),h[1]>0&&(f+=Bn(GU||(GU=To(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,t+n,e+l*h[1])),f+=Bn($U||($U=To(["L ",",",""])),t+n,e+r-l*h[2]),h[2]>0&&(f+=Bn(XU||(XU=To(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,t+n-u*h[2],e+r)),f+=Bn(qU||(qU=To(["L ",",",""])),t+u*h[3],e+r),h[3]>0&&(f+=Bn(YU||(YU=To(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,t,e+r-l*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f=Bn(KU||(KU=To(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*v,v,v,c,t+u*v,e,t+n-u*v,e,v,v,c,t+n,e+l*v,t+n,e+r-l*v,v,v,c,t+n-u*v,e+r,t+u*v,e+r,v,v,c,t,e+r-l*v)}else f=Bn(ZU||(ZU=To(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},nz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jye=t=>{var e=ja(t,nz),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:s,y:o,width:a,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=e,y=N.useRef(a),v=N.useRef(l),S=N.useRef(s),w=N.useRef(o),M=N.useMemo(()=>({x:s,y:o,width:a,height:l,radius:u}),[s,o,a,l,u]),E=WR(M,"rectangle-");if(s!==+s||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var T=xi("recharts-rectangle",c);if(!x){var I=uo(e),{radius:L}=I,P=ez(I,kye);return N.createElement("path",a1({},P,{x:Tl(s),y:Tl(o),width:Tl(a),height:Tl(l),radius:typeof u=="number"?u:void 0,className:T,d:tz(s,o,a,l,u)}))}var R=y.current,k=v.current,U=S.current,V=w.current,X="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),K=y9(["strokeDasharray"],h,typeof f=="string"?f:nz.animationEasing);return N.createElement(HR,{animationId:E,key:E,canBegin:r>0,duration:h,easing:f,isActive:x,begin:m},q=>{var F=Js(R,a,q),$=Js(k,l,q),G=Js(U,s,q),Z=Js(V,o,q);n.current&&(y.current=F,v.current=$,S.current=G,w.current=Z);var fe;g?q>0?fe={transition:K,strokeDasharray:Y}:fe={strokeDasharray:X}:fe={strokeDasharray:Y};var Ee=uo(e),{radius:Ge}=Ee,ct=ez(Ee,Fye);return N.createElement("path",a1({},ct,{radius:typeof u=="number"?u:void 0,className:T,d:tz(G,Z,F,$,u),ref:n,style:QU(QU({},fe),e.style)}))})};function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){Hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hye(t,e,n){return(e=Wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wye(t){var e=Gye(t,"string");return typeof e=="symbol"?e:e+""}function Gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l1=Math.PI/180,$ye=t=>t*180/Math.PI,Zr=(t,e,n,r)=>({x:t+Math.cos(-l1*r)*n,y:e+Math.sin(-l1*r)*n}),w9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Xye=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},qye=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=Xye({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:$ye(l),angleInRadian:l}},Yye=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Kye=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},Zye=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=qye({x:n,y:r},e),{innerRadius:o,outerRadius:a}=e;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:u}=Yye(e),c=s,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?iz(iz({},e),{},{radius:i,angle:Kye(c,e)}):null},sz,oz,az,lz,uz,cz,fz;function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(null,arguments)}function ic(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Jye=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},by=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:l}=t,u=a*(o?1:-1)+r,c=Math.asin(a/u)/l1,f=l?i:i+s*c,h=Zr(e,n,u,f),m=Zr(e,n,r,f),g=l?i-s*c:i,x=Zr(e,n,u*Math.cos(c*l1),g);return{center:h,circleTangency:m,lineTangency:x,theta:c}},b9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,a=Jye(s,o),l=s+a,u=Zr(e,n,i,s),c=Zr(e,n,i,l),f=Bn(sz||(sz=ic(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(a)>180),+(s>l),c.x,c.y);if(r>0){var h=Zr(e,n,r,s),m=Zr(e,n,r,l);f+=Bn(oz||(oz=ic(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(a)>180),+(s<=l),h.x,h.y)}else f+=Bn(az||(az=ic(["L ",","," Z"])),e,n);return f},Qye=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Ri(u-l),{circleTangency:f,lineTangency:h,theta:m}=by({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:s,cornerIsExternal:a}),{circleTangency:g,lineTangency:x,theta:y}=by({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:s,cornerIsExternal:a}),v=a?Math.abs(l-u):Math.abs(l-u)-m-y;if(v<0)return o?Bn(lz||(lz=ic(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):b9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var S=Bn(uz||(uz=ic(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(c<0),f.x,f.y,i,i,+(v>180),+(c<0),g.x,g.y,s,s,+(c<0),x.x,x.y);if(r>0){var{circleTangency:w,lineTangency:M,theta:E}=by({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:T,lineTangency:I,theta:L}=by({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),P=a?Math.abs(l-u):Math.abs(l-u)-E-L;if(P<0&&s===0)return"".concat(S,"L").concat(e,",").concat(n,"Z");S+=Bn(cz||(cz=ic(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,s,s,+(c<0),T.x,T.y,r,r,+(P>180),+(c>0),w.x,w.y,s,s,+(c<0),M.x,M.y)}else S+=Bn(fz||(fz=ic(["L",",","Z"])),e,n);return S},exe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},txe=t=>{var e=ja(t,exe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(s<i||u===c)return null;var h=xi("recharts-sector",f),m=s-i,g=ts(o,m,0,!0),x;return g>0&&Math.abs(u-c)<360?x=Qye({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):x=b9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:c}),N.createElement("path",NC({},uo(e),{className:h,d:x}))},M9={},E9={},A9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PR;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(A9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A9;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(E9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RR,n=E9;function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=o;return l}t.range=r})(M9);var nxe=M9.range;const T9=Zo(nxe);function Fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GR(t){let e,n,r;t.length!==2?(e=Fl,n=(a,l)=>Fl(t(a),l),r=(a,l)=>t(a)-l):(e=t===Fl||t===rxe?t:ixe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function ixe(){return 0}function C9(t){return t===null?NaN:+t}function*sxe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oxe=GR(Fl),Xg=oxe.right;GR(C9).center;class dz extends Map{constructor(e,n=uxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(hz(this,e))}has(e){return super.has(hz(this,e))}set(e,n){return super.set(axe(this,e),n)}delete(e){return super.delete(lxe(this,e))}}function hz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function axe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cxe(t=Fl){if(t===Fl)return P9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function P9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fxe=Math.sqrt(50),dxe=Math.sqrt(10),hxe=Math.sqrt(2);function u1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=fxe?10:s>=dxe?5:s>=hxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?u1(t,e,n*2):[a,l,u]}function OC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?u1(e,t,n):u1(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function LC(t,e,n){return e=+e,t=+t,n=+n,u1(t,e,n)[2]}function DC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?LC(e,t,n):LC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function R9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?P9:cxe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));R9(t,e,m,g,i)}const s=t[e];let o=n,a=r;for(Sp(t,n,e),i(t[r],s)>0&&Sp(t,n,r);o<a;){for(Sp(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Sp(t,n,a):(++a,Sp(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Sp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pxe(t,e,n){if(t=Float64Array.from(sxe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return mz(t);if(e>=1)return pz(t);var r,i=(r-1)*e,s=Math.floor(i),o=pz(R9(t,s).subarray(0,s+1)),a=mz(t.subarray(s+1));return o+(a-o)*(i-s)}}function mxe(t,e,n=C9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function gxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ks(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ga(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kC=Symbol("implicit");function $R(){var t=new dz,e=[],n=[],r=kC;function i(s){let o=t.get(s);if(o===void 0){if(r!==kC)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new dz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $R(e,n).unknown(r)},ks.apply(i,arguments),i}function XR(){var t=$R().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,m=i<r,g=m?i:r,x=m?r:i;s=(x-g)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),g+=(x-g-s*(h-l))*c,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var y=gxe(h).map(function(v){return g+s*v});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return XR(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},ks.apply(f(),arguments)}function I9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return I9(e())},t}function vxe(){return I9(XR.apply(null,arguments).paddingInner(1))}function qR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function N9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qg(){}var sg=.7,c1=1/sg,Ad="\\s*([+-]?\\d+)\\s*",og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yxe=/^#([0-9a-f]{3,8})$/,xxe=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),_xe=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),Sxe=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${og}\\)$`),wxe=new RegExp(`^rgba\\(${Go},${Go},${Go},${og}\\)$`),bxe=new RegExp(`^hsl\\(${og},${Go},${Go}\\)$`),Mxe=new RegExp(`^hsla\\(${og},${Go},${Go},${og}\\)$`),gz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qR(qg,ag,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vz,formatHex:vz,formatHex8:Exe,formatHsl:Axe,formatRgb:yz,toString:yz});function vz(){return this.rgb().formatHex()}function Exe(){return this.rgb().formatHex8()}function Axe(){return O9(this).formatHsl()}function yz(){return this.rgb().formatRgb()}function ag(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xz(e):n===3?new Ii(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?My(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?My(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xxe.exec(t))?new Ii(e[1],e[2],e[3],1):(e=_xe.exec(t))?new Ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sxe.exec(t))?My(e[1],e[2],e[3],e[4]):(e=wxe.exec(t))?My(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bxe.exec(t))?wz(e[1],e[2]/100,e[3]/100,1):(e=Mxe.exec(t))?wz(e[1],e[2]/100,e[3]/100,e[4]):gz.hasOwnProperty(t)?xz(gz[t]):t==="transparent"?new Ii(NaN,NaN,NaN,0):null}function xz(t){return new Ii(t>>16&255,t>>8&255,t&255,1)}function My(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ii(t,e,n,r)}function Txe(t){return t instanceof qg||(t=ag(t)),t?(t=t.rgb(),new Ii(t.r,t.g,t.b,t.opacity)):new Ii}function FC(t,e,n,r){return arguments.length===1?Txe(t):new Ii(t,e,n,r??1)}function Ii(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qR(Ii,FC,N9(qg,{brighter(t){return t=t==null?c1:Math.pow(c1,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sg:Math.pow(sg,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ii(vc(this.r),vc(this.g),vc(this.b),f1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_z,formatHex:_z,formatHex8:Cxe,formatRgb:Sz,toString:Sz}));function _z(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}`}function Cxe(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}${sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sz(){const t=f1(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function f1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sc(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function wz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new to(t,e,n,r)}function O9(t){if(t instanceof to)return new to(t.h,t.s,t.l,t.opacity);if(t instanceof qg||(t=ag(t)),!t)return new to;if(t instanceof to)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new to(o,a,l,t.opacity)}function Pxe(t,e,n,r){return arguments.length===1?O9(t):new to(t,e,n,r??1)}function to(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qR(to,Pxe,N9(qg,{brighter(t){return t=t==null?c1:Math.pow(c1,t),new to(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sg:Math.pow(sg,t),new to(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ii(ZE(t>=240?t-240:t+120,i,r),ZE(t,i,r),ZE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new to(bz(this.h),Ey(this.s),Ey(this.l),f1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=f1(this.opacity);return`${t===1?"hsl(":"hsla("}${bz(this.h)}, ${Ey(this.s)*100}%, ${Ey(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bz(t){return t=(t||0)%360,t<0?t+360:t}function Ey(t){return Math.max(0,Math.min(1,t||0))}function ZE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YR=t=>()=>t;function Rxe(t,e){return function(n){return t+n*e}}function Ixe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nxe(t){return(t=+t)==1?L9:function(e,n){return n-e?Ixe(e,n,t):YR(isNaN(e)?n:e)}}function L9(t,e){var n=e-t;return n?Rxe(t,n):YR(isNaN(t)?e:t)}const Mz=function t(e){var n=Nxe(e);function r(i,s){var o=n((i=FC(i)).r,(s=FC(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=L9(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Oxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Lxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=mh(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function kxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function d1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=mh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var UC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JE=new RegExp(UC.source,"g");function Uxe(t){return function(){return t}}function zxe(t){return function(e){return t(e)+""}}function Bxe(t,e){var n=UC.lastIndex=JE.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=UC.exec(t))&&(i=JE.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:d1(r,i)})),n=JE.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?zxe(l[0].x):Uxe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function mh(t,e){var n=typeof e,r;return e==null||n==="boolean"?YR(e):(n==="number"?d1:n==="string"?(r=ag(e))?(e=r,Mz):Bxe:e instanceof ag?Mz:e instanceof Date?kxe:Lxe(e)?Oxe:Array.isArray(e)?Dxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fxe:d1)(t,e)}function KR(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vxe(t,e){e===void 0&&(e=t,t=mh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function jxe(t){return function(){return t}}function h1(t){return+t}var Ez=[0,1];function fi(t){return t}function zC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jxe(isNaN(e)?NaN:.5)}function Hxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wxe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=zC(i,r),s=n(o,s)):(r=zC(r,i),s=n(s,o)),function(a){return s(r(a))}}function Gxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=zC(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Xg(t,a,1,r)-1;return s[l](i[l](a))}}function Yg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function aw(){var t=Ez,e=Ez,n=mh,r,i,s,o=fi,a,l,u;function c(){var h=Math.min(t.length,e.length);return o!==fi&&(o=Hxe(t[0],t[h-1])),a=h>2?Gxe:Wxe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),d1)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,h1),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=KR,c()},f.clamp=function(h){return arguments.length?(o=h?!0:fi,c()):o!==fi},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,i=m,c()}}function ZR(){return aw()(fi,fi)}function $xe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function p1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kd(t){return t=p1(Math.abs(t)),t?t[1]:NaN}function Xxe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function qxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Yxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lg(t){if(!(e=Yxe.exec(t)))throw new Error("invalid format: "+t);var e;return new JR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lg.prototype=JR.prototype;function JR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var m1;function Zxe(t,e){var n=p1(t,e);if(!n)return m1=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(m1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+p1(t,Math.max(0,e+s-1))[0]}function Az(t,e){var n=p1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$xe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Az(t*100,e),r:Az,s:Zxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cz(t){return t}var Pz=Array.prototype.map,Rz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jxe(t){var e=t.grouping===void 0||t.thousands===void 0?Cz:Xxe(Pz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Cz:qxe(Pz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=lg(f);var m=f.fill,g=f.align,x=f.sign,y=f.symbol,v=f.zero,S=f.width,w=f.comma,M=f.precision,E=f.trim,T=f.type;T==="n"?(w=!0,T="g"):Tz[T]||(M===void 0&&(M=12),E=!0,T="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var I=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),L=(y==="$"?r:/[%p]/.test(T)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),P=Tz[T],R=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function k(U){var V=I,X=L,Y,K,q;if(T==="c")X=P(U)+X,U="";else{U=+U;var F=U<0||1/U<0;if(U=isNaN(U)?l:P(Math.abs(U),M),E&&(U=Kxe(U)),F&&+U==0&&x!=="+"&&(F=!1),V=(F?x==="("?x:a:x==="-"||x==="("?"":x)+V,X=(T==="s"&&!isNaN(U)&&m1!==void 0?Rz[8+m1/3]:"")+X+(F&&x==="("?")":""),R){for(Y=-1,K=U.length;++Y<K;)if(q=U.charCodeAt(Y),48>q||q>57){X=(q===46?i+U.slice(Y+1):U.slice(Y))+X,U=U.slice(0,Y);break}}}w&&!v&&(U=e(U,1/0));var $=V.length+U.length+X.length,G=$<S?new Array(S-$+1).join(m):"";switch(w&&v&&(U=e(G+U,G.length?S-X.length:1/0),G=""),g){case"<":U=V+U+X+G;break;case"=":U=V+G+U+X;break;case"^":U=G.slice(0,$=G.length>>1)+V+U+X+G.slice($);break;default:U=G+V+U+X;break}return s(U)}return k.toString=function(){return f+""},k}function c(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Kd(h)/3)))*3,g=Math.pow(10,-m),x=u((f=lg(f),f.type="f",f),{suffix:Rz[8+m/3]});return function(y){return x(g*y)}}return{format:u,formatPrefix:c}}var Ay,QR,D9;Qxe({thousands:",",grouping:[3],currency:["$",""]});function Qxe(t){return Ay=Jxe(t),QR=Ay.format,D9=Ay.formatPrefix,Ay}function e_e(t){return Math.max(0,-Kd(Math.abs(t)))}function t_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(e)/3)))*3-Kd(Math.abs(t)))}function n_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kd(e)-Kd(t))+1}function k9(t,e,n,r){var i=DC(t,e,n),s;switch(r=lg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=t_e(i,o))&&(r.precision=s),D9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=n_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=e_e(i))&&(r.precision=s-(r.type==="%")*2);break}}return QR(r)}function ou(t){var e=t.domain;return t.ticks=function(n){var r=e();return OC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=LC(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function F9(){var t=ZR();return t.copy=function(){return Yg(t,F9())},ks.apply(t,arguments),ou(t)}function U9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,h1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return U9(t).unknown(e)},t=arguments.length?Array.from(t,h1):[0,1],ou(n)}function z9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Iz(t){return Math.log(t)}function Nz(t){return Math.exp(t)}function r_e(t){return-Math.log(-t)}function i_e(t){return-Math.exp(-t)}function s_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o_e(t){return t===10?s_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function a_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Oz(t){return(e,n)=>-t(-e,n)}function eI(t){const e=t(Iz,Nz),n=e.domain;let r=10,i,s;function o(){return i=a_e(r),s=o_e(r),n()[0]<0?(i=Oz(i),s=Oz(s),t(r_e,i_e)):t(Iz,Nz),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),g,x;const y=a==null?10:+a;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>c)break;v.push(x)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>c)break;v.push(x)}v.length*2<y&&(v=OC(u,c,y))}else v=OC(h,m,Math.min(m-h,y)).map(s);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lg(l)).precision==null&&(l.trim=!0),l=QR(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(z9(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function B9(){const t=eI(aw()).domain([1,10]);return t.copy=()=>Yg(t,B9()).base(t.base()),ks.apply(t,arguments),t}function Lz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tI(t){var e=1,n=t(Lz(e),Dz(e));return n.constant=function(r){return arguments.length?t(Lz(e=+r),Dz(e)):e},ou(n)}function V9(){var t=tI(aw());return t.copy=function(){return Yg(t,V9()).constant(t.constant())},ks.apply(t,arguments)}function kz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u_e(t){return t<0?-t*t:t*t}function nI(t){var e=t(fi,fi),n=1;function r(){return n===1?t(fi,fi):n===.5?t(l_e,u_e):t(kz(n),kz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ou(e)}function rI(){var t=nI(aw());return t.copy=function(){return Yg(t,rI()).exponent(t.exponent())},ks.apply(t,arguments),t}function c_e(){return rI.apply(null,arguments).exponent(.5)}function Fz(t){return Math.sign(t)*t*t}function f_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function j9(){var t=ZR(),e=[0,1],n=!1,r;function i(s){var o=f_e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(Fz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,h1)).map(Fz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return j9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ks.apply(i,arguments),ou(i)}function H9(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=mxe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Xg(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return H9().domain(t).range(e).unknown(r)},ks.apply(s,arguments)}function W9(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Xg(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return W9().domain([t,e]).range(i).unknown(s)},ks.apply(ou(o),arguments)}function G9(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Xg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return G9().domain(t).range(e).unknown(n)},ks.apply(i,arguments)}const QE=new Date,eA=new Date;function hr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>hr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(QE.setTime(+s),eA.setTime(+o),t(QE),t(eA),Math.floor(n(QE,eA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const g1=hr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);g1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):g1);g1.range;const _a=1e3,Ms=_a*60,Sa=Ms*60,Da=Sa*24,iI=Da*7,Uz=Da*30,tA=Da*365,oc=hr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_a)},(t,e)=>(e-t)/_a,t=>t.getUTCSeconds());oc.range;const sI=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_a)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getMinutes());sI.range;const oI=hr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCMinutes());oI.range;const aI=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_a-t.getMinutes()*Ms)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getHours());aI.range;const lI=hr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCHours());lI.range;const Kg=hr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/Da,t=>t.getDate()-1);Kg.range;const lw=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Da,t=>t.getUTCDate()-1);lw.range;const $9=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Da,t=>Math.floor(t/Da));$9.range;function $c(t){return hr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/iI)}const uw=$c(0),v1=$c(1),d_e=$c(2),h_e=$c(3),Zd=$c(4),p_e=$c(5),m_e=$c(6);uw.range;v1.range;d_e.range;h_e.range;Zd.range;p_e.range;m_e.range;function Xc(t){return hr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iI)}const cw=Xc(0),y1=Xc(1),g_e=Xc(2),v_e=Xc(3),Jd=Xc(4),y_e=Xc(5),x_e=Xc(6);cw.range;y1.range;g_e.range;v_e.range;Jd.range;y_e.range;x_e.range;const uI=hr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uI.range;const cI=hr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cI.range;const ka=hr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ka.range;const Fa=hr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fa.range;function X9(t,e,n,r,i,s){const o=[[oc,1,_a],[oc,5,5*_a],[oc,15,15*_a],[oc,30,30*_a],[s,1,Ms],[s,5,5*Ms],[s,15,15*Ms],[s,30,30*Ms],[i,1,Sa],[i,3,3*Sa],[i,6,6*Sa],[i,12,12*Sa],[r,1,Da],[r,2,2*Da],[n,1,iI],[e,1,Uz],[e,3,3*Uz],[t,1,tA]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,m=GR(([,,y])=>y).right(o,h);if(m===o.length)return t.every(DC(u/tA,c/tA,f));if(m===0)return g1.every(Math.max(DC(u,c,f),1));const[g,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(x)}return[a,l]}const[__e,S_e]=X9(Fa,cI,cw,$9,lI,oI),[w_e,b_e]=X9(ka,uI,uw,Kg,aI,sI);function nA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function M_e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=bp(i),c=Mp(i),f=bp(s),h=Mp(s),m=bp(o),g=Mp(o),x=bp(a),y=Mp(a),v=bp(l),S=Mp(l),w={a:q,A:F,b:$,B:G,c:null,d:Wz,e:Wz,f:X_e,g:r1e,G:s1e,H:W_e,I:G_e,j:$_e,L:q9,m:q_e,M:Y_e,p:Z,q:fe,Q:Xz,s:qz,S:K_e,u:Z_e,U:J_e,V:Q_e,w:e1e,W:t1e,x:null,X:null,y:n1e,Y:i1e,Z:o1e,"%":$z},M={a:Ee,A:Ge,b:ct,B:ae,c:null,d:Gz,e:Gz,f:c1e,g:_1e,G:w1e,H:a1e,I:l1e,j:u1e,L:K9,m:f1e,M:d1e,p:ye,q:qe,Q:Xz,s:qz,S:h1e,u:p1e,U:m1e,V:g1e,w:v1e,W:y1e,x:null,X:null,y:x1e,Y:S1e,Z:b1e,"%":$z},E={a:R,A:k,b:U,B:V,c:X,d:jz,e:jz,f:B_e,g:Vz,G:Bz,H:Hz,I:Hz,j:k_e,L:z_e,m:D_e,M:F_e,p:P,q:L_e,Q:j_e,s:H_e,S:U_e,u:P_e,U:R_e,V:I_e,w:C_e,W:N_e,x:Y,X:K,y:Vz,Y:Bz,Z:O_e,"%":V_e};w.x=T(n,w),w.X=T(r,w),w.c=T(e,w),M.x=T(n,M),M.X=T(r,M),M.c=T(e,M);function T(ie,be){return function(ze){var ve=[],Ye=-1,de=0,we=ie.length,xe,Le,H;for(ze instanceof Date||(ze=new Date(+ze));++Ye<we;)ie.charCodeAt(Ye)===37&&(ve.push(ie.slice(de,Ye)),(Le=zz[xe=ie.charAt(++Ye)])!=null?xe=ie.charAt(++Ye):Le=xe==="e"?" ":"0",(H=be[xe])&&(xe=H(ze,Le)),ve.push(xe),de=Ye+1);return ve.push(ie.slice(de,Ye)),ve.join("")}}function I(ie,be){return function(ze){var ve=wp(1900,void 0,1),Ye=L(ve,ie,ze+="",0),de,we;if(Ye!=ze.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(be&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(de=rA(wp(ve.y,0,1)),we=de.getUTCDay(),de=we>4||we===0?y1.ceil(de):y1(de),de=lw.offset(de,(ve.V-1)*7),ve.y=de.getUTCFullYear(),ve.m=de.getUTCMonth(),ve.d=de.getUTCDate()+(ve.w+6)%7):(de=nA(wp(ve.y,0,1)),we=de.getDay(),de=we>4||we===0?v1.ceil(de):v1(de),de=Kg.offset(de,(ve.V-1)*7),ve.y=de.getFullYear(),ve.m=de.getMonth(),ve.d=de.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),we="Z"in ve?rA(wp(ve.y,0,1)).getUTCDay():nA(wp(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(we+5)%7:ve.w+ve.U*7-(we+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,rA(ve)):nA(ve)}}function L(ie,be,ze,ve){for(var Ye=0,de=be.length,we=ze.length,xe,Le;Ye<de;){if(ve>=we)return-1;if(xe=be.charCodeAt(Ye++),xe===37){if(xe=be.charAt(Ye++),Le=E[xe in zz?be.charAt(Ye++):xe],!Le||(ve=Le(ie,ze,ve))<0)return-1}else if(xe!=ze.charCodeAt(ve++))return-1}return ve}function P(ie,be,ze){var ve=u.exec(be.slice(ze));return ve?(ie.p=c.get(ve[0].toLowerCase()),ze+ve[0].length):-1}function R(ie,be,ze){var ve=m.exec(be.slice(ze));return ve?(ie.w=g.get(ve[0].toLowerCase()),ze+ve[0].length):-1}function k(ie,be,ze){var ve=f.exec(be.slice(ze));return ve?(ie.w=h.get(ve[0].toLowerCase()),ze+ve[0].length):-1}function U(ie,be,ze){var ve=v.exec(be.slice(ze));return ve?(ie.m=S.get(ve[0].toLowerCase()),ze+ve[0].length):-1}function V(ie,be,ze){var ve=x.exec(be.slice(ze));return ve?(ie.m=y.get(ve[0].toLowerCase()),ze+ve[0].length):-1}function X(ie,be,ze){return L(ie,e,be,ze)}function Y(ie,be,ze){return L(ie,n,be,ze)}function K(ie,be,ze){return L(ie,r,be,ze)}function q(ie){return o[ie.getDay()]}function F(ie){return s[ie.getDay()]}function $(ie){return l[ie.getMonth()]}function G(ie){return a[ie.getMonth()]}function Z(ie){return i[+(ie.getHours()>=12)]}function fe(ie){return 1+~~(ie.getMonth()/3)}function Ee(ie){return o[ie.getUTCDay()]}function Ge(ie){return s[ie.getUTCDay()]}function ct(ie){return l[ie.getUTCMonth()]}function ae(ie){return a[ie.getUTCMonth()]}function ye(ie){return i[+(ie.getUTCHours()>=12)]}function qe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var be=T(ie+="",w);return be.toString=function(){return ie},be},parse:function(ie){var be=I(ie+="",!1);return be.toString=function(){return ie},be},utcFormat:function(ie){var be=T(ie+="",M);return be.toString=function(){return ie},be},utcParse:function(ie){var be=I(ie+="",!0);return be.toString=function(){return ie},be}}}var zz={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,E_e=/^%/,A_e=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function T_e(t){return t.replace(A_e,"\\$&")}function bp(t){return new RegExp("^(?:"+t.map(T_e).join("|")+")","i")}function Mp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function C_e(t,e,n){var r=Mr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function P_e(t,e,n){var r=Mr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function R_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function I_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function N_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Bz(t,e,n){var r=Mr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Vz(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O_e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function L_e(t,e,n){var r=Mr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function D_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jz(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function k_e(t,e,n){var r=Mr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hz(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function F_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function U_e(t,e,n){var r=Mr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function z_e(t,e,n){var r=Mr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function B_e(t,e,n){var r=Mr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function V_e(t,e,n){var r=E_e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function j_e(t,e,n){var r=Mr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function H_e(t,e,n){var r=Mr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Wz(t,e){return Kt(t.getDate(),e,2)}function W_e(t,e){return Kt(t.getHours(),e,2)}function G_e(t,e){return Kt(t.getHours()%12||12,e,2)}function $_e(t,e){return Kt(1+Kg.count(ka(t),t),e,3)}function q9(t,e){return Kt(t.getMilliseconds(),e,3)}function X_e(t,e){return q9(t,e)+"000"}function q_e(t,e){return Kt(t.getMonth()+1,e,2)}function Y_e(t,e){return Kt(t.getMinutes(),e,2)}function K_e(t,e){return Kt(t.getSeconds(),e,2)}function Z_e(t){var e=t.getDay();return e===0?7:e}function J_e(t,e){return Kt(uw.count(ka(t)-1,t),e,2)}function Y9(t){var e=t.getDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function Q_e(t,e){return t=Y9(t),Kt(Zd.count(ka(t),t)+(ka(t).getDay()===4),e,2)}function e1e(t){return t.getDay()}function t1e(t,e){return Kt(v1.count(ka(t)-1,t),e,2)}function n1e(t,e){return Kt(t.getFullYear()%100,e,2)}function r1e(t,e){return t=Y9(t),Kt(t.getFullYear()%100,e,2)}function i1e(t,e){return Kt(t.getFullYear()%1e4,e,4)}function s1e(t,e){var n=t.getDay();return t=n>=4||n===0?Zd(t):Zd.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function o1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function Gz(t,e){return Kt(t.getUTCDate(),e,2)}function a1e(t,e){return Kt(t.getUTCHours(),e,2)}function l1e(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function u1e(t,e){return Kt(1+lw.count(Fa(t),t),e,3)}function K9(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function c1e(t,e){return K9(t,e)+"000"}function f1e(t,e){return Kt(t.getUTCMonth()+1,e,2)}function d1e(t,e){return Kt(t.getUTCMinutes(),e,2)}function h1e(t,e){return Kt(t.getUTCSeconds(),e,2)}function p1e(t){var e=t.getUTCDay();return e===0?7:e}function m1e(t,e){return Kt(cw.count(Fa(t)-1,t),e,2)}function Z9(t){var e=t.getUTCDay();return e>=4||e===0?Jd(t):Jd.ceil(t)}function g1e(t,e){return t=Z9(t),Kt(Jd.count(Fa(t),t)+(Fa(t).getUTCDay()===4),e,2)}function v1e(t){return t.getUTCDay()}function y1e(t,e){return Kt(y1.count(Fa(t)-1,t),e,2)}function x1e(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function _1e(t,e){return t=Z9(t),Kt(t.getUTCFullYear()%100,e,2)}function S1e(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function w1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jd(t):Jd.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function b1e(){return"+0000"}function $z(){return"%"}function Xz(t){return+t}function qz(t){return Math.floor(+t/1e3)}var kf,J9,Q9;M1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M1e(t){return kf=M_e(t),J9=kf.format,kf.parse,Q9=kf.utcFormat,kf.utcParse,kf}function E1e(t){return new Date(t)}function A1e(t){return t instanceof Date?+t:+new Date(+t)}function fI(t,e,n,r,i,s,o,a,l,u){var c=ZR(),f=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),S=u("%b %d"),w=u("%B"),M=u("%Y");function E(T){return(l(T)<T?m:a(T)<T?g:o(T)<T?x:s(T)<T?y:r(T)<T?i(T)<T?v:S:n(T)<T?w:M)(T)}return c.invert=function(T){return new Date(f(T))},c.domain=function(T){return arguments.length?h(Array.from(T,A1e)):h().map(E1e)},c.ticks=function(T){var I=h();return t(I[0],I[I.length-1],T??10)},c.tickFormat=function(T,I){return I==null?E:u(I)},c.nice=function(T){var I=h();return(!T||typeof T.range!="function")&&(T=e(I[0],I[I.length-1],T??10)),T?h(z9(I,T)):c},c.copy=function(){return Yg(c,fI(t,e,n,r,i,s,o,a,l,u))},c}function T1e(){return ks.apply(fI(w_e,b_e,ka,uI,uw,Kg,aI,sI,oc,J9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C1e(){return ks.apply(fI(__e,S_e,Fa,cI,cw,lw,lI,oI,oc,Q9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fw(){var t=0,e=1,n,r,i,s,o=fi,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=c(mh),u.rangeRound=c(KR),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function au(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function e$(){var t=ou(fw()(fi));return t.copy=function(){return au(t,e$())},Ga.apply(t,arguments)}function t$(){var t=eI(fw()).domain([1,10]);return t.copy=function(){return au(t,t$()).base(t.base())},Ga.apply(t,arguments)}function n$(){var t=tI(fw());return t.copy=function(){return au(t,n$()).constant(t.constant())},Ga.apply(t,arguments)}function dI(){var t=nI(fw());return t.copy=function(){return au(t,dI()).exponent(t.exponent())},Ga.apply(t,arguments)}function P1e(){return dI.apply(null,arguments).exponent(.5)}function r$(){var t=[],e=fi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>pxe(t,s/r))},n.copy=function(){return r$(e).domain(t)},Ga.apply(n,arguments)}function dw(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,u=fi,c,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+c(x))-s)*(r*x<r*s?a:l),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),s=c(e=+e),o=c(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(y){var v,S,w;return arguments.length?([v,S,w]=y,u=Vxe(x,[v,S,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(mh),m.rangeRound=g(KR),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return c=x,i=x(t),s=x(e),o=x(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function i$(){var t=ou(dw()(fi));return t.copy=function(){return au(t,i$())},Ga.apply(t,arguments)}function s$(){var t=eI(dw()).domain([.1,1,10]);return t.copy=function(){return au(t,s$()).base(t.base())},Ga.apply(t,arguments)}function o$(){var t=tI(dw());return t.copy=function(){return au(t,o$()).constant(t.constant())},Ga.apply(t,arguments)}function hI(){var t=nI(dw());return t.copy=function(){return au(t,hI()).exponent(t.exponent())},Ga.apply(t,arguments)}function R1e(){return hI.apply(null,arguments).exponent(.5)}const Dp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XR,scaleDiverging:i$,scaleDivergingLog:s$,scaleDivergingPow:hI,scaleDivergingSqrt:R1e,scaleDivergingSymlog:o$,scaleIdentity:U9,scaleImplicit:kC,scaleLinear:F9,scaleLog:B9,scaleOrdinal:$R,scalePoint:vxe,scalePow:rI,scaleQuantile:H9,scaleQuantize:W9,scaleRadial:j9,scaleSequential:e$,scaleSequentialLog:t$,scaleSequentialPow:dI,scaleSequentialQuantile:r$,scaleSequentialSqrt:P1e,scaleSequentialSymlog:n$,scaleSqrt:c_e,scaleSymlog:V9,scaleThreshold:G9,scaleTime:T1e,scaleUtc:C1e,tickFormat:k9},Symbol.toStringTag,{value:"Module"}));var lu=t=>t.chartData,pI=oe([lu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),a$=(t,e,n,r)=>r?pI(t):lu(t);function Ua(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(on(e)&&on(n))return!0}return!1}function Yz(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function l$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(on(n))i=n;else if(typeof n=="function")return;if(on(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Ua(o))return o}}function I1e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ua(r))return Yz(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,a;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Jt(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&yU.test(i)){var l=yU.exec(i);if(l==null||l[1]==null||e==null)o=void 0;else{var u=+l[1];o=e[0]-u}}else o=e==null?void 0:e[0];if(s==="auto")e!=null&&(a=Math.max(...e));else if(Jt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&xU.test(s)){var c=xU.exec(s);if(c==null||c[1]==null||e==null)a=void 0;else{var f=+c[1];a=e[1]+f}}else a=e==null?void 0:e[1];var h=[o,a];if(Ua(h))return e==null?h:Yz(h,e,n)}}}var gh=1e9,N1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gI,An=!0,Ls="[DecimalError] ",yc=Ls+"Invalid argument: ",mI=Ls+"Exponent out of range: ",vh=Math.floor,$u=Math.pow,O1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi,xr=1e7,_n=7,u$=9007199254740991,x1=vh(u$/_n),nt={};nt.absoluteValue=nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};nt.comparedTo=nt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_n;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(t){return Ma(this,new this.constructor(t))};nt.dividedToIntegerBy=nt.idiv=function(t){var e=this,n=e.constructor;return fn(Ma(e,new n(t),0,1),n.precision)};nt.equals=nt.eq=function(t){return!this.cmp(t)};nt.exponent=function(){return rr(this)};nt.greaterThan=nt.gt=function(t){return this.cmp(t)>0};nt.greaterThanOrEqualTo=nt.gte=function(t){return this.cmp(t)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(t){return this.cmp(t)<0};nt.lessThanOrEqualTo=nt.lte=function(t){return this.cmp(t)<1};nt.logarithm=nt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qi))throw Error(Ls+"NaN");if(n.s<1)throw Error(Ls+(n.s?"NaN":"-Infinity"));return n.eq(qi)?new r(0):(An=!1,e=Ma(ug(n,s),ug(t,s),s),An=!0,fn(e,i))};nt.minus=nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d$(e,t):c$(e,(t.s=-t.s,t))};nt.modulo=nt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ls+"NaN");return n.s?(An=!1,e=Ma(n,t,0,1).times(t),An=!0,n.minus(e)):fn(new r(n),i)};nt.naturalExponential=nt.exp=function(){return f$(this)};nt.naturalLogarithm=nt.ln=function(){return ug(this)};nt.negated=nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};nt.plus=nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c$(e,t):d$(e,(t.s=-t.s,t))};nt.precision=nt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yc+t);if(e=rr(i)+1,r=i.d.length-1,n=r*_n+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};nt.squareRoot=nt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ls+"NaN")}for(t=rr(a),An=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Ma(a,s,o+2)).times(.5),zo(s.d).slice(0,o)===(e=zo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(fn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return An=!0,fn(r,n)};nt.times=nt.mul=function(t){var e,n,r,i,s,o,a,l,u,c=this,f=c.constructor,h=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(s=h,h=m,m=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+m[r]*h[i-r-1]+e,s[i--]=a%xr|0,e=a/xr|0;s[i]=(s[i]+e)%xr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,An?fn(t,f.precision):t};nt.toDecimalPlaces=nt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ko(t,0,gh),e===void 0?e=r.rounding:Ko(e,0,8),fn(n,t+rr(n)+1,e))};nt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zc(r,!0):(Ko(t,0,gh),e===void 0?e=i.rounding:Ko(e,0,8),r=fn(new i(r),t+1,e),n=zc(r,!0,t+1)),n};nt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?zc(i):(Ko(t,0,gh),e===void 0?e=s.rounding:Ko(e,0,8),r=fn(new s(i),t+rr(i)+1,e),n=zc(r.abs(),!1,t+rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var t=this,e=t.constructor;return fn(new e(t),rr(t)+1,e.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(qi);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ls+"Infinity");return a}if(a.eq(qi))return a;if(r=l.precision,t.eq(qi))return fn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=c<0?-c:c)<=u$){for(i=new l(qi),e=Math.ceil(r/_n+4),An=!1;n%2&&(i=i.times(a),Zz(i.d,e)),n=vh(n/2),n!==0;)a=a.times(a),Zz(a.d,e);return An=!0,t.s<0?new l(qi).div(i):fn(i,r)}}else if(s<0)throw Error(Ls+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,An=!1,i=t.times(ug(a,r+u)),An=!0,i=f$(i),i.s=s,i};nt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=rr(i),r=zc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ko(t,1,gh),e===void 0?e=s.rounding:Ko(e,0,8),i=fn(new s(i),t,e),n=rr(i),r=zc(i,t<=n||n<=s.toExpNeg,t)),r};nt.toSignificantDigits=nt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ko(t,1,gh),e===void 0?e=r.rounding:Ko(e,0,8)),fn(new r(n),t,e)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rr(t),n=t.constructor;return zc(t,e<=n.toExpNeg||e>=n.toExpPos)};function c$(t,e){var n,r,i,s,o,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),An?fn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(f/_n),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/xr|0,l[s]%=xr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,An?fn(e,f):e}function Ko(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yc+t)}function zo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=_n-r.length,n&&(s+=ml(n)),s+=r;o=t[e],r=o+"",n=_n-r.length,n&&(s+=ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ma=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%xr|0,o=s/xr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*xr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,c,f,h,m,g,x,y,v,S,w,M,E,T,I,L,P=r.constructor,R=r.s==i.s?1:-1,k=r.d,U=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ls+"Division by zero");for(l=r.e-i.e,I=U.length,E=k.length,m=new P(R),g=m.d=[],u=0;U[u]==(k[u]||0);)++u;if(U[u]>(k[u]||0)&&--l,s==null?S=s=P.precision:o?S=s+(rr(r)-rr(i))+1:S=s,S<0)return new P(0);if(S=S/_n+2|0,u=0,I==1)for(c=0,U=U[0],S++;(u<E||c)&&S--;u++)w=c*xr+(k[u]||0),g[u]=w/U|0,c=w%U|0;else{for(c=xr/(U[0]+1)|0,c>1&&(U=t(U,c),k=t(k,c),I=U.length,E=k.length),M=I,x=k.slice(0,I),y=x.length;y<I;)x[y++]=0;L=U.slice(),L.unshift(0),T=U[0],U[1]>=xr/2&&++T;do c=0,a=e(U,x,I,y),a<0?(v=x[0],I!=y&&(v=v*xr+(x[1]||0)),c=v/T|0,c>1?(c>=xr&&(c=xr-1),f=t(U,c),h=f.length,y=x.length,a=e(f,x,h,y),a==1&&(c--,n(f,I<h?L:U,h))):(c==0&&(a=c=1),f=U.slice()),h=f.length,h<y&&f.unshift(0),n(x,f,y),a==-1&&(y=x.length,a=e(U,x,I,y),a<1&&(c++,n(x,I<y?L:U,y))),y=x.length):a===0&&(c++,x=[0]),g[u++]=c,a&&x[0]?x[y++]=k[M]||0:(x=[k[M]],y=1);while((M++<E||x[0]!==void 0)&&S--)}return g[0]||g.shift(),m.e=l,fn(m,o?s+rr(m)+1:s)}}();function f$(t,e){var n,r,i,s,o,a,l=0,u=0,c=t.constructor,f=c.precision;if(rr(t)>16)throw Error(mI+rr(t));if(!t.s)return new c(qi);for(An=!1,a=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log($u(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new c(qi),c.precision=a;;){if(i=fn(i.times(t),a),n=n.times(++l),o=s.plus(Ma(i,n,a)),zo(o.d).slice(0,a)===zo(s.d).slice(0,a)){for(;u--;)s=fn(s.times(s),a);return c.precision=f,e==null?(An=!0,fn(s,f)):s}s=o}}function rr(t){for(var e=t.e*_n,n=t.d[0];n>=10;n/=10)e++;return e}function iA(t,e,n){if(e>t.LN10.sd())throw An=!0,n&&(t.precision=n),Error(Ls+"LN10 precision limit exceeded");return fn(new t(t.LN10),e)}function ml(t){for(var e="";t--;)e+="0";return e}function ug(t,e){var n,r,i,s,o,a,l,u,c,f=1,h=10,m=t,g=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(Ls+(m.s?"NaN":"-Infinity"));if(m.eq(qi))return new x(0);if(e==null?(An=!1,u=y):u=e,m.eq(10))return e==null&&(An=!0),iA(x,u);if(u+=h,x.precision=u,n=zo(g),r=n.charAt(0),s=rr(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=zo(m.d),r=n.charAt(0),f++;s=rr(m),r>1?(m=new x("0."+n),s++):m=new x(r+"."+n.slice(1))}else return l=iA(x,u+2,y).times(s+""),m=ug(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=y,e==null?(An=!0,fn(m,y)):m;for(a=o=m=Ma(m.minus(qi),m.plus(qi),u),c=fn(m.times(m),u),i=3;;){if(o=fn(o.times(c),u),l=a.plus(Ma(o,new x(i),u)),zo(l.d).slice(0,u)===zo(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(iA(x,u+2,y).times(s+""))),a=Ma(a,new x(f),u),x.precision=y,e==null?(An=!0,fn(a,y)):a;a=l,i+=2}}function Kz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vh(n/_n),t.d=[],r=(n+1)%_n,n<0&&(r+=_n),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_n;r<i;)t.d.push(+e.slice(r,r+=_n));e=e.slice(r),r=_n-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),An&&(t.e>x1||t.e<-x1))throw Error(mI+n)}else t.s=0,t.e=0,t.d=[0];return t}function fn(t,e,n){var r,i,s,o,a,l,u,c,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=_n,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/_n),s=f.length,c>=s)return t;for(u=s=f[c],o=1;s>=10;s/=10)o++;r%=_n,i=r-_n+o}if(n!==void 0&&(s=$u(10,o-i-1),a=u/s%10|0,l=e<0||f[c+1]!==void 0||u%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/$u(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=rr(t),f.length=1,e=e-s-1,f[0]=$u(10,(_n-e%_n)%_n),t.e=vh(-e/_n)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,s=1,c--):(f.length=c+1,s=$u(10,_n-r),f[c]=i>0?(u/$u(10,o-i)%$u(10,i)|0)*s:0),l)for(;;)if(c==0){(f[0]+=s)==xr&&(f[0]=1,++t.e);break}else{if(f[c]+=s,f[c]!=xr)break;f[c--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(An&&(t.e>x1||t.e<-x1))throw Error(mI+rr(t));return t}function d$(t,e){var n,r,i,s,o,a,l,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),An?fn(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(m/_n),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=xr-1;--l[s],l[i]+=xr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,An?fn(e,m):e):new h(0)}function zc(t,e,n){var r,i=rr(t),s=zo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ml(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ml(-i-1)+s,n&&(r=n-o)>0&&(s+=ml(r))):i>=o?(s+=ml(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ml(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ml(r))),t.s<0?"-"+s:s}function Zz(t,e){if(t.length>e)return t.length=e,!0}function h$(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(yc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Kz(o,s.toString())}else if(typeof s!="string")throw Error(yc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,O1e.test(s))Kz(o,s);else throw Error(yc+s)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=h$,i.config=i.set=L1e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function L1e(t){if(!t||typeof t!="object")throw Error(Ls+"Object expected");var e,n,r,i=["precision",1,gh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(yc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yc+n+": "+r);return this}var gI=h$(N1e);qi=new gI(1);const nn=gI;function p$(t){var e;return t===0?e=1:e=Math.floor(new nn(t).abs().log(10).toNumber())+1,e}function m$(t,e,n){for(var r=new nn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var g$=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},v$=(t,e,n)=>{if(t.lte(0))return new nn(0);var r=p$(t.toNumber()),i=new nn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new nn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?new nn(l.toNumber()):new nn(Math.ceil(l.toNumber()))},D1e=(t,e,n)=>{var r=new nn(1),i=new nn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new nn(10).pow(p$(t)-1),i=new nn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nn(Math.floor(t)))}else t===0?i=new nn(Math.floor((e-1)/2)):n||(i=new nn(Math.floor(t)));for(var o=Math.floor((e-1)/2),a=[],l=0;l<e;l++)a.push(i.add(new nn(l-o).mul(r)).toNumber());return a},y$=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var o=v$(new nn(n).sub(e).div(r-1),i,s),a;e<=0&&n>=0?a=new nn(0):(a=new nn(e).add(n).div(2),a=a.sub(new nn(a).mod(o)));var l=Math.ceil(a.sub(e).div(o).toNumber()),u=Math.ceil(new nn(n).sub(a).div(o).toNumber()),c=l+u+1;return c>r?y$(e,n,r,i,s+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:o,tickMin:a.sub(new nn(l).mul(o)),tickMax:a.add(new nn(u).mul(o))})},k1e=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[a,l]=g$([n,r]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(a===l)return D1e(a,i,s);var{step:c,tickMin:f,tickMax:h}=y$(a,l,o,s,0),m=m$(f,h.add(new nn(.1).mul(c)),c);return n>r?m.reverse():m},F1e=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=g$([r,i]);if(o===-1/0||a===1/0)return[r,i];if(o===a)return[o];var l=Math.max(n,2),u=v$(new nn(a).sub(o).div(l-1),s,0),c=[...m$(new nn(o),new nn(a),u),a];return s===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},U1e=t=>t.rootProps.barCategoryGap,Zg=t=>t.rootProps.stackOffset,x$=t=>t.rootProps.reverseStackOrder,_$=t=>t.options.chartName,S$=t=>t.rootProps.syncId,z1e=t=>t.rootProps.syncMethod,w$=t=>t.options.eventEmitter,qc={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},zu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Co={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},hw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function b$(t,e,n){if(n!=="auto")return n;if(t!=null)return iu(t,e)?"category":"number"}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){B1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e,n){return(e=V1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V1e(t){var e=j1e(t,"string");return typeof e=="symbol"?e:e+""}function j1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qz={allowDataOverflow:zu.allowDataOverflow,allowDecimals:zu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zu.angleAxisId,includeHidden:!1,name:void 0,reversed:zu.reversed,scale:zu.scale,tick:zu.tick,tickCount:void 0,ticks:void 0,type:zu.type,unit:void 0},eB={allowDataOverflow:Co.allowDataOverflow,allowDecimals:Co.allowDecimals,allowDuplicatedCategory:Co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Co.radiusAxisId,includeHidden:Co.includeHidden,name:void 0,reversed:Co.reversed,scale:Co.scale,tick:Co.tick,tickCount:Co.tickCount,ticks:void 0,type:Co.type,unit:void 0},H1e=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},vI=oe([H1e,u9],(t,e)=>{var n;if(t!=null)return t;var r=(n=b$(e,"angleAxis",Qz.type))!==null&&n!==void 0?n:"category";return _1(_1({},Qz),{},{type:r})}),W1e=(t,e)=>t.polarAxis.radiusAxis[e],yI=oe([W1e,u9],(t,e)=>{var n;if(t!=null)return t;var r=(n=b$(e,"radiusAxis",eB.type))!==null&&n!==void 0?n:"category";return _1(_1({},eB),{},{type:r})}),pw=t=>t.polarOptions,xI=oe([Ha,Wa,kr],w9),M$=oe([pw,xI],(t,e)=>{if(t!=null)return ts(t.innerRadius,e,0)}),E$=oe([pw,xI],(t,e)=>{if(t!=null)return ts(t.outerRadius,e,e*.8)}),G1e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},A$=oe([pw],G1e);oe([vI,A$],hw);var T$=oe([xI,M$,E$],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([yI,T$],hw);var C$=oe([Tn,pw,M$,E$,Ha,Wa],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:u}=e;return{cx:ts(o,i,i/2),cy:ts(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Dn=(t,e)=>e,Jg=(t,e,n)=>n;function P$(t){return t==null?void 0:t.id}function R$(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return t.forEach(a=>{var l,u=(l=a.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=P$(a);u.forEach((f,h)=>{var m=s==null||i?h:String(Hn(f,s,null)),g=Hn(f,a.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[c]:g}),o.set(m,x)})}}),Array.from(o.values())}function _I(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var mw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function gw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function $1e(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Er=t=>{var e=Tn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yh=t=>t.tooltip.settings.axisId;function X1e(t){if(t in Dp)return Dp[t]();var e="scale".concat(Bg(t));if(e in Dp)return Dp[e]()}function tB(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:function(s){function o(){return s.apply(this,arguments)}return o.toString=function(){return s.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var o=i[0],a=i[1];return o<=a?s>=o&&s<=a:s>=a&&s<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,o)=>{var a=t(s);if(a!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var l=t.bandwidth();switch(o.position){case"middle":a+=l/2;break;case"end":a+=l;break}}return a}}}}function nB(t,e,n){if(typeof t=="function")return tB(t.copy().domain(e).range(n));if(t!=null){var r=X1e(t);if(r!=null)return r.domain(e).range(n),tB(r)}}var I$=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ua(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];on(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e,n){return(e=Y1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function K1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BC=[0,"auto"],Z1e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J1e=(t,e)=>t.cartesianAxis.xAxis[e],uu=(t,e)=>{var n=J1e(t,e);return n??Z1e},Q1e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wg},eSe=(t,e)=>t.cartesianAxis.yAxis[e],cu=(t,e)=>{var n=eSe(t,e);return n??Q1e},tSe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??tSe},Gn=(t,e,n)=>{switch(e){case"xAxis":return uu(t,n);case"yAxis":return cu(t,n);case"zAxis":return SI(t,n);case"angleAxis":return vI(t,n);case"radiusAxis":return yI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nSe=(t,e,n)=>{switch(e){case"xAxis":return uu(t,n);case"yAxis":return cu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xh=(t,e,n)=>{switch(e){case"xAxis":return uu(t,n);case"yAxis":return cu(t,n);case"angleAxis":return vI(t,n);case"radiusAxis":return yI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},N$=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function wI(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var rSe=t=>t.graphicalItems.cartesianItems,iSe=oe([Dn,Jg],wI),bI=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Qg=oe([rSe,Gn,iSe],bI,{memoizeOptions:{resultEqualityCheck:gw}}),O$=oe([Qg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(_I)),L$=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),sSe=oe([Qg],L$),MI=t=>t.map(e=>e.data).filter(Boolean).flat(1),oSe=oe([Qg],MI,{memoizeOptions:{resultEqualityCheck:gw}}),EI=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},AI=oe([oSe,a$],EI),TI=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Hn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Hn(i,r)}))):t.map(r=>({value:r})),vw=oe([AI,Gn,Qg],TI);function D$(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ix(t){if(Km(t)||t instanceof Date){var e=Number(t);if(on(e))return e}}function iB(t){if(Array.isArray(t)){var e=[ix(t[0]),ix(t[1])];return Ua(e)?e:void 0}var n=ix(t);if(n!=null)return[n,n]}function za(t){return t.map(ix).filter(Fo)}function aSe(t,e,n){return!n||typeof e!="number"||Oa(e)?[]:n.length?za(n.flatMap(r=>{var i=Hn(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!on(s)||!on(o)))return[e-s,e+o]})):[]}var Ar=t=>{var e=Er(t),n=yh(t);return xh(t,e,n)},e0=oe([Ar],t=>t==null?void 0:t.dataKey),lSe=oe([O$,a$,Ar],R$),k$=(t,e,n,r)=>{var i={},s=e.reduce((o,a)=>{if(a.stackId==null)return o;var l=o[a.stackId];return l==null&&(l=[]),l.push(a),o[a.stackId]=l,o},i);return Object.fromEntries(Object.entries(s).map(o=>{var[a,l]=o,u=r?[...l].reverse():l,c=u.map(P$);return[a,{stackedData:cve(t,c,n),graphicalItems:u}]}))},uSe=oe([lSe,O$,Zg,x$],k$),F$=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var o=hve(t,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cSe=oe([Gn],t=>t.allowDataOverflow),CI=t=>{var e;if(t==null||!("domain"in t))return BC;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=za(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:BC},PI=oe([Gn],CI),RI=oe([PI,cSe],l$),fSe=oe([uSe,lu,Dn,RI],F$,{memoizeOptions:{resultEqualityCheck:mw}}),yw=t=>t.errorBars,dSe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>D$(n,r)),w1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},II=(t,e,n,r,i)=>{var s,o;if(n.length>0&&t.forEach(a=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(v=>D$(i,v)),h=Hn(a,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),m=aSe(a,h,f);if(m.length>=2){var g=Math.min(...m),x=Math.max(...m);(s==null||g<s)&&(s=g),(o==null||x>o)&&(o=x)}var y=iB(h);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(a=>{var l=iB(Hn(a,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),on(s)&&on(o))return[s,o]},hSe=oe([AI,Gn,sSe,yw,Dn],II,{memoizeOptions:{resultEqualityCheck:mw}});function pSe(t){var{value:e}=t;if(Km(e)||e instanceof Date)return e}var mSe=(t,e,n)=>{var r=t.map(pSe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&aG(r))?T9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},U$=t=>t.referenceElements.dots,_h=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gSe=oe([U$,Dn,Jg],_h),z$=t=>t.referenceElements.areas,vSe=oe([z$,Dn,Jg],_h),B$=t=>t.referenceElements.lines,ySe=oe([B$,Dn,Jg],_h),V$=(t,e)=>{if(t!=null){var n=za(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xSe=oe(gSe,Dn,V$),j$=(t,e)=>{if(t!=null){var n=za(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_Se=oe([vSe,Dn],j$);function SSe(t){var e;if(t.x!=null)return za([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:za(n)}function wSe(t){var e;if(t.y!=null)return za([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:za(n)}var H$=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?SSe(r):wSe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},bSe=oe([ySe,Dn],H$),MSe=oe(xSe,bSe,_Se,(t,e,n)=>w1(t,n,e)),NI=(t,e,n,r,i,s,o,a)=>{if(n!=null)return n;var l=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",u=l?w1(r,s,i):w1(s,i);return I1e(e,u,t.allowDataOverflow)},ESe=oe([Gn,PI,RI,fSe,hSe,MSe,Tn,Dn],NI,{memoizeOptions:{resultEqualityCheck:mw}}),ASe=[0,1],OI=(t,e,n,r,i,s,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:a,type:l}=t,u=iu(e,s);if(u&&a==null){var c;return T9(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?mSe(r,t,u):i==="expand"?ASe:o}},LI=oe([Gn,Tn,AI,vw,Zg,Dn,ESe],OI);function TSe(t){return t in Dp}var W$=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Bg(r));return TSe(s)?s:"point"}}},fu=oe([Gn,N$,_$],W$);function DI(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?nB(t.scale,n,r):nB(e,n,r)}var kI=(t,e,n)=>{var r=CI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ua(t))return k1e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ua(t))return F1e(t,e.tickCount,e.allowDecimals)}},FI=oe([LI,xh,fu],kI),UI=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ua(e)&&Array.isArray(n)&&n.length>0){var i,s,o=e[0],a=(i=n[0])!==null&&i!==void 0?i:0,l=e[1],u=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(o,a),Math.max(l,u)]}return e},CSe=oe([Gn,LI,FI,Dn],UI),PSe=oe(vw,Gn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(za(t.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var o=s-i;if(o===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a],u=r[a+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/o}}),G$=oe(PSe,Tn,U1e,kr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!on(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=ts(n,t*s),a=t*s/2;return a-o-(a-o)/s*o}return 0}),RSe=(t,e,n)=>{var r=uu(t,e);return r==null||typeof r.padding!="string"?0:G$(t,"xAxis",e,n,r.padding)},ISe=(t,e,n)=>{var r=cu(t,e);return r==null||typeof r.padding!="string"?0:G$(t,"yAxis",e,n,r.padding)},NSe=oe(uu,RSe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),OSe=oe(cu,ISe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),LSe=oe([kr,NSe,rw,nw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),DSe=oe([kr,Tn,OSe,rw,nw,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),t0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return LSe(t,n,r);case"yAxis":return DSe(t,n,r);case"zAxis":return(i=SI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return A$(t);case"radiusAxis":return T$(t,n);default:return}},$$=oe([Gn,t0],hw),kSe=oe([fu,CSe],I$),xw=oe([Gn,fu,kSe,$$],DI);oe([Qg,yw,Dn],dSe);function X$(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _w=(t,e)=>e,Sw=(t,e,n)=>n,FSe=oe(ew,_w,Sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(X$)),USe=oe(tw,_w,Sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(X$)),q$=(t,e)=>({width:t.width,height:e.height}),zSe=(t,e)=>{var n=typeof e.width=="number"?e.width:Wg;return{width:n,height:t.height}};oe(kr,uu,q$);var BSe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},VSe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},jSe=oe(Wa,kr,FSe,_w,Sw,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=q$(e,a);o==null&&(o=BSe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),s}),HSe=oe(Ha,kr,USe,_w,Sw,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=zSe(e,a);o==null&&(o=VSe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),s}),WSe=(t,e)=>{var n=uu(t,e);if(n!=null)return jSe(t,n.orientation,n.mirror)};oe([kr,uu,WSe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var GSe=(t,e)=>{var n=cu(t,e);if(n!=null)return HSe(t,n.orientation,n.mirror)};oe([kr,cu,GSe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});oe(kr,cu,(t,e)=>{var n=typeof e.width=="number"?e.width:Wg;return{width:n,height:t.height}});var Y$=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=iu(t,r),l=e.map(u=>u.value);if(o&&a&&s==="category"&&i&&aG(l))return l}},zI=oe([Tn,vw,Gn,Dn],Y$),K$=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=iu(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(a=>a.value)}},BI=oe([Tn,vw,xh,Dn],K$);oe([Tn,nSe,fu,xw,zI,BI,t0,FI,Dn],(t,e,n,r,i,s,o,a,l)=>{if(e!=null){var u=iu(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:a,range:o,realScaleType:n,scale:r}}});var $Se=(t,e,n,r,i,s,o,a,l)=>{if(!(e==null||r==null)){var u=iu(t,l),{type:c,ticks:f,tickCount:h}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/m:0;g=l==="angleAxis"&&s!=null&&s.length>=2?Ri(s[0]-s[1])*2*g:g;var x=f||i;return x?x.map((y,v)=>{var S=o?o.indexOf(y):y,w=r.map(S);return on(w)?{index:v,coordinate:w+g,value:y,offset:g}:null}).filter(Fo):u&&a?a.map((y,v)=>{var S=r.map(y);return on(S)?{coordinate:S+g,value:y,index:v,offset:g}:null}).filter(Fo):r.ticks?r.ticks(h).map((y,v)=>{var S=r.map(y);return on(S)?{coordinate:S+g,value:y,index:v,offset:g}:null}).filter(Fo):r.domain().map((y,v)=>{var S=r.map(y);return on(S)?{coordinate:S+g,value:o?o[y]:y,index:v,offset:g}:null}).filter(Fo)}};oe([Tn,xh,fu,xw,FI,t0,zI,BI,Dn],$Se);var XSe=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=iu(t,o),{tickCount:l}=e,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ri(r[0]-r[1])*2*u:u,a&&s?s.map((c,f)=>{var h=n.map(c);return on(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(Fo):n.ticks?n.ticks(l).map((c,f)=>{var h=n.map(c);return on(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(Fo):n.domain().map((c,f)=>{var h=n.map(c);return on(h)?{coordinate:h+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(Fo)}};oe([Tn,xh,xw,t0,zI,BI,Dn],XSe);oe(Gn,xw,(t,e)=>{if(!(t==null||e==null))return S1(S1({},t),{},{scale:e})});var qSe=oe([Gn,fu,LI,$$],DI);oe((t,e,n)=>SI(t,n),qSe,(t,e)=>{if(!(t==null||e==null))return S1(S1({},t),{},{scale:e})});var YSe=oe([Tn,ew,tw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z$=t=>t.options.defaultTooltipEventType,J$=t=>t.options.validateTooltipEventTypes;function Q$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function e7(t,e){var n=Z$(t),r=J$(t);return Q$(e,n,r)}var t7=(t,e)=>{var n,r=Number(e);if(!(Oa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},KSe=t=>t.tooltip.settings,xl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ZSe={itemInteraction:{click:xl,hover:xl},axisInteraction:{click:xl,hover:xl},keyboardInteraction:xl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n7=zi({name:"tooltip",initialState:ZSe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Mn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Mn()},removeTooltipEntrySettings:{reducer(t,e){var n=ao(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Mn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:JSe,replaceTooltipEntrySettings:QSe,removeTooltipEntrySettings:ewe,setTooltipSettingsState:WCe,setActiveMouseOverItemIndex:r7,mouseLeaveItem:twe,mouseLeaveChart:i7,setActiveClickItemIndex:nwe,setMouseOverAxisIndex:s7,setMouseClickAxisIndex:rwe,setSyncInteraction:sB,setKeyboardInteraction:VC}=n7.actions,iwe=n7.reducer;function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return(e=owe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function owe(t){var e=awe(t,"string");return typeof e=="symbol"?e:e+""}function awe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lwe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function uwe(t){return t.index!=null}var o7=(t,e,n,r)=>{if(e==null)return xl;var i=lwe(t,e,n);if(i==null)return xl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(uwe(i)){if(s)return Ty(Ty({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ty(Ty({},xl),{},{coordinate:i.coordinate})};function cwe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function fwe(t,e){var n=cwe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function dwe(t,e,n){if(n==null||e==null)return!0;var r=Hn(t,e);return r==null||!Ua(n)?!0:fwe(r,n)}var VI=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!on(s))return i;var o=0,a=1/0;e.length>0&&(a=e.length-1);var l=Math.max(o,Math.min(s,a)),u=e[l];return u==null||dwe(u,n,r)?String(l):null},a7=(t,e,n,r,i,s,o)=>{if(s!=null){var a=o[0],l=a==null?void 0:a.getPosition(s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},l7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.graphicalItemId)===i})},u7=t=>t.options.tooltipPayloadSearcher,n0=t=>t.tooltip;function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e,n){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=mwe(t,"string");return typeof e=="symbol"?e:e+""}function mwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gwe(t,e){return t??e}var c7=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:y}=m,v=gwe(x,a),S=Array.isArray(v)?ZG(v,u,c):v,w=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:r,M=y==null?void 0:y.nameKey,E;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?E=bge(S,r,i):E=s(S,e,l,M),Array.isArray(E))E.forEach(I=>{var L=lB(lB({},y),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});h.push(_U({tooltipEntrySettings:L,dataKey:I.dataKey,payload:I.payload,value:Hn(I.payload,I.dataKey),name:I.name}))});else{var T;h.push(_U({tooltipEntrySettings:y,dataKey:w,payload:E,value:Hn(E,w),name:(T=Hn(E,M))!==null&&T!==void 0?T:y==null?void 0:y.name}))}return h},f)}},jI=oe([Ar,N$,_$],W$),vwe=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ywe=oe([Er,yh],wI),Sh=oe([vwe,Ar,ywe],bI,{memoizeOptions:{resultEqualityCheck:gw}}),xwe=oe([Sh],t=>t.filter(_I)),_we=oe([Sh],MI,{memoizeOptions:{resultEqualityCheck:gw}}),wh=oe([_we,lu],EI),Swe=oe([xwe,lu,Ar],R$),HI=oe([wh,Ar,Sh],TI),f7=oe([Ar],CI),wwe=oe([Ar],t=>t.allowDataOverflow),d7=oe([f7,wwe],l$),bwe=oe([Sh],t=>t.filter(_I)),Mwe=oe([Swe,bwe,Zg,x$],k$),Ewe=oe([Mwe,lu,Er,d7],F$),Awe=oe([Sh],L$),Twe=oe([wh,Ar,Awe,yw,Er],II,{memoizeOptions:{resultEqualityCheck:mw}}),Cwe=oe([U$,Er,yh],_h),Pwe=oe([Cwe,Er],V$),Rwe=oe([z$,Er,yh],_h),Iwe=oe([Rwe,Er],j$),Nwe=oe([B$,Er,yh],_h),Owe=oe([Nwe,Er],H$),Lwe=oe([Pwe,Owe,Iwe],w1),Dwe=oe([Ar,f7,d7,Ewe,Twe,Lwe,Tn,Er],NI),r0=oe([Ar,Tn,wh,HI,Zg,Er,Dwe],OI),kwe=oe([r0,Ar,jI],kI),Fwe=oe([Ar,r0,kwe,Er],UI),h7=t=>{var e=Er(t),n=yh(t),r=!1;return t0(t,e,n,r)},p7=oe([Ar,h7],hw),Uwe=oe([Ar,jI,Fwe,p7],DI),zwe=oe([Tn,HI,Ar,Er],Y$),Bwe=oe([Tn,HI,Ar,Er],K$),Vwe=(t,e,n,r,i,s,o,a)=>{if(e){var{type:l}=e,u=iu(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ri(i[0]-i[1])*2*f:f,u&&o?o.map((h,m)=>{var g=r.map(h);return on(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(Fo):r.domain().map((h,m)=>{var g=r.map(h);return on(g)?{coordinate:g+f,value:s?s[h]:h,index:m,offset:f}:null}).filter(Fo)}}},du=oe([Tn,Ar,jI,Uwe,h7,zwe,Bwe,Er],Vwe),WI=oe([Z$,J$,KSe],(t,e,n)=>Q$(n.shared,t,e)),m7=t=>t.tooltip.settings.trigger,GI=t=>t.tooltip.settings.defaultIndex,i0=oe([n0,WI,m7,GI],o7),cg=oe([i0,wh,e0,r0],VI),g7=oe([du,cg],t7),v7=oe([i0],t=>{if(t)return t.dataKey}),jwe=oe([i0],t=>{if(t)return t.graphicalItemId}),y7=oe([n0,WI,m7,GI],l7),Hwe=oe([Ha,Wa,Tn,kr,du,GI,y7],a7),Wwe=oe([i0,Hwe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Gwe=oe([i0],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),$we=oe([y7,cg,lu,e0,g7,u7,WI],c7);oe([$we],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){Xwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xwe(t,e,n){return(e=qwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Ywe(t,"string");return typeof e=="symbol"?e:e+""}function Ywe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kwe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Zwe=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:o}=r;return Ff(Ff(Ff({},r),Zr(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return Ff(Ff(Ff({},r),Zr(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jwe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var x7=(t,e,n,r,i)=>{var s,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var a=0;a<o;a++){var l,u,c,f,h,m=a>0?(l=n[a-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[a])===null||c===void 0?void 0:c.coordinate,x=a>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[a+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||g==null||x==null))if(Ri(g-m)!==Ri(x-g)){var v=[];if(Ri(x-g)===Ri(i[1]-i[0])){y=x;var S=g+i[1]-i[0];v[0]=Math.min(S,(S+m)/2),v[1]=Math.max(S,(S+m)/2)}else{y=m;var w=x+i[1]-i[0];v[0]=Math.min(g,(w+g)/2),v[1]=Math.max(g,(w+g)/2)}var M=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(t>M[0]&&t<=M[1]||t>=v[0]&&t<=v[1]){var E;return(E=n[a])===null||E===void 0?void 0:E.index}}else{var T=Math.min(m,x),I=Math.max(m,x);if(t>(T+g)/2&&t<=(I+g)/2){var L;return(L=n[a])===null||L===void 0?void 0:L.index}}}else if(e)for(var P=0;P<o;P++){var R=e[P];if(R!=null){var k=e[P+1],U=e[P-1];if(P===0&&k!=null&&t<=(R.coordinate+k.coordinate)/2||P===o-1&&U!=null&&t>(R.coordinate+U.coordinate)/2||P>0&&P<o-1&&U!=null&&k!=null&&t>(R.coordinate+U.coordinate)/2&&t<=(R.coordinate+k.coordinate)/2)return R.index}}return-1},$I=(t,e)=>e,_7=(t,e,n)=>n,XI=(t,e,n,r)=>r,Qwe=oe(du,t=>_G(t,e=>e.coordinate)),qI=oe([n0,$I,_7,XI],o7),YI=oe([qI,wh,e0,r0],VI),S7=oe([n0,$I,_7,XI],l7),b1=oe([Ha,Wa,Tn,kr,du,XI,S7],a7);oe([qI,b1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var ebe=oe([du,YI],t7);oe([S7,YI,lu,e0,ebe,u7,$I],c7);oe([qI,YI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e}));var tbe=(t,e,n,r,i,s,o)=>{if(!(!t||!n||!r||!i)&&Jwe(t,o)){var a=pve(t,e),l=x7(a,s,i,n,r),u=Kwe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},nbe=(t,e,n,r,i,s,o)=>{if(!(!t||!r||!i||!s||!n)){var a=Zye(t,n);if(a){var l=mve(a,e),u=x7(l,o,s,r,i),c=Zwe(e,s,u,a);return{activeIndex:String(u),activeCoordinate:c}}}},rbe=(t,e,n,r,i,s,o,a)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?tbe(t,e,r,i,s,o,a):nbe(t,e,n,r,i,s,o)},ibe=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),sbe=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(qc)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:$1e}});function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function obe(t,e,n){return(e=abe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function abe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ube={},cbe={zIndexMap:Object.values(qc).reduce((t,e)=>fB(fB({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),ube)},fbe=new Set(Object.values(qc));function dbe(t){return fbe.has(t)}var w7=zi({name:"zIndex",initialState:cbe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Mn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!dbe(n)&&delete t.zIndexMap[n])},prepare:Mn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Mn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Mn()}}}),{registerZIndexPortal:hbe,unregisterZIndexPortal:pbe,registerZIndexPortalElement:mbe,unregisterZIndexPortalElement:gbe}=w7.actions,vbe=w7.reducer;function ww(t){var{zIndex:e,children:n}=t,r=Hve(),i=r&&e!==void 0&&e!==0,s=su(),o=br();N.useLayoutEffect(()=>i?(o(hbe({zIndex:e})),()=>{o(pbe({zIndex:e}))}):Vg,[o,e,i]);var a=mn(l=>ibe(l,e,s));return i?a?MV.createPortal(n,a):null:n}var ybe=N.createContext(null),b7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,m,g){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,S,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,m),!0;case 6:return y.fn.call(y.context,c,f,h,m,g),!0}for(w=1,S=new Array(v-1);w<v;w++)S[w-1]=arguments[w];y.fn.apply(y.context,S)}else{var M=y.length,E;for(w=0;w<M;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,c);break;case 3:y[w].fn.call(y[w].context,c,f);break;case 4:y[w].fn.call(y[w].context,c,f,h);break;default:if(!S)for(E=1,S=new Array(v-1);E<v;E++)S[E-1]=arguments[E];y[w].fn.apply(y[w].context,S)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==c||h&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(b7);var xbe=b7.exports;const _be=Zo(xbe);var M1=new _be,dB="recharts.syncEvent.tooltip",hB="recharts.syncEvent.brush",Sbe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Oa(n))return t[n]}},wbe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},M7=zi({name:"options",initialState:wbe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bbe=M7.reducer,{createEventEmitter:Mbe}=M7.actions,Ebe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},E7=zi({name:"chartData",initialState:Ebe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:pB,setDataStartEndIndexes:Abe,setComputedData:GCe}=E7.actions,Tbe=E7.reducer,Cbe=["x","y"];function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){Pbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pbe(t,e,n){return(e=Rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Ibe(t,"string");return typeof e=="symbol"?e:e+""}function Ibe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nbe(t,e){if(t==null)return{};var n,r,i=Obe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Obe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lbe(){var t=mn(S$),e=mn(w$),n=br(),r=mn(z1e),i=mn(du),s=zR(),o=l9(),a=mn(l=>l.rootProps.className);N.useEffect(()=>{if(t==null)return Vg;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y:x}=m,y=Nbe(m,Cbe),{x:v,y:S,width:w,height:M}=c.payload.sourceViewBox,E=Uf(Uf({},y),{},{x:o.x+(w?(g-v)/w:0)*o.width,y:o.y+(M?(x-S)/M:0)*o.height});n(Uf(Uf({},c),{},{payload:Uf(Uf({},c.payload),{},{coordinate:E})}))}else n(c);return}if(i!=null){var T;if(typeof r=="function"){var I={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},L=r(i,I);T=i[L]}else r==="value"&&(T=i.find(K=>String(K.value)===c.payload.label));var{coordinate:P}=c.payload;if(T==null||c.payload.active===!1||P==null||o==null){n(sB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:k}=P,U=Math.min(R,o.x+o.width),V=Math.min(k,o.y+o.height),X={x:s==="horizontal"?T.coordinate:U,y:s==="horizontal"?V:T.coordinate},Y=sB({active:c.payload.active,coordinate:X,dataKey:c.payload.dataKey,index:String(T.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(Y)}}};return M1.on(dB,l),()=>{M1.off(dB,l)}},[a,n,e,t,r,i,s,o])}function Dbe(){var t=mn(S$),e=mn(w$),n=br();N.useEffect(()=>{if(t==null)return Vg;var r=(i,s,o)=>{e!==o&&t===i&&n(Abe(s))};return M1.on(hB,r),()=>{M1.off(hB,r)}},[n,e,t])}function kbe(){var t=br();N.useEffect(()=>{t(Mbe())},[t]),Lbe(),Dbe()}var fg=t=>null;fg.displayName="Cell";function Fbe(t,e,n){return(e=Ube(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ube(t){var e=zbe(t,"string");return typeof e=="symbol"?e:e+""}function zbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bbe{constructor(e){Fbe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){jbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e,n){return(e=Hbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hbe(t){var e=Wbe(t,"string");return typeof e=="symbol"?e:e+""}function Wbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gbe={cacheSize:2e3,enableCache:!0},A7=Vbe({},Gbe),vB=new Bbe(A7.cacheSize),$be={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yB="recharts_measurement_span";function Xbe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",a=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(a)}var xB=(t,e)=>{try{var n=document.getElementById(yB);n||(n=document.createElement("span"),n.setAttribute("id",yB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$be,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_B=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jR.isSsr)return{width:0,height:0};if(!A7.enableCache)return xB(e,n);var r=Xbe(e,n),i=vB.get(r);if(i)return i;var s=xB(e,n);return vB.set(r,s),s},T7;function qbe(t,e,n){return(e=Ybe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ybe(t){var e=Kbe(t,"string");return typeof e=="symbol"?e:e+""}function Kbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qbe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eMe=["cm","mm","pt","pc","in","Q","px"];function tMe(t){return eMe.includes(t)}var md="NaN";function nMe(t,e){return t*Qbe[e]}class Ir{static parse(e){var n,[,r,i]=(n=Jbe.exec(e))!==null&&n!==void 0?n:[];return r==null?Ir.NaN:new Ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Oa(e)&&(this.unit=""),n!==""&&!Zbe.test(n)&&(this.num=NaN,this.unit=""),tMe(n)&&(this.num=nMe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Oa(this.num)}}T7=Ir;qbe(Ir,"NaN",new T7(NaN,""));function C7(t){if(t==null||t.includes(md))return md;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=SB.exec(e))!==null&&n!==void 0?n:[],o=Ir.parse(r??""),a=Ir.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return md;e=e.replace(SB,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,h]=(u=wB.exec(e))!==null&&u!==void 0?u:[],m=Ir.parse(c??""),g=Ir.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return md;e=e.replace(wB,x.toString())}return e}var bB=/\(([^()]*)\)/;function rMe(t){for(var e=t,n;(n=bB.exec(e))!=null;){var[,r]=n;e=e.replace(bB,C7(r))}return e}function iMe(t){var e=t.replace(/\s+/g,"");return e=rMe(e),e=C7(e),e}function sMe(t){try{return iMe(t)}catch{return md}}function sA(t){var e=sMe(t.slice(5,-1));return e===md?"":e}var oMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],aMe=["dx","dy","angle","className","breakAll"];function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(null,arguments)}function MB(t,e){if(t==null)return{};var n,r,i=lMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P7=/[ \f\n\r\t\v\u2028\u2029]+/,R7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ns(e)||(n?i=e.toString().split(""):i=e.toString().split(P7));var s=i.map(a=>({word:a,width:_B(a,r).width})),o=n?0:_B("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function uMe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var I7=(t,e,n,r)=>t.reduce((i,s)=>{var{word:o,width:a}=s,l=i[i.length-1];if(l&&a!=null&&(e==null||r||l.width+a+n<Number(e)))l.words.push(o),l.width+=a+n;else{var u={words:[o],width:a};i.push(u)}return i},[]),N7=t=>t.reduce((e,n)=>e.width>n.width?e:n),cMe="",EB=(t,e,n,r,i,s,o,a)=>{var l=t.slice(0,e),u=R7({breakAll:n,style:r,children:l+cMe});if(!u)return[!1,[]];var c=I7(u.wordsWithComputedWidth,s,o,a),f=c.length>i||N7(c).width>Number(s);return[f,c]},fMe=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=t,u=Jt(s),c=String(o),f=I7(e,r,n,i);if(!u||i)return f;var h=f.length>s||N7(f).width>Number(r);if(!h)return f;for(var m=0,g=c.length-1,x=0,y;m<=g&&x<=c.length-1;){var v=Math.floor((m+g)/2),S=v-1,[w,M]=EB(c,S,l,a,s,r,n,i),[E]=EB(c,v,l,a,s,r,n,i);if(!w&&!E&&(m=v+1),w&&E&&(g=v-1),!w&&E){y=M;break}x++}return y||f},AB=t=>{var e=Ns(t)?[]:t.toString().split(P7);return[{words:e,width:void 0}]},dMe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!jR.isSsr){var a,l,u=R7({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;a=c,l=f}else return AB(r);return fMe({breakAll:s,children:r,maxLines:o,style:i},a,l,e,!!n)}return AB(r)},O7="#808080",hMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:O7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},KI=N.forwardRef((t,e)=>{var n=ja(t,hMe),{x:r,y:i,lineHeight:s,capHeight:o,fill:a,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=MB(n,oMe),h=N.useMemo(()=>dMe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:g,angle:x,className:y,breakAll:v}=f,S=MB(f,aMe);if(!Km(r)||!Km(i)||h.length===0)return null;var w=Number(r)+(Jt(m)?m:0),M=Number(i)+(Jt(g)?g:0);if(!on(w)||!on(M))return null;var E;switch(c){case"start":E=sA("calc(".concat(o,")"));break;case"middle":E=sA("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:E=sA("calc(".concat(h.length-1," * -").concat(s,")"));break}var T=[],I=h[0];if(l&&I!=null){var L=I.width,{width:P}=f;T.push("scale(".concat(Jt(P)&&Jt(L)?P/L:1,")"))}return x&&T.push("rotate(".concat(x,", ").concat(w,", ").concat(M,")")),T.length&&(S.transform=T.join(" ")),N.createElement("text",jC({},uo(S),{ref:e,x:w,y:M,className:xi("recharts-text",y),textAnchor:u,fill:a.includes("url")?O7:a}),h.map((R,k)=>{var U=R.words.join(v?"":" ");return N.createElement("tspan",{x:w,dy:k===0?E:s,key:"".concat(U,"-").concat(k)},U)}))});KI.displayName="Text";function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){pMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pMe(t,e,n){return(e=mMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mMe(t){var e=gMe(t,"string");return typeof e=="symbol"?e:e+""}function gMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vMe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:o,height:a,upperWidth:l,lowerWidth:u}=UR(e),c=s,f=s+(l-u)/2,h=(c+f)/2,m=(l+u)/2,g=c+l/2,x=a>=0?1:-1,y=x*r,v=x>0?"end":"start",S=x>0?"start":"end",w=l>=0?1:-1,M=w*r,E=w>0?"end":"start",T=w>0?"start":"end",I=i;if(n==="top"){var L={x:c+l/2,y:o-y,horizontalAnchor:"middle",verticalAnchor:v};return I&&(L.height=Math.max(o-I.y,0),L.width=l),L}if(n==="bottom"){var P={x:f+u/2,y:o+a+y,horizontalAnchor:"middle",verticalAnchor:S};return I&&(P.height=Math.max(I.y+I.height-(o+a),0),P.width=u),P}if(n==="left"){var R={x:h-M,y:o+a/2,horizontalAnchor:E,verticalAnchor:"middle"};return I&&(R.width=Math.max(R.x-I.x,0),R.height=a),R}if(n==="right"){var k={x:h+m+M,y:o+a/2,horizontalAnchor:T,verticalAnchor:"middle"};return I&&(k.width=Math.max(I.x+I.width-k.x,0),k.height=a),k}var U=I?{width:m,height:a}:{};return n==="insideLeft"?Po({x:h+M,y:o+a/2,horizontalAnchor:T,verticalAnchor:"middle"},U):n==="insideRight"?Po({x:h+m-M,y:o+a/2,horizontalAnchor:E,verticalAnchor:"middle"},U):n==="insideTop"?Po({x:c+l/2,y:o+y,horizontalAnchor:"middle",verticalAnchor:S},U):n==="insideBottom"?Po({x:f+u/2,y:o+a-y,horizontalAnchor:"middle",verticalAnchor:v},U):n==="insideTopLeft"?Po({x:c+M,y:o+y,horizontalAnchor:T,verticalAnchor:S},U):n==="insideTopRight"?Po({x:c+l-M,y:o+y,horizontalAnchor:E,verticalAnchor:S},U):n==="insideBottomLeft"?Po({x:f+M,y:o+a-y,horizontalAnchor:T,verticalAnchor:v},U):n==="insideBottomRight"?Po({x:f+u-M,y:o+a-y,horizontalAnchor:E,verticalAnchor:v},U):n&&typeof n=="object"&&(Jt(n.x)||Dc(n.x))&&(Jt(n.y)||Dc(n.y))?Po({x:s+ts(n.x,m),y:o+ts(n.y,a),horizontalAnchor:"end",verticalAnchor:"end"},U):Po({x:g,y:o+a/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},yMe=["labelRef"],xMe=["content"];function CB(t,e){if(t==null)return{};var n,r,i=_Me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){SMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SMe(t,e,n){return(e=wMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wMe(t){var e=bMe(t,"string");return typeof e=="symbol"?e:e+""}function bMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}var MMe=N.createContext(null),EMe=()=>{var t=N.useContext(MMe),e=l9();return t||(e?UR(e):void 0)},AMe=N.createContext(null),TMe=()=>{var t=N.useContext(AMe),e=mn(C$);return t||e},CMe=t=>{var{value:e,formatter:n}=t,r=Ns(t.children)?e:t.children;return typeof n=="function"?n(r):r},PMe=t=>t!=null&&typeof t=="function",RMe=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},IMe=(t,e,n,r,i)=>{var{offset:s,className:o}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:m}=i,g=(u+c)/2,x=RMe(f,h),y=x>=0?1:-1,v,S;switch(e){case"insideStart":v=f+y*s,S=m;break;case"insideEnd":v=h-y*s,S=!m;break;case"end":v=h+y*s,S=m;break;default:throw new Error("Unsupported position ".concat(e))}S=x<=0?S:!S;var w=Zr(a,l,g,v),M=Zr(a,l,g,v+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(M.x,",").concat(M.y),T=Ns(t.id)?Zm("recharts-radial-line-"):t.id;return N.createElement("text",E1({},r,{dominantBaseline:"central",className:xi("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:T,d:E})),N.createElement("textPath",{xlinkHref:"#".concat(T)},n))},NMe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:a,endAngle:l}=t,u=(a+l)/2;if(n==="outside"){var{x:c,y:f}=Zr(r,i,o+e,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:g}=Zr(r,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},sx=t=>t!=null&&"cx"in t&&Jt(t.cx),OMe={angle:0,offset:5,zIndex:qc.label,position:"middle",textBreakAll:!1};function LMe(t){if(!sx(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function L7(t){var e=ja(t,OMe),{viewBox:n,parentViewBox:r,position:i,value:s,children:o,content:a,className:l="",textBreakAll:u,labelRef:c}=e,f=TMe(),h=EMe(),m=i==="center"?h:f??h,g,x,y;n==null?g=m:sx(n)?g=n:g=UR(n);var v=LMe(g);if(!g||Ns(s)&&Ns(o)&&!N.isValidElement(a)&&typeof a!="function")return null;var S=Cy(Cy({},e),{},{viewBox:g});if(N.isValidElement(a)){var{labelRef:w}=S,M=CB(S,yMe);return N.cloneElement(a,M)}if(typeof a=="function"){var{content:E}=S,T=CB(S,xMe);if(x=N.createElement(a,T),N.isValidElement(x))return x}else x=CMe(e);var I=uo(e);if(sx(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return IMe(e,i,x,I,g);y=NMe(g,e.offset,e.position)}else{if(!v)return null;var L=vMe({viewBox:v,position:i,offset:e.offset,parentViewBox:sx(r)?void 0:r});y=Cy(Cy({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return N.createElement(ww,{zIndex:e.zIndex},N.createElement(KI,E1({ref:c,className:xi("recharts-label",l)},I,y,{textAnchor:uMe(I.textAnchor)?I.textAnchor:y.textAnchor,breakAll:u}),x))}L7.displayName="Label";var D7={},k7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(k7);var F7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(F7);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k7,n=F7,r=TR;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(D7);var DMe=D7.last;const kMe=Zo(DMe);var FMe=["valueAccessor"],UMe=["dataKey","clockWise","id","textBreakAll","zIndex"];function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(null,arguments)}function RB(t,e){if(t==null)return{};var n,r,i=zMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BMe=t=>Array.isArray(t.value)?kMe(t.value):t.value,U7=N.createContext(void 0);U7.Provider;var z7=N.createContext(void 0),VMe=z7.Provider;function jMe(){return N.useContext(U7)}function HMe(){return N.useContext(z7)}function ox(t){var{valueAccessor:e=BMe}=t,n=RB(t,FMe),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:a}=n,l=RB(n,UMe),u=jMe(),c=HMe(),f=u||c;return!f||!f.length?null:N.createElement(ww,{zIndex:a??qc.label},N.createElement($l,{className:"recharts-label-list"},f.map((h,m)=>{var g,x=Ns(r)?e(h,m):Hn(h.payload,r),y=Ns(s)?{}:{id:"".concat(s,"-").concat(m)};return N.createElement(L7,A1({key:"label-".concat(m)},uo(h),l,y,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}ox.displayName="LabelList";function WMe(t){var{label:e}=t;return e?e===!0?N.createElement(ox,{key:"labelList-implicit"}):N.isValidElement(e)||PMe(e)?N.createElement(ox,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(ox,A1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var B7=t=>t.graphicalItems.polarItems,GMe=oe([Dn,Jg],wI),bw=oe([B7,Gn,GMe],bI),$Me=oe([bw],MI),Mw=oe([$Me,pI],EI),XMe=oe([Mw,Gn,bw],TI);oe([Mw,Gn,bw],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,o=Hn(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Hn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var IB=()=>{},qMe=oe([Mw,Gn,bw,yw,Dn],II),YMe=oe([Gn,PI,RI,IB,qMe,IB,Tn,Dn],NI),V7=oe([Gn,Tn,Mw,XMe,Zg,Dn,YMe],OI),KMe=oe([V7,xh,fu],kI),ZMe=oe([Gn,V7,KMe,Dn],UI);oe([fu,ZMe],I$);var JMe={radiusAxis:{},angleAxis:{}},j7=zi({name:"polarAxis",initialState:JMe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:$Ce,removeRadiusAxis:XCe,addAngleAxis:qCe,removeAngleAxis:YCe}=j7.actions,QMe=j7.reducer;function eEe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){tEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tEe(t,e,n){return(e=nEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nEe(t){var e=rEe(t,"string");return typeof e=="symbol"?e:e+""}function rEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iEe=(t,e)=>e,ZI=oe([B7,iEe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),sEe=[],JI=(t,e,n)=>(n==null?void 0:n.length)===0?sEe:n,H7=oe([pI,ZI,JI],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>OB(OB({},e.presentationProps),s.props))),i!=null)return i}}),oEe=oe([H7,ZI,JI],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,o=Hn(r,e.nameKey,e.name),a;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:JG(o,e.dataKey),color:a,payload:r,type:e.legendType}})}),aEe=oe([H7,ZI,JI,kr],(t,e,n,r)=>{if(!(e==null||t==null))return lAe({offset:r,pieSettings:e,displayedData:t,cells:n})}),W7={exports:{}},dn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=Symbol.for("react.transitional.element"),eN=Symbol.for("react.portal"),Ew=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Tw=Symbol.for("react.profiler"),Cw=Symbol.for("react.consumer"),Pw=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),Iw=Symbol.for("react.suspense"),Nw=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),Lw=Symbol.for("react.lazy"),lEe=Symbol.for("react.view_transition"),uEe=Symbol.for("react.client.reference");function Fs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QI:switch(t=t.type,t){case Ew:case Tw:case Aw:case Iw:case Nw:case lEe:return t;default:switch(t=t&&t.$$typeof,t){case Pw:case Rw:case Lw:case Ow:return t;case Cw:return t;default:return e}}case eN:return e}}}dn.ContextConsumer=Cw;dn.ContextProvider=Pw;dn.Element=QI;dn.ForwardRef=Rw;dn.Fragment=Ew;dn.Lazy=Lw;dn.Memo=Ow;dn.Portal=eN;dn.Profiler=Tw;dn.StrictMode=Aw;dn.Suspense=Iw;dn.SuspenseList=Nw;dn.isContextConsumer=function(t){return Fs(t)===Cw};dn.isContextProvider=function(t){return Fs(t)===Pw};dn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QI};dn.isForwardRef=function(t){return Fs(t)===Rw};dn.isFragment=function(t){return Fs(t)===Ew};dn.isLazy=function(t){return Fs(t)===Lw};dn.isMemo=function(t){return Fs(t)===Ow};dn.isPortal=function(t){return Fs(t)===eN};dn.isProfiler=function(t){return Fs(t)===Tw};dn.isStrictMode=function(t){return Fs(t)===Aw};dn.isSuspense=function(t){return Fs(t)===Iw};dn.isSuspenseList=function(t){return Fs(t)===Nw};dn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ew||t===Tw||t===Aw||t===Iw||t===Nw||typeof t=="object"&&t!==null&&(t.$$typeof===Lw||t.$$typeof===Ow||t.$$typeof===Pw||t.$$typeof===Cw||t.$$typeof===Rw||t.$$typeof===uEe||t.getModuleId!==void 0)};dn.typeOf=Fs;W7.exports=dn;var cEe=W7.exports,LB=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",DB=null,oA=null,G7=t=>{if(t===DB&&Array.isArray(oA))return oA;var e=[];return N.Children.forEach(t,n=>{Ns(n)||(cEe.isFragment(n)?e=e.concat(G7(n.props.children)):e.push(n))}),oA=e,DB=t,e};function $7(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>LB(i)):r=[LB(e)],G7(t).forEach(i=>{var s=Ym(i,"type.displayName")||Ym(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var X7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(X7);var fEe=X7.isPlainObject;const dEe=Zo(fEe);var kB,FB,UB,zB,BB;function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(n),!0).forEach(function(r){hEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hEe(t,e,n){return(e=pEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=mEe(t,"string");return typeof e=="symbol"?e:e+""}function mEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T1.apply(null,arguments)}function Ep(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HB=(t,e,n,r,i)=>{var s=n-r,o;return o=Bn(kB||(kB=Ep(["M ",",",""])),t,e),o+=Bn(FB||(FB=Ep(["L ",",",""])),t+n,e),o+=Bn(UB||(UB=Ep(["L ",",",""])),t+n-s/2,e+i),o+=Bn(zB||(zB=Ep(["L ",",",""])),t+n-s/2-r,e+i),o+=Bn(BB||(BB=Ep(["L ",","," Z"])),t,e),o},gEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vEe=t=>{var e=ja(t,gEe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:a}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=e,h=N.useRef(null),[m,g]=N.useState(-1),x=N.useRef(i),y=N.useRef(s),v=N.useRef(o),S=N.useRef(n),w=N.useRef(r),M=WR(t,"trapezoid-");if(N.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var X=h.current.getTotalLength();X&&g(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var E=xi("recharts-trapezoid",a);if(!f)return N.createElement("g",null,N.createElement("path",T1({},uo(e),{className:E,d:HB(n,r,i,s,o)})));var T=x.current,I=y.current,L=v.current,P=S.current,R=w.current,k="0px ".concat(m===-1?1:m,"px"),U="".concat(m,"px 0px"),V=y9(["strokeDasharray"],u,l);return N.createElement(HR,{animationId:M,key:M,canBegin:m>0,duration:u,easing:l,isActive:f,begin:c},X=>{var Y=Js(T,i,X),K=Js(I,s,X),q=Js(L,o,X),F=Js(P,n,X),$=Js(R,r,X);h.current&&(x.current=Y,y.current=K,v.current=q,S.current=F,w.current=$);var G=X>0?{transition:V,strokeDasharray:U}:{strokeDasharray:k};return N.createElement("path",T1({},uo(e),{className:E,d:HB(F,$,Y,K,q),ref:h,style:jB(jB({},G),e.style)}))})},yEe=["option","shapeType","activeClassName"];function xEe(t,e){if(t==null)return{};var n,r,i=_Ee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){SEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SEe(t,e,n){return(e=wEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wEe(t){var e=bEe(t,"string");return typeof e=="symbol"?e:e+""}function bEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MEe(t,e){return C1(C1({},e),t)}function EEe(t,e){return t==="symbols"}function GB(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(jye,n);case"trapezoid":return N.createElement(vEe,n);case"sector":return N.createElement(txe,n);case"symbols":if(EEe(e))return N.createElement(uG,n);break;case"curve":return N.createElement(v9,n);default:return null}}function AEe(t){return N.isValidElement(t)?t.props:t}function TEe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=xEe(t,yEe),s;if(N.isValidElement(e))s=N.cloneElement(e,C1(C1({},i),AEe(e)));else if(typeof e=="function")s=e(i,i.index);else if(dEe(e)&&typeof e!="boolean"){var o=MEe(e,i);s=N.createElement(GB,{shapeType:n,elementProps:o})}else{var a=i;s=N.createElement(GB,{shapeType:n,elementProps:a})}return i.isActive?N.createElement($l,{className:r},s):s}var CEe=(t,e,n)=>{var r=br();return(i,s)=>o=>{t==null||t(i,s,o),r(r7({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},PEe=t=>{var e=br();return(n,r)=>i=>{t==null||t(n,r,i),e(twe())}},REe=(t,e,n)=>{var r=br();return(i,s)=>o=>{t==null||t(i,s,o),r(nwe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function IEe(t){var{tooltipEntrySettings:e}=t,n=br(),r=su(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(JSe(e)):i.current!==e&&n(QSe({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(ewe(i.current)),i.current=null)},[n]),null}function NEe(t){var{legendPayload:e}=t,n=br(),r=mn(Tn),i=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(nye(e)):i.current!==e&&n(rye({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(iye(i.current)),i.current=null)},[n]),null}var aA,OEe=()=>{var[t]=N.useState(()=>Zm("uid-"));return t},LEe=(aA=S4.useId)!==null&&aA!==void 0?aA:OEe;function DEe(t,e){var n=LEe();return e||(t?"".concat(t,"-").concat(n):n)}var kEe=N.createContext(void 0),FEe=t=>{var{id:e,type:n,children:r}=t,i=DEe("recharts-".concat(n),e);return N.createElement(kEe.Provider,{value:i},r(i))},UEe={cartesianItems:[],polarItems:[]},q7=zi({name:"graphicalItems",initialState:UEe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Mn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Mn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ao(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Mn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Mn()},removePolarGraphicalItem:{reducer(t,e){var n=ao(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Mn()}}}),{addCartesianGraphicalItem:KCe,replaceCartesianGraphicalItem:ZCe,removeCartesianGraphicalItem:JCe,addPolarGraphicalItem:zEe,removePolarGraphicalItem:BEe}=q7.actions,VEe=q7.reducer;function jEe(t){var e=br();return N.useLayoutEffect(()=>(e(zEe(t)),()=>{e(BEe(t))}),[e,t]),null}var HEe=["key"],WEe=["onMouseEnter","onClick","onMouseLeave"],GEe=["id"],$Ee=["id"];function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return(e=qEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=YEe(t,"string");return typeof e=="symbol"?e:e+""}function YEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(null,arguments)}function Dw(t,e){if(t==null)return{};var n,r,i=KEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZEe(t){var e=N.useMemo(()=>$7(t.children,fg),[t.children]),n=mn(r=>oEe(r,t.id,e));return n==null?null:N.createElement(NEe,{legendPayload:n})}var JEe=N.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:a,hide:l,tooltipType:u,id:c}=t,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),getPosition:h=>{var m;return(m=r[Number(h)])===null||m===void 0?void 0:m.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:o,dataKey:e,nameKey:n,name:JG(a,e),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return N.createElement(IEe,{tooltipEntrySettings:f})}),QEe=(t,e)=>t>e?"start":t<e?"end":"middle",eAe=(t,e,n)=>ts(typeof e=="function"?e(t):e,n,n*.8),tAe=(t,e,n)=>{var{top:r,left:i,width:s,height:o}=e,a=w9(s,o),l=i+ts(t.cx,s,s/2),u=r+ts(t.cy,o,o/2),c=ts(t.innerRadius,a,0),f=eAe(n,t.outerRadius,a),h=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},nAe=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},rAe=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=xi("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=Dw(e,HEe);return N.createElement(v9,ql({},i,{type:"linear",className:n}))},iAe=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var i=xi("recharts-pie-label-text",eEe(t));return N.createElement(KI,ql({},e,{alignmentBaseline:"middle",className:i}),r)};function sAe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!e)return null;var a=Xd(n),l=$F(i),u=$F(s),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=Zr(h.cx,h.cy,h.outerRadius+c,g),y=jn(jn(jn(jn({},a),h),{},{stroke:"none"},l),{},{index:m,textAnchor:QEe(x.x,h.cx)},x),v=jn(jn(jn(jn({},a),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Zr(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return N.createElement(ww,{zIndex:qc.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},N.createElement($l,null,s&&rAe(s,v),iAe(i,y,Hn(h,o))))});return N.createElement($l,{className:"recharts-pie-labels"},f)}function oAe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(WMe,{label:i}):N.createElement(sAe,{sectors:e,props:n,showLabels:r})}function aAe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:o}=t,a=mn(cg),l=mn(v7),u=mn(jwe),{onMouseEnter:c,onClick:f,onMouseLeave:h}=i,m=Dw(i,WEe),g=CEe(c,i.dataKey,o),x=PEe(h),y=REe(f,i.dataKey,o);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((v,S)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&e.length!==1)return null;var w=u==null||u===o,M=String(S)===a&&(l==null||i.dataKey===l)&&w,E=a?r:null,T=n&&M?n:E,I=jn(jn({},v),{},{stroke:v.stroke,tabIndex:-1,[e9]:S,[t9]:o});return N.createElement($l,ql({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},kge(m,v,S),{onMouseEnter:g(v,S),onMouseLeave:x(v,S),onClick:y(v,S)}),N.createElement(TEe,ql({option:s??T,index:S,shapeType:"sector",isActive:M},I)))}))}function lAe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=n,h=Math.abs(n.minAngle),m=nAe(a,l),g=Math.abs(m),x=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,y=r.filter(T=>Hn(T,u,0)!==0).length,v=(g>=360?y:y-1)*x,S=g-y*h-v,w=r.reduce((T,I)=>{var L=Hn(I,u,0);return T+(Jt(L)?L:0)},0),M;if(w>0){var E;M=r.map((T,I)=>{var L=Hn(T,u,0),P=Hn(T,c,I),R=tAe(n,s,T),k=(Jt(L)?L:0)/w,U,V=jn(jn({},T),i&&i[I]&&i[I].props);I?U=E.endAngle+Ri(m)*x*(L!==0?1:0):U=a;var X=U+Ri(m)*((L!==0?h:0)+k*S),Y=(U+X)/2,K=(R.innerRadius+R.outerRadius)/2,q=[{name:P,value:L,payload:V,dataKey:u,type:f,graphicalItemId:n.id}],F=Zr(R.cx,R.cy,K,Y);return E=jn(jn(jn(jn({},n.presentationProps),{},{percent:k,cornerRadius:typeof o=="string"?parseFloat(o):o,name:P,tooltipPayload:q,midAngle:Y,middleRadius:K,tooltipPosition:F},V),R),{},{value:L,dataKey:u,startAngle:U,endAngle:X,payload:V,paddingAngle:Ri(m)*x}),E})}return M}function uAe(t){var{showLabels:e,sectors:n,children:r}=t,i=N.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return N.createElement(VMe,{value:e?i:void 0},r)}function cAe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:o,animationDuration:a,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:h}=e,m=WR(e,"recharts-pie-"),g=n.current,[x,y]=N.useState(!1),v=N.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),S=N.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return N.createElement(uAe,{showLabels:!x,sectors:i},N.createElement(HR,{animationId:m,begin:o,duration:a,isActive:s,easing:l,onAnimationStart:S,onAnimationEnd:v,key:m},w=>{var M,E=[],T=i&&i[0],I=(M=T==null?void 0:T.startAngle)!==null&&M!==void 0?M:0;return i==null||i.forEach((L,P)=>{var R=g&&g[P],k=P>0?Ym(L,"paddingAngle",0):0;if(R){var U=Js(R.endAngle-R.startAngle,L.endAngle-L.startAngle,w),V=jn(jn({},L),{},{startAngle:I+k,endAngle:I+U+k});E.push(V),I=V.endAngle}else{var{endAngle:X,startAngle:Y}=L,K=Js(0,X-Y,w),q=jn(jn({},L),{},{startAngle:I+k,endAngle:I+K+k});E.push(q),I=q.endAngle}}),n.current=E,N.createElement($l,null,N.createElement(aAe,{sectors:E,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),N.createElement(oAe,{showLabels:!x,sectors:i,props:e}),e.children)}var fAe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:qc.area};function dAe(t){var{id:e}=t,n=Dw(t,GEe),{hide:r,className:i,rootTabIndex:s}=t,o=N.useMemo(()=>$7(t.children,fg),[t.children]),a=mn(c=>aEe(c,e,o)),l=N.useRef(null),u=xi("recharts-pie",i);return r||a==null?(l.current=null,N.createElement($l,{tabIndex:s,className:u})):N.createElement(ww,{zIndex:t.zIndex},N.createElement(JEe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:a,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),N.createElement($l,{tabIndex:s,className:u},N.createElement(cAe,{props:jn(jn({},n),{},{sectors:a}),previousSectorsRef:l,id:e})))}function Y7(t){var e=ja(t,fAe),{id:n}=e,r=Dw(e,$Ee),i=Xd(r);return N.createElement(FEe,{id:n,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(jEe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(ZEe,ql({},r,{id:s})),N.createElement(dAe,ql({},r,{id:s}))))}Y7.displayName="Pie";function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){hAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hAe(t,e,n){return(e=pAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pAe(t){var e=mAe(t,"string");return typeof e=="symbol"?e:e+""}function mAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gAe={xAxis:{},yAxis:{},zAxis:{}},K7=zi({name:"cartesianAxis",initialState:gAe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Mn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Mn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Mn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Mn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Mn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Mn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Mn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Mn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Mn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((s=o[0])!==null&&s!==void 0?s:0))<=1)return;var a=[...o,r].slice(-3);t.yAxis[n]=qB(qB({},i),{},{width:r,widthHistory:a})}}}}),{addXAxis:QCe,replaceXAxis:ePe,removeXAxis:tPe,addYAxis:nPe,replaceYAxis:rPe,removeYAxis:iPe,addZAxis:sPe,replaceZAxis:oPe,removeZAxis:aPe,updateYAxisWidth:lPe}=K7.actions,vAe=K7.reducer,yAe=oe([kr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),xAe=oe([yAe,Ha,Wa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),_Ae=()=>mn(xAe),SAe=t=>{var{chartData:e}=t,n=br(),r=su();return N.useEffect(()=>r?()=>{}:(n(pB(e)),()=>{n(pB(void 0))}),[e,n,r]),null},YB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Z7=zi({name:"brush",initialState:YB,reducers:{setBrushSettings(t,e){return e.payload==null?YB:e.payload}}}),{setBrushSettings:uPe}=Z7.actions,wAe=Z7.reducer,bAe={dots:[],areas:[],lines:[]},J7=zi({name:"referenceElements",initialState:bAe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ao(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ao(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ao(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cPe,removeDot:fPe,addArea:dPe,removeArea:hPe,addLine:pPe,removeLine:mPe}=J7.actions,MAe=J7.reducer,EAe=N.createContext(void 0),AAe=t=>{var{children:e}=t,[n]=N.useState("".concat(Zm("recharts"),"-clip")),r=_Ae();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return N.createElement(EAe.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:s,height:a,width:o}))),e)},TAe={},Q7=zi({name:"errorBars",initialState:TAe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:gPe,replaceErrorBar:vPe,removeErrorBar:yPe}=Q7.actions,CAe=Q7.reducer,PAe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=N;function RAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IAe=typeof Object.is=="function"?Object.is:RAe,NAe=s0.useSyncExternalStore,OAe=s0.useRef,LAe=s0.useEffect,DAe=s0.useMemo,kAe=s0.useDebugValue;PAe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=OAe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=DAe(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,IAe(c,m))return g;var x=r(m);return i!==void 0&&i(g,x)?(c=m,g):(c=m,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=NAe(t,s[0],s[1]);return LAe(function(){o.hasValue=!0,o.value=a},[a]),kAe(a),a};function FAe(t){t()}function UAe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){FAe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var KB={notify(){},get:()=>[]};function zAe(t,e){let n,r=KB,i=0,s=!1;function o(x){c();const y=r.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),f())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=t.subscribe(l),r=UAe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=KB)}function h(){s||(s=!0,c())}function m(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}var BAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VAe=BAe(),jAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HAe=jAe(),WAe=()=>VAe||HAe?N.useLayoutEffect:N.useEffect,GAe=WAe();function ZB(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function $Ae(t,e){if(ZB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!ZB(t[n[i]],e[n[i]]))return!1;return!0}var lA=Symbol.for("react-redux-context"),uA=typeof globalThis<"u"?globalThis:{};function XAe(){if(!N.createContext)return{};const t=uA[lA]??(uA[lA]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var qAe=XAe();function YAe(t){const{children:e,context:n,serverState:r,store:i}=t,s=N.useMemo(()=>{const l=zAe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=N.useMemo(()=>i.getState(),[i]);GAe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||qAe;return N.createElement(a.Provider,{value:s},e)}var KAe=YAe,ZAe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function JAe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function QAe(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ZAe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!$Ae(t[r],e[r]))return!1}else if(!JAe(t[r],e[r]))return!1;return!0}var eTe=(t,e)=>e,tN=oe([eTe,Tn,C$,Er,p7,du,Qwe,kr],rbe),nN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},eX=Os("mouseClick"),tX=Hg();tX.startListening({actionCreator:eX,effect:(t,e)=>{var n=t.payload,r=tN(e.getState(),nN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(rwe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HC=Os("mouseMove"),nX=Hg(),Py=null;nX.startListening({actionCreator:HC,effect:(t,e)=>{var n=t.payload;Py!==null&&cancelAnimationFrame(Py);var r=nN(n);Py=requestAnimationFrame(()=>{var i=e.getState(),s=e7(i,i.tooltip.settings.shared);if(s==="axis"){var o=tN(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(s7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(i7())}Py=null})}});function tTe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var JB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rX=zi({name:"rootProps",initialState:JB,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:JB.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),nTe=rX.reducer,{updateOptions:rTe}=rX.actions,iTe=null,sTe={updatePolarOptions:(t,e)=>e.payload},iX=zi({name:"polarOptions",initialState:iTe,reducers:sTe}),{updatePolarOptions:oTe}=iX.actions,aTe=iX.reducer,sX=Os("keyDown"),oX=Os("focus"),rN=Hg();rN.startListening({actionCreator:sX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=VI(i,wh(n),e0(n),r0(n)),a=o==null?-1:Number(o);if(!(!Number.isFinite(a)||a<0)){var l=du(n);if(s==="Enter"){var u=b1(n,"axis","hover",String(i.index));e.dispatch(VC({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=YSe(n),f=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=a+h*f;if(!(l==null||m>=l.length||m<0)){var g=b1(n,"axis","hover",String(m));e.dispatch(VC({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});rN.startListening({actionCreator:oX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=b1(n,"axis","hover",String(s));e.dispatch(VC({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var xs=Os("externalEvent"),aX=Hg(),cA=new Map;aX.startListening({actionCreator:xs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=cA.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var a=e.getState(),l={activeCoordinate:Wwe(a),activeDataKey:v7(a),activeIndex:cg(a),activeLabel:g7(a),activeTooltipIndex:cg(a),isTooltipActive:Gwe(a)};n(l,r)}finally{cA.delete(i)}});cA.set(i,o)}}});var lTe=oe([n0],t=>t.tooltipItemPayloads),uTe=oe([lTe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),lX=Os("touchMove"),uX=Hg();uX.startListening({actionCreator:lX,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=e7(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var o=tN(r,nN({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(s7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(e9),f=(a=u.getAttribute(t9))!==null&&a!==void 0?a:void 0,h=Sh(r).find(x=>x.id===f);if(c==null||h==null||f==null)return;var{dataKey:m}=h,g=uTe(r,c,f);e.dispatch(r7({activeDataKey:m,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var cTe=bG({brush:wAe,cartesianAxis:vAe,chartData:Tbe,errorBars:CAe,graphicalItems:VEe,layout:nve,legend:sye,options:bbe,polarAxis:QMe,polarOptions:aTe,referenceElements:MAe,rootProps:nTe,tooltip:iwe,zIndex:vbe}),fTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return T0e({reducer:cTe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([tX.middleware,nX.middleware,rN.middleware,aX.middleware,uX.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(UG({type:"raf"}))},devTools:{serialize:{replacer:tTe},name:"recharts-".concat(n)}})};function dTe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=su(),s=N.useRef(null);if(i)return n;s.current==null&&(s.current=fTe(e,r));var o=CR;return N.createElement(KAe,{context:o,store:s.current},n)}function hTe(t){var{layout:e,margin:n}=t,r=br(),i=su();return N.useEffect(()=>{i||(r(Q0e(e)),r(J0e(n)))},[r,i,e,n]),null}var pTe=N.memo(hTe,QAe);function mTe(t){var e=br();return N.useEffect(()=>{e(rTe(t))},[e,t]),null}function QB(t){var{zIndex:e,isPanorama:n}=t,r=N.useRef(null),i=br();return N.useLayoutEffect(()=>(r.current&&i(mbe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(gbe({zIndex:e,isPanorama:n}))}),[i,e,n]),N.createElement("g",{tabIndex:-1,ref:r})}function e4(t){var{children:e,isPanorama:n}=t,r=mn(sbe);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return N.createElement(N.Fragment,null,i.map(o=>N.createElement(QB,{key:o,zIndex:o,isPanorama:n})),e,s.map(o=>N.createElement(QB,{key:o,zIndex:o,isPanorama:n})))}var gTe=["children"];function vTe(t,e){if(t==null)return{};var n,r,i=yTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(null,arguments)}var xTe={width:"100%",height:"100%",display:"block"},_Te=N.forwardRef((t,e)=>{var n=Vve(),r=jve(),i=oye();if(!Xl(n)||!Xl(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=t,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),N.createElement(BW,P1({},o,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:xTe,ref:e}),s)}),STe=t=>{var{children:e}=t,n=mn(rw);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return N.createElement(BW,{width:r,height:i,x:o,y:s},e)},t4=N.forwardRef((t,e)=>{var{children:n}=t,r=vTe(t,gTe),i=su();return i?N.createElement(STe,null,N.createElement(e4,{isPanorama:!0},n)):N.createElement(_Te,P1({ref:e},r),N.createElement(e4,{isPanorama:!1},n))});function wTe(){var t=br(),[e,n]=N.useState(null),r=mn(gve);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;on(s)&&s!==r&&t(tve(s))}},[e,t,r]),n}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){MTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e,n){return(e=ETe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ETe(t){var e=ATe(t,"string");return typeof e=="symbol"?e:e+""}function ATe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(null,arguments)}var TTe=()=>(kbe(),null);function R1(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var CTe=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[s,o]=N.useState({containerWidth:R1((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:R1((r=t.style)===null||r===void 0?void 0:r.height)}),a=N.useCallback((u,c)=>{o(f=>{var h=Math.round(u),m=Math.round(c);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=N.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();a(c,f);var h=g=>{var x=g[0];if(x!=null){var{width:y,height:v}=x.contentRect;a(y,v)}},m=new ResizeObserver(h);m.observe(u),i.current=m}},[e,a]);return N.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[a]),N.createElement(N.Fragment,null,N.createElement(Gg,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",Ul({ref:l},t)))}),PTe=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=N.useState({containerWidth:R1(n),containerHeight:R1(r)}),o=N.useCallback((l,u)=>{s(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),a=N.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[e,o]);return N.createElement(N.Fragment,null,N.createElement(Gg,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Ul({ref:a},t)))}),RTe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(Gg,{width:n,height:r}),N.createElement("div",Ul({ref:e},t)))}),ITe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?N.createElement(PTe,Ul({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?N.createElement(RTe,Ul({},t,{width:n,height:r,ref:e})):N.createElement(N.Fragment,null,N.createElement(Gg,{width:n,height:r}),N.createElement("div",Ul({ref:e},t)))});function NTe(t){return t?CTe:ITe}var OTe=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:y,width:v,responsive:S,dispatchTouchEvents:w=!0}=t,M=N.useRef(null),E=br(),[T,I]=N.useState(null),[L,P]=N.useState(null),R=wTe(),k=FR(),U=(k==null?void 0:k.width)>0?k.width:v,V=(k==null?void 0:k.height)>0?k.height:i,X=N.useCallback(ie=>{R(ie),typeof e=="function"&&e(ie),I(ie),P(ie),ie!=null&&(M.current=ie)},[R,e,I,P]),Y=N.useCallback(ie=>{E(eX(ie)),E(xs({handler:s,reactEvent:ie}))},[E,s]),K=N.useCallback(ie=>{E(HC(ie)),E(xs({handler:u,reactEvent:ie}))},[E,u]),q=N.useCallback(ie=>{E(i7()),E(xs({handler:c,reactEvent:ie}))},[E,c]),F=N.useCallback(ie=>{E(HC(ie)),E(xs({handler:f,reactEvent:ie}))},[E,f]),$=N.useCallback(()=>{E(oX())},[E]),G=N.useCallback(ie=>{E(sX(ie.key))},[E]),Z=N.useCallback(ie=>{E(xs({handler:o,reactEvent:ie}))},[E,o]),fe=N.useCallback(ie=>{E(xs({handler:a,reactEvent:ie}))},[E,a]),Ee=N.useCallback(ie=>{E(xs({handler:l,reactEvent:ie}))},[E,l]),Ge=N.useCallback(ie=>{E(xs({handler:h,reactEvent:ie}))},[E,h]),ct=N.useCallback(ie=>{E(xs({handler:x,reactEvent:ie}))},[E,x]),ae=N.useCallback(ie=>{w&&E(lX(ie)),E(xs({handler:g,reactEvent:ie}))},[E,w,g]),ye=N.useCallback(ie=>{E(xs({handler:m,reactEvent:ie}))},[E,m]),qe=NTe(S);return N.createElement(ybe.Provider,{value:T},N.createElement(Bme.Provider,{value:L},N.createElement(qe,{width:U??(y==null?void 0:y.width),height:V??(y==null?void 0:y.height),className:xi("recharts-wrapper",r),style:bTe({position:"relative",cursor:"default",width:U,height:V},y),onClick:Y,onContextMenu:Z,onDoubleClick:fe,onFocus:$,onKeyDown:G,onMouseDown:Ee,onMouseEnter:K,onMouseLeave:q,onMouseMove:F,onMouseUp:Ge,onTouchEnd:ye,onTouchMove:ae,onTouchStart:ct,ref:X},N.createElement(TTe,null),n)))}),LTe=["width","height","responsive","children","className","style","compact","title","desc"];function DTe(t,e){if(t==null)return{};var n,r,i=kTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FTe=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:a,compact:l,title:u,desc:c}=t,f=DTe(t,LTe),h=Xd(f);return l?N.createElement(N.Fragment,null,N.createElement(Gg,{width:n,height:r}),N.createElement(t4,{otherAttributes:h,title:u,desc:c},s)):N.createElement(OTe,{className:o,style:a,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(t4,{otherAttributes:h,title:u,desc:c,ref:e},N.createElement(AAe,null,s)))});function UTe(t){var e=br();return N.useEffect(()=>{e(oTe(t))},[e,t]),null}var zTe=["layout"];function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(null,arguments)}function BTe(t,e){if(t==null)return{};var n,r,i=VTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jTe={top:5,right:5,bottom:5,left:5},cX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jTe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},HTe=N.forwardRef(function(e,n){var r,i=ja(e.categoricalChartProps,cX),{layout:s}=i,o=BTe(i,zTe),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,f={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return N.createElement(dTe,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},N.createElement(SAe,{chartData:i.data}),N.createElement(pTe,{layout:s,margin:i.margin}),N.createElement(mTe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(UTe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(FTe,WC({},o,{ref:n})))});function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){WTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WTe(t,e,n){return(e=GTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GTe(t){var e=$Te(t,"string");return typeof e=="symbol"?e:e+""}function $Te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XTe=["item"],qTe=i4(i4({},cX),{},{layout:"centric",startAngle:0,endAngle:360}),YTe=N.forwardRef((t,e)=>{var n=ja(t,qTe);return N.createElement(HTe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:XTe,tooltipPayloadSearcher:Sbe,categoricalChartProps:n,ref:e})});function KTe(){const{reportId:t}=RV(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const c=await no.get(`/reports/${t}`);n(c.data)}catch(c){console.error("  :",c)}finally{i(!1)}})()},[t]);const a=()=>{navigator.clipboard.writeText(window.location.href),o(!0),setTimeout(()=>o(!1),2e3)};if(r)return C.jsxs("div",{className:"h-screen bg-[#050505] flex flex-col items-center justify-center font-sans overflow-hidden",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"w-24 h-24 border-2 border-blue-500/10 rounded-full"}),C.jsx("div",{className:"absolute top-0 w-24 h-24 border-t-2 border-blue-500 rounded-full animate-spin"}),C.jsx(Pa,{className:"absolute inset-0 m-auto text-blue-500 animate-pulse",size:32})]}),C.jsx("span",{className:"mt-8 tracking-[0.5em] text-[10px] text-blue-500 uppercase font-black animate-pulse",children:"Decrypting Protocol..."})]});if(!e)return C.jsxs("div",{className:"h-screen bg-[#050505] flex flex-col items-center justify-center text-white p-6 text-center",children:[C.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-3xl flex items-center justify-center text-red-500 mb-8 border border-red-500/20 shadow-[0_0_50px_rgba(239,68,68,0.1)]",children:C.jsx(pQ,{size:40})}),C.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter italic mb-2",children:"Protocol Expired"}),C.jsxs("p",{className:"text-zinc-500 font-mono text-[10px] uppercase tracking-widest",children:["Hash ID: ",t==null?void 0:t.substring(0,16)," not found"]}),C.jsx(DV,{to:"/",className:"mt-10 px-10 py-4 bg-white text-black font-black rounded-full uppercase text-[10px] tracking-widest hover:scale-105 transition-transform",children:"Return to Core"})]});const l=(e.originality||0)<50;return C.jsxs("div",{className:"min-h-screen bg-[#050505] text-zinc-400 font-sans selection:bg-blue-500 selection:text-white",children:[C.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none -z-10",children:[C.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 blur-[150px] rounded-full"}),C.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[40%] h-[40%] bg-indigo-600/5 blur-[120px] rounded-full"})]}),C.jsx("header",{className:"sticky top-0 z-[100] bg-black/60 backdrop-blur-2xl border-b border-white/5 h-20",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-full flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("div",{className:"w-10 h-10 bg-white text-black rounded-xl flex items-center justify-center shadow-[0_0_20px_rgba(255,255,255,0.1)]",children:C.jsx(Pa,{size:20})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"font-black text-lg tracking-tighter text-white uppercase italic leading-none",children:"QAZZEREP"}),C.jsx("span",{className:"text-[9px] font-black text-blue-500 uppercase tracking-widest mt-1",children:"Trust Protocol v2.0"})]})]}),C.jsx("div",{className:"flex items-center gap-3",children:C.jsxs("button",{onClick:a,className:`flex items-center gap-3 px-6 py-2.5 rounded-full border text-[9px] font-black uppercase tracking-widest transition-all duration-300 ${s?"bg-emerald-500 border-emerald-500 text-white":"bg-white/5 border-white/10 hover:border-white/20 text-white"}`,children:[s?C.jsx(qP,{size:14}):C.jsx(dj,{size:14}),C.jsx("span",{className:"hidden sm:inline",children:s?"Copied":"Copy Proof Link"})]})})]})}),C.jsxs("main",{className:"p-6 md:p-12 max-w-7xl mx-auto w-full space-y-8",children:[C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"lg:col-span-2 bg-[#0c0c0c] border border-white/5 rounded-[40px] p-10 flex flex-col md:flex-row items-center gap-12 relative overflow-hidden group shadow-2xl",children:[C.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.02] group-hover:opacity-[0.05] transition-opacity",children:C.jsx(wg,{size:200})}),C.jsxs("div",{className:"w-56 h-56 relative shrink-0",children:[C.jsx(Bve,{width:"100%",height:"100%",children:C.jsx(YTe,{children:C.jsxs(Y7,{data:[{value:e.originality},{value:100-e.originality}],innerRadius:75,outerRadius:95,stroke:"none",dataKey:"value",startAngle:90,endAngle:450,children:[C.jsx(fg,{fill:l?"#ef4444":"#10b981",shadow:"0 0 20px rgba(16,185,129,0.5)"}),C.jsx(fg,{fill:"#ffffff",opacity:.03})]})})}),C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[C.jsxs("span",{className:`text-5xl font-black italic tracking-tighter ${l?"text-red-500":"text-emerald-500"}`,children:[e.originality,"%"]}),C.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 tracking-[0.2em] mt-1",children:"Similarity"})]})]}),C.jsxs("div",{className:"relative z-10 flex-1 space-y-6",children:[C.jsxs("div",{children:[C.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.3em] mb-2 block",children:"Official Verification"}),C.jsxs("h2",{className:"text-3xl md:text-4xl font-medium text-white uppercase italic tracking-tighter leading-tight",children:["Report Integrity ",C.jsx("br",{}),"Node #",t.substring(0,8)]})]}),C.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed max-w-md font-light",children:l?"Critical level of similarity detected. The document contains high-volume matches with existing sources and requires immediate review.":"Verification successful. The level of originality meets the strict standards of academic and professional integrity protocols."}),C.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.jsx(s4,{label:"Hash Verified",icon:C.jsx(_Q,{size:10}),active:!0}),C.jsx(s4,{label:"Immutable Trace",icon:C.jsx(Ec,{size:10})})]})]})]}),C.jsxs("div",{className:"bg-[#0c0c0c] border border-white/5 rounded-[40px] p-10 flex flex-col items-center justify-center shadow-2xl group hover:border-white/10 transition-all",children:[C.jsxs("div",{className:"relative mb-6",children:[C.jsx("div",{className:"absolute -inset-4 bg-blue-500/10 blur-xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity"}),C.jsx("div",{className:"relative p-4 bg-white rounded-[2rem] shadow-[0_20px_40px_rgba(0,0,0,0.5)] transform group-hover:scale-105 transition-transform duration-500",children:C.jsx(C2,{value:window.location.href,size:140,level:"H"})})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.4em] block mb-1",children:"Authentic Origin"}),C.jsxs("span",{className:"text-[8px] font-mono text-zinc-600 uppercase",children:["Timestamp: ",new Date().toLocaleDateString()]})]})]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{doc:e.docA,label:"Document Source A"},{doc:e.docB,label:"Document Source B"}].map((u,c)=>{var f,h,m,g;return C.jsxs("div",{className:"bg-[#0c0c0c] border border-white/5 rounded-[32px] p-8 flex flex-col justify-between hover:bg-white/[0.01] transition-colors",children:[C.jsxs("div",{className:"flex justify-between items-start mb-8",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("span",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:u.label}),C.jsx("h4",{className:"text-white font-medium truncate max-w-[200px] italic",children:u.doc.name})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("span",{className:`text-2xl font-black italic ${((f=u.doc.ai)==null?void 0:f.score)>60?"text-red-500":"text-emerald-500"}`,children:[(h=u.doc.ai)==null?void 0:h.score,"%"]}),C.jsx("span",{className:"block text-[8px] font-black uppercase text-zinc-500 tracking-widest",children:"AI Probability"})]})]}),C.jsx("div",{className:"space-y-3",children:C.jsx("div",{className:"h-1 w-full bg-white/5 rounded-full overflow-hidden",children:C.jsx("div",{className:`h-full transition-all duration-1000 ease-out shadow-[0_0_10px] ${((m=u.doc.ai)==null?void 0:m.score)>60?"bg-red-500 shadow-red-500/20":"bg-emerald-500 shadow-emerald-500/20"}`,style:{width:`${(g=u.doc.ai)==null?void 0:g.score}%`}})})})]},c)})}),C.jsxs("div",{className:"pt-10 space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-6 px-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),C.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-[0.4em]",children:"Comparison Archive"})]}),C.jsx("div",{className:"flex-grow h-[1px] bg-white/5"})]}),C.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 min-h-[600px]",children:[e.docA,e.docB].map((u,c)=>C.jsxs("div",{className:"flex flex-col bg-[#0c0c0c] border border-white/5 rounded-[40px] overflow-hidden shadow-2xl",children:[C.jsxs("div",{className:"px-8 py-5 bg-white/[0.02] border-b border-white/5 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(YP,{className:"text-zinc-600",size:14}),C.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest truncate max-w-[250px] italic",children:u.name})]}),C.jsxs("span",{className:"text-[8px] font-black bg-white/5 text-zinc-400 px-3 py-1.5 rounded-full border border-white/10 uppercase tracking-tighter",children:["Layer 0",c+1]})]}),C.jsx("div",{className:"flex-1 p-10 md:p-14 overflow-y-auto text-zinc-400 leading-[1.8] text-[15px] font-light custom-scrollbar",dangerouslySetInnerHTML:{__html:u.html}})]},c))})]})]}),C.jsx("footer",{className:"py-20 text-center opacity-30",children:C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.5em]",children:"Securely Processed by QazZerep Neural Engine"})}),C.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.05); border-radius: 10px; }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #3b82f6; }
                
                .diff-match { 
                    color: #ef4444; 
                    background: rgba(239, 68, 68, 0.05); 
                    padding: 2px 0;
                    border-bottom: 1px solid rgba(239, 68, 68, 0.2);
                    border-radius: 2px;
                }
                
                .diff-changed { 
                    color: #fbbf24; 
                    border-bottom: 1px dashed rgba(251, 191, 36, 0.4); 
                }

                @keyframes fade-in-up {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                
                main > div {
                    animation: fade-in-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
            `})]})}function s4({label:t,icon:e,active:n=!1}){return C.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full border text-[9px] font-black uppercase tracking-widest transition-all ${n?"bg-blue-500/10 border-blue-500/20 text-blue-500":"bg-white/5 border-white/10 text-zinc-500"}`,children:[e,t]})}function o4({children:t,adminOnly:e=!1}){const{token:n,user:r}=aj();return n?e&&(r==null?void 0:r.sub)!=="admin@qazzerep.kz"?C.jsx(K3,{to:"/"}):t:C.jsx(K3,{to:"/login"})}function ZTe(){return C.jsx(sQ,{children:C.jsxs(xZ,{children:[C.jsx(Vf,{path:"/login",element:C.jsx(Aie,{})}),C.jsx(Vf,{path:"/:slug",element:C.jsx(Rme,{})}),C.jsx(Vf,{path:"/verify/:reportId",element:C.jsx(KTe,{})}),C.jsx(Vf,{path:"/",element:C.jsx(o4,{children:C.jsx(Ame,{})})}),C.jsx(Vf,{path:"/admin",element:C.jsx(o4,{adminOnly:!0,children:C.jsx(Pme,{})})})]})})}const{slice:JTe,forEach:QTe}=[];function eCe(t){return QTe.call(JTe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function tCe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const a4=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,nCe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!a4.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!a4.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},l4={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=nCe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var rCe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return l4.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&l4.create(n,t,r,i,s)}},iCe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(n=o[a].substring(l+1))}}return n}},sCe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(e){const a=o.split("&");for(let l=0;l<a.length;l++){const u=a[l].indexOf("=");u>0&&a[l].substring(0,u)===e&&(r=a[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const a=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(i=a[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let zf=null;const u4=()=>{if(zf!==null)return zf;try{if(zf=typeof window<"u"&&window.localStorage!==null,!zf)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{zf=!1}return zf};var oCe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&u4())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&u4()&&window.localStorage.setItem(n,t)}};let Bf=null;const c4=()=>{if(Bf!==null)return Bf;try{if(Bf=typeof window<"u"&&window.sessionStorage!==null,!Bf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Bf=!1}return Bf};var aCe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&c4())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&c4()&&window.sessionStorage.setItem(n,t)}},lCe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},uCe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},cCe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},fCe={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let fX=!1;try{document.cookie,fX=!0}catch{}const dX=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];fX||dX.splice(1,1);const dCe=()=>({order:dX,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class hX{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=eCe(n,this.options||{},dCe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(rCe),this.addDetector(iCe),this.addDetector(oCe),this.addDetector(aCe),this.addDetector(lCe),this.addDetector(uCe),this.addDetector(cCe),this.addDetector(fCe),this.addDetector(sCe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!tCe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}hX.type="languageDetector";vi.use(hX).use(ise).init({resources:{rus:{translation:{roadmap:{title:" ",year:"2026",active_status:" ",q1:{title:"  AI ",items:["   QazZerep v2.0","    "," 3D-"]},q2:{title:" ",items:["    ","   (KZ, RU, EN, TR)","API   "]},q3:{title:" ",items:["  ","Blockchain- ","   "]},q4:{title:" ",items:["Self-learning AI ()","  ","   "]}},auth:{login_title:"",login_btn:"  ",email_label:"System Email",pass_label:"Access Key",terminal_version:"Secure Terminal v2.4",no_account:" ?",create_id:" ID ",error_invalid:"ACCESS_DENIED:  "},nav:{check:"",history:"",account:"",roadmap:" 2026"},settings:{language:" ",theme:" "},dash:{title_new:" ",subtitle_new:"   ",title_history:" ",subtitle_history:"   ",btn_reset:"   "},upload:{title:"  ",formats:" PDF, DOCX  TXT",selected:"",btn_start:" "},report:{title:" ",match_label:"",source_a:" ",target_b:" ",ai_prob:" ",copied:""},profile:{title:" ",save_btn:"",syncing:"",config_synced:"_",upload_failed:"_",avatar_updated:"_",public_name:" ",contact_email:" Email",node_active:" ",cloud_sync:"    ",detectors:" ",ignore_quotes:" ",smart_quotes:"  ",change_pass:" ",logout:"  ",rules:{gost:" ()",apa:" (APA/MLA)",tables:"  ",titles:" "}},footer:{description:"      .",engine_name:" -",sections:{nav:{title:""},legal:{title:" "},support:{title:""}}},info:{back:"",version_desc:"      QazZerep  2.4.0.",copyright:" 2026  ",categories:{architecture:" ",methodology:" ",privacy:"",legal:" ",technical:" ",manual:"",channels:" "},pages:{doc:{title:"Documentation"},base:{title:"Global Index"},priv:{title:"Security Protocol"},terms:{title:"Terms of Use"},cookie:{title:"Cookie Policy"},help:{title:"Support Center"},contacts:{title:"Contact Nodes"}},content:{doc:{items:[{t:"PyMuPDF (fitz) Stream Engine",d:"    fitz       PDF.      ,    ."},{t:" K-Shingling",d:"     .  k=3..9       ,    ."},{t:"MD5 Fingerprinting",d:" 128-  .         RAM."},{t:"  ",d:"     ,     ."},{t:"Batch Cross-Check (O(n))",d:"            ."},{t:"Asynchronous FastAPI Backend",d:"   Python asyncio         ."},{t:"Neural Highlight Engine",d:"  CSS-: .diff-match  ,  .diff-rewrite   ."},{t:"RAM-Only Processing",d:"    .    ,     ."}]},base:{items:[{t:"  ",d:"          ."},{t:"Open Access Crawling",d:"  arXiv.org, Google Scholar  ResearchGate     ."},{t:"KazNet Deep Index",d:"  QazBot  .         ."},{t:"Cross-Language Mapping",d:"           /."},{t:"GitHub & Code Analysis",d:"   (50+ )        ."},{t:"AI Content Patterns",d:"        (GPT-4, Claude)."}]},priv:{items:[{t:"  ",d:"      -    ."},{t:" AES-GCM-256",d:"      .     ."},{t:"Stateless ",d:"       .    ."},{t:"JWT-",d:"      ,    ."},{t:"ISO 27001 Compliance",d:"       ."},{t:"  ",d:"        ,    ."}]},terms:{items:[{t:" ",d:"    .       ."},{t:" ",d:"  QazZerep.      ."},{t:" ",d:"         ."},{t:" ",d:"   .    100%    -."}]},cookie:{items:[{t:"Session Persistence",d:"    JWT-,      ."},{t:"Security Tokens",d:"-        ."},{t:"Zero Third-Party Tracking",d:"    .      ."},{t:"LocalStorage Usage",d:"           ."}]},help:{items:[{t:"  ",d:" PDF   .     Anti-OCR."},{t:" ",d:"80%+  .  50%   ,   ."},{t:" ",d:"    50MB.  Big Data    ."}]},contacts:{items:[{t:"Telegram Support",d:" : @brjxjxjd (   5 )."},{t:"Phone Hotline",d:"    : +7 (777) 123-45-67 (24/7)."}]}}}}},kaz:{translation:{roadmap:{title:" ",year:"2026",active_status:" ",q1:{title:"  AI ",items:["QazZerep v2.0    ","   ","3D  "]},q2:{title:" ",items:["    ","   (KZ, RU, EN, TR)","   API"]},q3:{title:" ",items:["   "," Blockchain  ","    "]},q4:{title:" ",items:["Self-learning AI (- )","  ","   "]}},auth:{login_title:"",login_btn:" ",email_label:"System Email",pass_label:"Access Key",terminal_version:"Secure Terminal v2.4",no_account:"   ?",create_id:" ID- ",error_invalid:"ACCESS_DENIED:  "},nav:{check:"",history:"",account:"",roadmap:" "},settings:{language:" ",theme:" "},dash:{title_new:" ",subtitle_new:"   ",title_history:" ",subtitle_history:"  ",btn_reset:"   "},upload:{title:"   ",formats:"PDF, DOCX  TXT ",selected:"",btn_start:" "},report:{title:" ",match_label:"",source_a:" ",target_b:" ",ai_prob:" ",copied:""},profile:{title:" ",save_btn:"",syncing:"",config_synced:"_",upload_failed:"_",avatar_updated:"_",public_name:"  ",contact_email:" Email-",node_active:" ",cloud_sync:"   ",detectors:" ",ignore_quotes:" ",smart_quotes:"  ",change_pass:"  ",logout:" ",rules:{gost:" ()",apa:" (APA/MLA)",tables:"",titles:" "}},footer:{description:"      .",engine_name:"- ",sections:{nav:{title:""},legal:{title:" "},support:{title:""}}},info:{back:"",version_desc:"QazZerep 2.4.0  -    .",copyright:" 2026  ",categories:{architecture:" ",methodology:" ",privacy:"",legal:" ",technical:" ",manual:"",channels:" "},pages:{doc:{title:""},base:{title:" "},priv:{title:" "},terms:{title:" "},cookie:{title:"Cookie "},help:{title:" "},contacts:{title:" "}},content:{doc:{items:[{t:"PyMuPDF (fitz) Stream Engine",d:" PDF         fitz  .     ."},{t:" K-Shingling",d:"        ."},{t:"MD5 Fingerprinting",d:"RAM-      128   ."},{t:"  ",d:"           ."},{t:"Batch Cross-Check",d:"           ."},{t:"RAM-Only Processing",d:"   .     ."}]},base:{items:[{t:"-  ",d:"          ."},{t:"Open Access Crawling",d:"    arXiv.org, Google Scholar  ResearchGate  ."},{t:"KazNet Deep Index",d:" QazBot     /    ."},{t:"Cross-Language Mapping",d:"  /      ."}]}}}}},eng:{translation:{roadmap:{title:"Project Roadmap",year:"2026",active_status:"Active Development",q1:{title:"Foundation & AI Core",items:["QazZerep v2.0 Neural Core Launch","Local Database Integration","3D Interface Update"]},q2:{title:"Multi-Format Analysis",items:["Video & Audio Analysis Support","LLM Expansion (KZ, RU, EN, TR)","Enterprise API Access"]},q3:{title:"Global Connectivity",items:["Mobile App Launch (iOS/Android)","Blockchain Report Verification","University Partnerships in RK"]},q4:{title:"Autonomous Ecosystem",items:["Self-learning AI Implementation","Academic Trend Prediction","Global Archive Search"]}},auth:{login_title:"Authorization",login_btn:"Login to System",email_label:"System Email",pass_label:"Access Key",terminal_version:"Secure Terminal v2.4",no_account:"No access?",create_id:"Create Node ID",error_invalid:"ACCESS_DENIED: INVALID CREDENTIALS"},nav:{check:"Verification",history:"History",account:"Account",roadmap:"Roadmap"},settings:{language:"System Language",theme:"Visual Theme"},dash:{title_new:"Document Sync",subtitle_new:"Intelligent text similarity analysis",title_history:"Audit Archive",subtitle_history:"History of your previous scans",btn_reset:"Reset Core"},upload:{title:"Drop layers here",formats:"PDF, DOCX, TXT supported",selected:"Active",btn_start:"Execute Analysis"},report:{title:"Analysis Report",match_label:"Similarity",source_a:"Source A",target_b:"Source B",ai_prob:"AI Probability",copied:"Copied"},profile:{title:"Node Settings",save_btn:"Save Config",syncing:"Syncing",config_synced:"CONFIG_SYNCED",upload_failed:"UPLOAD_FAILED",avatar_updated:"AVATAR_UPDATED",public_name:"Public Name",contact_email:"Contact Email",node_active:"Node Active",cloud_sync:"Cloud Core Sync Active",detectors:"Detectors",ignore_quotes:"Ignore Quotes",smart_quotes:"Smart Quotes",change_pass:"Password",logout:"Logout",rules:{gost:"GOST Lit",apa:"APA/MLA",tables:"Tables",titles:"Titles"}},footer:{description:"Automated system for intelligent reconciliation of protocols and documentation.",engine_name:"Intellect-Sverka Engine",sections:{nav:{title:"Navigator"},legal:{title:"Legal Node"},support:{title:"Support"}}},info:{back:"Return",version_desc:"Detailed specifications and operational protocols for QazZerep v2.4.0.",copyright:" 2026 Core Infrastructure",categories:{architecture:"System Architecture",methodology:"Data Methodology",privacy:"Data Privacy",legal:"Legal Framework",technical:"Technical Session",manual:"User Manual",channels:"Direct Channels"},pages:{doc:{title:"Documentation"},base:{title:"Global Index"},priv:{title:"Security Protocol"},terms:{title:"Terms of Use"},cookie:{title:"Cookie Policy"},help:{title:"Support Center"},contacts:{title:"Contact Nodes"}},content:{doc:{items:[{t:"PyMuPDF (fitz) Stream Engine",d:"Core uses high-performance fitz library for direct access to PDF binary structures. Text is extracted as byte stream."},{t:"Dynamic K-Shingling",d:"Algorithm splits text into overlapping sequences to detect smart rewriting."},{t:"MD5 Fingerprinting",d:"128-bit segment hashing for digital signature matching in RAM."},{t:"Jaccard Similarity Index",d:"Mathematical model for calculating hash set intersections, ensuring reference uniqueness accuracy."},{t:"Asynchronous FastAPI Backend",d:"Asynchrony based on Python asyncio supports stable ping even when analyzing heavy data arrays."},{t:"RAM-Only Processing",d:"Computations occur in volatile memory. Objects are destroyed post-session."}]},base:{items:[{t:"Local University Archive",d:"Centralized database of all uploaded works by RK students to detect horizontal plagiarism."},{t:"Open Access Crawling",d:"Indexing of arXiv.org, Google Scholar, and ResearchGate repositories for search in scientific publications."},{t:"KazNet Deep Index",d:"Proprietary QazBot robot indexes government portals and dissertation archives."},{t:"AI Content Patterns",d:"Statistical analysis of texts for signs of generation by neural networks (GPT-4, Claude)."}]}}}}}},fallbackLng:"rus",interpolation:{escapeValue:!1}});fA.createRoot(document.getElementById("root")).render(C.jsx(sn.StrictMode,{children:C.jsx(AZ,{children:C.jsx(ZTe,{})})}));
